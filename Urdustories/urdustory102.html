<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>خاموش لمحے</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="urdustyle.css" />

  <style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
</head>
<body>

  <!-- Back to Urdu Stories -->
  <a class="back-link" href="index.html">← تمام اردو کہانیاں</a>

  <article class="story-container">
    <header class="story-header">
      <h1 class="story-title">خاموش لمحے</h1>
      <p class="story-meta">13 اکتوبر 2025 • تحریر: عبدالسمیع</p>
      <div class="story-tags"><span>تنہائی</span><spanیادیں></span><span>دل</span></div>
      <img class="urdu-featured-image" src="https://media.istockphoto.com/id/2178146575/photo/autumn-twilight-after-rain-in-the-city-park-landscape-natural-plantings-reflection.webp?a=1&b=1&s=612x612&w=0&k=20&c=pgdf1MLIQe82d8AOQOiijSqNk8SOKKrSxHC3g-SL4Pg=" alt="یک سنسان پارک، خالی جھولے، اور مدھم روشنی میں ایک شخص خاموش بیٹھا ہوا —
ہوا میں پتے ہلکے سے سرسراہٹ پیدا کر رہے ہیں۔" loading="eager" />
    </header>

    <main class="story-content">

<p> رات کے بارہ بجے، پارک میں صرف ایک شخص تھا — **فہیم**۔ وہ بینچ پر بیٹھا، ہاتھ میں ایک خالی ڈائری پکڑے، اور نیچے دیکھ کر سوچ رہا تھا۔ ہر طرف خاموشی تھی، لیکن دل میں شور مچا ہوا تھا۔ </p> <p> ہر قدم جو فہیم نے اٹھایا، پچھلے لمحے کی یادیں پیچھا کرتی رہیں — وہ بچپن کی ہنسی، دوستوں کی باتیں، اور ایک گزرے ہوئے پیار کی خوشبو۔ ان یادوں نے اسے کبھی خوش کیا، کبھی رلا دیا۔ </p> <p> ایک ہلکی ہوا آئی، اور درختوں کے پتوں کی سرسراہٹ نے ایسا احساس دلایا جیسے کوئی پرانا دوست خاموشی میں بات کر رہا ہو۔ فہیم نے آنکھیں بند کیں، دل کے شور کو سننے کی کوشش کی۔ "کاش میں پھر سے وہ لمحے جیتا پاتا..." اس نے دل میں کہا۔ </p> <p> مگر یادوں نے جواب دیا، "ہمیں واپس نہیں لایا جا سکتا، لیکن تم ہمارے ساتھ جیتے ہو۔" فہیم نے محسوس کیا کہ ہر درد، ہر خوشی، ہر لمحہ اس کا حصہ ہے۔ خاموش لمحے بھی کبھی کبھار سب کچھ کہہ جاتے ہیں۔ </p> <p> رات گہری ہوئی، اور فہیم نے ڈائری بند کی۔ وہ سمجھ گیا کہ یادیں بھلے پرانی ہوں، مگر ان کا اثر ہمیشہ زندہ رہتا ہے۔ اور سب سے بڑی بات یہ تھی کہ خاموش لمحے کبھی ضائع نہیں ہوتے — وہ دل کے سب سے چھپے گوشوں میں رہتے ہیں، اور کبھی کبھار سب کچھ واضح کر دیتے ہیں۔ </p> <p> <strong>مفہوم / عکاسی:</strong><br> “خاموش لمحے” ہمیں یہ سکھاتی ہے کہ زندگی میں جو یادیں اور احساسات رہ جاتے ہیں، وہ کبھی ضائع نہیں ہوتے۔ کبھی خاموش رہ کر بھی وہ ہمیں سبق دیتے ہیں، دل کی گہرائیوں میں گونجتے ہیں، اور ہمیں یہ یاد دلاتے ہیں کہ ہر لمحہ ہماری شخصیت کا حصہ بنتا ہے۔ 🌙 </p>

      <p class="end-note">— اختتام —</p>
    </main>

    <div class="story-nav">
      <a href="urdustory101.html" class="nav-button">← پچھلی کہانی</a>
      <a href="urdustory103.html" class="nav-button">اگلی کہانی →</a>
    </div>
  </article>

  <!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/your-form-id" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

  <footer class="urdu-footer">
  <p>© 2025 Daily Pixel۔ جملہ حقوق محفوظ ہیں۔</p>
</footer>

  <script src="../js/storyFeatures.js"></script>

  <script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
</body>
</html>
