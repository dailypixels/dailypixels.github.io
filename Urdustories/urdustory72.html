<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>گمشدہ چابی</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="urdustyle.css" />
</head>
<body>

  <!-- Back to Urdu Stories -->
  <a class="back-link" href="index.html">← تمام اردو کہانیاں</a>

  <article class="story-container">
    <header class="story-header">
      <h1 class="story-title">گمشدہ چابی</h1>
      <p class="story-meta">16 اکتوبر، 2025 • تحریر: مہراب قریشی</p>

      <div class="story-tags">
        <span>راز</span>
        <span>تجسس</span>
        <span>پرانی عمارت</span>
      </div>

      <img
        class="urdu-featured-image"
        src="https://media.istockphoto.com/id/905159652/photo/vintage-key-and-hours-of-an-old-sample-lie-on-a-wooden-background-copy-space.webp?a=1&b=1&s=612x612&w=0&k=20&c=2HIAMBFgU9hfObpeS2KxpRYKyha_9DYpj6HmtChaFTY="
        alt="ایک پرانی لکڑی کی چابی، زنگ آلود تالا، اور مدھم روشنی میں دھندلا ہوا کمرہ۔"
        loading="eager"
      />
    </header>

    <main class="story-content">
      <p>
  لاہور کے پرانے علاقے میں ایک عمارت تھی، “حویلی دارالسلام” —  
  ٹوٹی دیواریں، جھولتے دروازے، اور خاموشی جو صدیوں کی لگتی تھی۔  
  لوگ کہتے تھے، وہاں رات کے بعد کسی کے قدموں کی چاپ سنائی دیتی ہے۔  
  مگر کوئی کبھی وہاں ٹھہرا نہیں۔  
</p>

<p>
  ایک دن “احمد” نامی نوجوان تاریخ دان وہاں تحقیق کے لیے گیا۔  
  اس کے ہاتھ میں ایک پرانی ڈائری تھی، جس پر صرف ایک لفظ لکھا تھا:  
  “چابی”۔  
  اس نے سوچا — شاید یہ کسی خزانے کا ذکر ہے۔  
</p>

<p>
  اندر داخل ہوتے ہی فضا بوجھل ہو گئی۔  
  دیواروں پر پرانے فریموں میں دھندلے چہرے تھے۔  
  احمد نے ایک دروازہ کھولا —  
  اندر صرف گرد، پرانے کاغذ، اور ایک چھوٹی لکڑی کی الماری تھی۔  
  الماری کے نچلے خانے میں ایک پرانی چابی پڑی تھی،  
  جس پر “1857” کندہ تھا۔  
</p>

<p>
  رات گہری ہوئی تو وہیں رک گیا۔  
  باہر ہوا چل رہی تھی، اور شمع کی لو کانپ رہی تھی۔  
  اچانک الماری کے پاس سے آہٹ آئی۔  
  اس نے مڑ کر دیکھا — دروازہ خود بخود بند ہو چکا تھا۔  
</p>

<p>
  پھر ایک مدھم آواز سنائی دی،  
  “چابی واپس کرو…”  
  احمد کا دل تیز دھڑکنے لگا۔  
  اس نے چابی جیب میں ڈالی اور باہر بھاگنے لگا، مگر دروازہ کھل نہیں رہا تھا۔  
  دیوار کے کونے میں اسے ایک لکڑی کا تختہ ہلتا ہوا نظر آیا۔  
  اس نے اٹھا کر دیکھا — نیچے ایک پرانی قبر۔  
  قبر پر لکھا تھا: “زینت فاطمہ — محافظِ رازِ دارالسلام”  
</p>

<p>
  احمد نے کانپتے ہاتھوں سے چابی قبر پر رکھ دی۔  
  اچانک خاموشی چھا گئی — جیسے وقت رک گیا ہو۔  
  شمع کی لو سیدھی ہو گئی۔  
  دروازہ خود بخود کھل گیا۔  
</p>

<p>
  اگلی صبح جب وہ باہر نکلا،  
  حویلی کے دروازے پر ایک تختی لگی تھی جو کل نہیں تھی —  
  اس پر لکھا تھا:  
  “جو چابی چراتا ہے، وہ اپنی نیند کھو دیتا ہے۔”  
</p>

<p>
  احمد آج بھی زندہ ہے،  
  مگر تب سے ایک بات کبھی کسی کو نہیں بتاتا —  
  اس کی جیب میں آج بھی وہی چابی موجود ہے۔  
</p>

<p>
  <strong>مفہوم / عکاسی:</strong><br>
  *گمشدہ چابی* صرف ایک کہانی نہیں،  
  بلکہ یاد دہانی ہے کہ بعض راز ماضی میں دفن رہنے کے لیے ہوتے ہیں۔  
  ہر قفل خزانے کا نہیں ہوتا —  
  کچھ قفل سکون کے دروازے پر لگے ہوتے ہیں۔  
</p>

      <p class="end-note">— اختتام —</p>
        <style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>



    </main>

    <nav class="story-nav">
      <a class="nav-button" href="urdustory71.html">← پچھلی کہانی</a>
      <a class="nav-button" href="urdustory73.html">اگلی کہانی →</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>

<footer class="urdu-footer">
  <p>© 2025 Daily Pixel۔ جملہ حقوق محفوظ ہیں۔</p>
</footer>

</body>
</html>
