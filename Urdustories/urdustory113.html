<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>پردہ گر گیا</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="urdustyle.css" />

  <style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
</head>
<body>

  <!-- Back to Urdu Stories -->
  <a class="back-link" href="index.html">← تمام اردو کہانیاں</a>

  <article class="story-container">
    <header class="story-header">
      <h1 class="story-title">پردہ گر گیا</h1>
      <p class="story-meta">20 اکتوبر 2025 • تحریر: فواد اشرف</p>
      <div class="story-tags"><span>انجام</span><span>اداکار</span><span>اسٹیج</span></div>
      <img class="urdu-featured-image" src="https://images.unsplash.com/photo-1615754890634-69ac8bca7189?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fEFuJTIwZW1wdHklMjBzdGFnZSUyQyUyMGElMjBmYWxsaW5nJTIwY3VydGFpbiUyQyUyMGFuZCUyMHRoZSUyMGFjdG9yJTIwc3RhbmRpbmclMjBhbWlkc3QlMjB0aGUlMjBsaWdodHMlMjB3aG8lMjBoYXMlMjBmb3Jnb3R0ZW4lMjBoaXMlMjBsaW5lcy58ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60&w=500" alt="ایک خالی اسٹیج، گرنے والا پردہ،
اور روشنی کے بیچ کھڑا وہ اداکار جو اپنے مکالمے بھول چکا ہے۔" loading="eager" />
    </header>

    <main class="story-content">
        <p> تھیٹر ہال میں شور تھا۔ لوگ تالیاں بجا رہے تھے۔ ڈرامے کا آخری منظر شروع ہونے والا تھا — جہاں ہیرو کو مرنا تھا۔ پردے کے پیچھے **ارسلان** کھڑا تھا، چہرے پر میک اپ، مگر آنکھوں میں تھکن۔ </p> <p> ڈائریکٹر کی آواز گونجی، “تیار ہو جاؤ، یہی سین تمہاری زندگی بدل دے گا!” ارسلان نے آہستہ کہا، “زندگی... یا انجام؟” </p> <p> اسٹیج پر روشنی پڑی، اس نے قدم بڑھایا، تلوار اٹھائی، اور ڈائیلاگ بولا — “محبت نے مارا، مگر نفرت نے دفن کیا!” تالیاں بجنے لگیں۔ مگر اگلے لمحے، وہ زمین پر واقعی گر گیا۔ </p> <p> سب نے سمجھا یہ اداکاری ہے۔ ڈائریکٹر نے فخر سے کہا، “کیا پرفارمنس تھی! کتنی حقیقت سے کھیلا!” مگر پردہ گرنے کے بعد جب وہ اٹھا نہیں — خاموشی پھیل گئی۔ </p> <p> دو منٹ بعد لائٹس بند کر دی گئیں۔ کمرے میں صرف ایک اسپات لائٹ جل رہی تھی، جو ارسلان کے چہرے پر پڑی ہوئی تھی۔ چہرے پر مسکراہٹ تھی، جیسے وہ کہہ رہا ہو، “میں نے آخرکار سچ بول دیا — زندگی واقعی ایک ڈرامہ ہے، بس فرق یہ ہے کہ کچھ لوگ پردہ گرنے سے پہلے چلے جاتے ہیں۔” </p> <p> اگلے دن اخبارات کے صفحے پر خبر تھی: “اداکار ارسلان، اپنے آخری منظر میں ہمیشہ کے لیے امر ہو گیا۔” </p> <p> تھیٹر میں اب بھی وہی سین چلتا ہے۔ نئے اداکار آتے ہیں، مگر جب آخری پردہ گرتا ہے — سب کہتے ہیں، “یہ منظر آج بھی سچا لگتا ہے۔” </p> <p> <strong>مفہوم / عکاسی:</strong><br> “پردہ گر گیا” زندگی اور فن کے درمیان لکیر کو چھوتی کہانی ہے۔ یہ دکھاتی ہے کہ کبھی کبھی کردار، حقیقت سے زیادہ سچے ہوتے ہیں۔ ہر انسان کسی نہ کسی اسٹیج پر ہے — جہاں پردہ ضرور گرتا ہے، مگر کہانی ختم نہیں ہوتی۔ 🎭 </p>
      <p class="end-note">— اختتام —</p>
    </main>

    <div class="story-nav">
      <a href="urdustory112.html" class="nav-button">← پچھلی کہانی</a>
      <a href="urdustory114.html" class="nav-button">اگلی کہانی →</a>
    </div>
  </article>

  <!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/your-form-id" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

  <footer class="urdu-footer">
  <p>© 2025 Daily Pixel۔ جملہ حقوق محفوظ ہیں۔</p>
</footer>

  <script src="../js/storyFeatures.js"></script>

  <script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
</body>
</html>
