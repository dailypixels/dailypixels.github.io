<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>لمحوں کا سفر</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="urdustyle.css" />

  <style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
</head>
<body>

  <!-- Back to Urdu Stories -->
  <a class="back-link" href="index.html">← تمام اردو کہانیاں</a>

  <article class="story-container">
    <header class="story-header">
      <h1 class="story-title">لمحوں کا سفر</h1>
      <p class="story-meta">13 اکتوبر 2025 • تحریر: عبدالسمیع</p>
      <div class="story-tags"><span>وقت</span><span>فیصلے</span><span>یادیں</span></div>
      <img class="urdu-featured-image" src="https://media.istockphoto.com/id/1139963703/photo/jurilovca-street-view.webp?a=1&b=1&s=612x612&w=0&k=20&c=N-6zR1W5GFFFyo7W05tM1YotYC8etPMuUsBDfgPdNKw=" alt="ایک لمبی خالی سڑک، دھند میں لپٹی ہوئی، اور دور سے ایک مسافر چلتا ہوا —
اس کے پیچھے ٹکرے ہوئے پرانے لمحے روشنی میں جھلک رہے ہیں۔" loading="eager" />
    </header>

    <main class="story-content">

<p> صبح کے پانچ بجے تھے، اور شہر ابھی نیند میں تھا۔ **راشد** ایک خالی سڑک پر چل رہا تھا، ہاتھ میں پرانی کتاب اور دل میں ایک غیر محسوس سا بوجھ۔ ہر قدم کے ساتھ یادیں آتی گئیں — بچپن کی ہنسی، جوانی کی غلطیاں، اور وہ فیصلے جو اس کی زندگی بدل گئے۔ </p> <p> راشد نے ایک لمحے کے لیے رک کر آس پاس دیکھا۔ ہوا میں خوشبو تھی، پرندے ابھی جاگ نہیں رہے تھے، اور ایک تنہائی کا سکون تھا جو دل کو چھو رہا تھا۔ اس نے سوچا، “یہ سب لمحے، یہ سب راستے، کیا واقعی میرا حصہ تھے یا بس وقت کی قید میں الجھے ہوئے؟” </p> <p> ہر گزرا لمحہ اس کے سامنے ایک تصویر کی طرح گردش کر رہا تھا: وہ دن جب دوستوں نے دھوکہ دیا، پہلا کام، پہلا پیار، اور وہ لمحات جب اس نے خود کو کھو دیا۔ راشد نے دل میں کہا، “زندگی کی اصل حقیقت یہی ہے — لمحے ضائع نہیں ہوتے، وہ ہمیں کہیں نہ کہیں لے جاتے ہیں۔” </p> <p> سڑک کے آخر میں ایک پرانا مینار نظر آیا، جس کے نیچے ایک چھوٹا سا کیفے تھا۔ راشد اندر گیا، ایک کافی منگوائی، اور کھڑکی سے باہر دیکھتا رہا۔ ہر گزرا لمحہ اب اس کی نگاہوں میں جیتا جا رہا تھا، اور وہ سمجھ گیا کہ سب کچھ ایک سفر ہے — کبھی تیز، کبھی سست، مگر ہمیشہ آگے۔ </p> <p> رات کے اندھیرے میں جب وہ واپس گھر پہنچا، اس نے کتاب کھولی اور اپنے ہاتھوں سے لکھا: "لمحے کبھی ضائع نہیں ہوتے۔ وہ ہمیں سکھاتے ہیں، ہمیں مضبوط کرتے ہیں، اور ہمیں یاد دلاتے ہیں کہ ہر نیا دن ایک نئی امید ہے۔" </p> <p> <strong>مفہوم / عکاسی:</strong><br> “لمحوں کا سفر” یہ بتاتی ہے کہ زندگی میں جو بھی گزرتا ہے، وہ سبق دیتا ہے۔ ہر خوشی، ہر غم، ہر فیصلہ، اور ہر لمحہ ہمیں شکل دیتا ہے۔ ہماری اصل طاقت یہ نہیں کہ ہم وقت کو روک سکیں، بلکہ یہ کہ ہم ہر لمحے سے کچھ سیکھیں اور آگے بڑھیں۔ 🌅 </p>

      <p class="end-note">— اختتام —</p>
    </main>

    <div class="story-nav">
      <a href="urdustory102.html" class="nav-button">← پچھلی کہانی</a>
      <a href="urdustory104.html" class="nav-button">اگلی کہانی →</a>
    </div>
  </article>

  <!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/your-form-id" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

  <footer class="urdu-footer">
  <p>© 2025 Daily Pixel۔ جملہ حقوق محفوظ ہیں۔</p>
</footer>

  <script src="../js/storyFeatures.js"></script>

  <script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
</body>
</html>
