<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Window of Sunlight</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Window of Sunlight</h1>
      <p class="meta">March 12, 2025 ‚Ä¢ By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">hope</span>
        <span class="tag">healing</span>
        <span class="tag">resilience</span>
      </div>
      <img 
        class="featured-image" 
        src="https://media.istockphoto.com/id/944217626/photo/dendrobium-berry-oda-orchid-in-sunlight.webp?a=1&b=1&s=612x612&w=0&k=20&c=jyUZEblQU6dRN5LIWEVmf8qrQouNbjFlFFd1TJ769Ek=" 
        alt="A small apartment window bathed in golden sunlight ‚Äî potted plants on the sill, dust particles glowing in the warm morning light, and a figure smiling softly behind the glass.">
    </header>

    <main class="story-content">
      <p> For three months, <em>Eva</em> hadn‚Äôt stepped outside. The walls of her small apartment had become both her comfort and her cage. Since the accident, she‚Äôd lived in a haze ‚Äî soundless mornings, quiet afternoons, and long nights that stretched like unanswered questions. </p> <p> Her window overlooked an ordinary street ‚Äî nothing special. A row of old buildings, a tree with uneven branches, and a bakery whose scent drifted up with the wind. But that window was all she had left of the world. She would sit there every morning, watching people go by ‚Äî mothers with strollers, a postman humming to himself, schoolchildren racing each other down the lane. And though her body felt heavy, something about those fleeting moments stirred a faint heartbeat inside her. </p> <p> Then, one morning, she noticed a small card taped to the bakery window across the street. It read: <em>‚ÄúGood morning, whoever you are ‚Äî you‚Äôre stronger than yesterday.‚Äù</em> </p> <p> She smiled faintly. Maybe it was a message for someone else. But the next day, another note appeared: <em>‚ÄúYou matter more than you think.‚Äù</em> </p> <p> Curiosity pulled at her. Each day, a new message awaited ‚Äî handwritten, hopeful, like someone knew exactly what she needed to hear. ‚ÄúBreathe.‚Äù ‚ÄúYou‚Äôre not forgotten.‚Äù ‚ÄúSunshine always finds a way.‚Äù </p> <p> Eva began to wait for them. She‚Äôd wake early, brush her hair, sit by the window with tea, and smile ‚Äî something she hadn‚Äôt done in months. Her plants began to thrive again. She watered them daily, letting sunlight fill the room. And one morning, when the bakery opened, she saw him ‚Äî the baker. A young man with kind eyes, holding a fresh loaf in one hand and a marker in the other. He looked up, caught her gaze, and waved. She froze ‚Äî then, slowly, lifted her hand in return. </p> <p> The next note read: <em>‚ÄúHello, neighbor. It‚Äôs good to see you smile.‚Äù</em> </p> <p> Something shifted inside her that day. She opened her window, letting the spring air rush in ‚Äî cool, alive, real. The smell of bread, the laughter below, the hum of morning ‚Äî it all felt new. Like the world had been waiting patiently for her to come back. </p> <p> Weeks later, she walked outside for the first time. The street was smaller than she remembered, the air lighter. The baker waved her over, smiling. ‚ÄúI was wondering when you‚Äôd come out,‚Äù he said, offering her a loaf. ‚ÄúI started writing those notes after I noticed someone always watching the sunrise.‚Äù </p> <p> Tears welled in her eyes. She took the bread, warm and soft in her hands, and whispered, ‚ÄúThank you‚Ä¶ for the sunlight.‚Äù He smiled gently. ‚ÄúYou found it yourself. I just helped open the window.‚Äù </p>
<p> <strong>Meaning / Reflection:</strong><br> *The Window of Sunlight* reminds us that even in our darkest seasons, hope doesn‚Äôt vanish ‚Äî it just waits for a little light to return. Sometimes, healing begins not with a miracle, but with a small gesture, a kind word, or a stranger‚Äôs quiet care. Even the smallest windows can open to infinite warmth if we dare to look toward the sun. üå§Ô∏è‚òÄÔ∏è </p>
      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story47.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story49.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
