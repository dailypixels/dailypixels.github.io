<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The House on Wren Street</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">← Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The House on Wren Street</h1>
      <p class="meta">November 9, 2025 • By Eleanor Vance</p>
      <div class="tags">
        <span class="tag">family</span>
        <span class="tag">grief</span>
        <span class="tag">redemption</span>
        <span class="tag">drama</span>
      </div>
      <img class="featured-image" src="https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?ixlib=rb-4.1.0&auto=format&fit=crop&q=60&w=500" alt="An old family house bathed in evening light, shadows falling across a porch where a single chair sits empty.">
    </header>

    <main class="story-content">
      <p><strong>Part I: The Return</strong></p>

<p>The taxi stopped in front of the house on Wren Street just as the sun began to fall behind the old elms. Daniel Hale hadn’t seen it in ten years — not since the night he left without a word. The windows looked smaller now, the porch steps more worn, but the air carried the same faint smell of lilac and dust. He hesitated before stepping out. The driver looked at him through the mirror. “You sure this is the place?”</p>

<p>Daniel nodded. “Yeah. It’s home.”</p>

<p>He walked to the door, suitcase in hand, heart in throat. Before he could knock, the door creaked open. His mother stood there — older, thinner, her gray hair pulled back, her eyes unreadable. “You came back,” she said softly. Not a question. Just a fact that hung heavy between them.</p>

<p>He wanted to say *I’m sorry*, but the words caught like thorns. Instead, he said, “I heard about Dad.”</p>

<p>Her expression didn’t change. “He passed two winters ago. You missed the funeral.”</p>

<p>Daniel lowered his head. “I know.”</p>

<p><strong>Part II: The Silence Between Rooms</strong></p>

<p>The house smelled of cedar and lemon polish — the same scent his mother used when he was a child. Dust covered the piano in the corner; photographs lined the mantle — smiling faces of a life he’d walked away from. Every step echoed with years of unspoken things. His room upstairs was exactly as he’d left it, a time capsule of guilt and youth: the record player, the half-finished painting, the postcard of Paris pinned to the wall.</p>

<p>At dinner, they barely spoke. The clatter of cutlery filled the silence. Finally, she said, “Why now, Daniel? After all these years?”</p>

<p>He looked down at his hands. “I was tired of pretending I didn’t miss you.”</p>

<p>She set her fork down, eyes shining with something between anger and sorrow. “You didn’t just leave me, you left your father too. He waited for your calls every birthday.”</p>

<p>Daniel’s throat burned. “He told me to go! He said I’d never be what he wanted.”</p>

<p>“He was proud of you,” she whispered. “He just didn’t know how to say it.”</p>

<p><strong>Part III: The Letter</strong></p>

<p>That night, Daniel couldn’t sleep. He wandered into his father’s old study. Papers were stacked neatly on the desk, and on top lay an envelope addressed to him — yellowed with time. His hands trembled as he opened it.</p>

<p><em>“Daniel,</em><br>
<em>If you’re reading this, it means I wasn’t brave enough to tell you what I should have when you left. You were right to go — not because you were running from me, but because I never learned how to stop running from myself. I wanted you to be strong, not afraid like I was. I hope you forgive me. I loved you more than I knew how to show.”</em></p>

<p>By the time he reached the last line, tears blurred the ink. He folded the letter carefully and went downstairs. His mother was still awake, sitting in her chair by the window.</p>

<p>He handed her the letter silently. She read it, her face breaking, the years of distance dissolving in the quiet room. When she finally looked at him, her eyes were wet but soft. “He always meant to send it,” she said. “He just didn’t get the chance.”</p>

<p>Daniel knelt beside her and took her hand. “Then let’s forgive him together.”</p>

<p><strong>Part IV: The Porch Light</strong></p>

<p>In the morning, the house felt lighter. Birds filled the trees outside. Daniel fixed the broken porch step his father never had time to repair. As he worked, his mother brought him coffee — black, the way his father used to drink it. They didn’t speak much, but they didn’t need to.</p>

<p>When the sun set again, Daniel turned on the porch light — the same light his mother had kept on for ten years, waiting for him to come home. He watched it glow softly in the dark, a small beacon against all that had been lost.</p>

<p><strong>Meaning / Reflection:</strong><br>
<em>The House on Wren Street</em> is a story about forgiveness and the quiet strength it takes to return. It reminds us that time doesn’t heal what we refuse to face — but love, once accepted, can turn even the darkest house into a home again. 🕯️🏠</p>

      <p class="end-note">— End of Story —</p>
    </main>

    <nav class="story-navigation">
      <a href="story137.html" class="nav-button prev">← Previous Story</a>
      <a href="story139.html" class="nav-button next">Next Story →</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
