<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Letters Beneath the Willow</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Letters Beneath the Willow</h1>
      <p class="meta">September 15, 2025 ‚Ä¢ Daniel Cruz</p>
      <div class="tags">
        <span class="tag">love</span>
        <span class="tag">memory</span>
        <span class="tag">loss</span>
      </div>
      <img 
        class="featured-image" 
        src="https://plus.unsplash.com/premium_photo-1669478941957-b73248f17340?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fEElMjBxdWlldCUyMGxha2VzaWRlJTIwYXQlMjBkdXNrJTIwJUUyJTgwJTk0JTIwYSUyMHdpbGxvdyUyMHRyZWUlMjBsZWFuaW5nJTIwb3ZlciUyMHN0aWxsJTIwd2F0ZXIlMkMlMjBpdHMlMjBicmFuY2hlcyUyMGJydXNoaW5nJTIwdGhlJTIwc3VyZmFjZSUyMGxpa2UlMjBmaW5nZXJzJTIwdHJhY2luZyUyMGZvcmdvdHRlbiUyMHByb21pc2VzLnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=500" 
        alt="A quiet lakeside at dusk ‚Äî a willow tree leaning over still water, its branches brushing the surface like fingers tracing forgotten promises.">
    </header>

    <main class="story-content">
      <p> The willow by the lake had always been their secret. Every Sunday in summer, *Elara* and *Noah* would meet there ‚Äî two teenagers from different worlds, bound by stories, sketches, and the thrill of something unnamed. The world beyond the willow didn‚Äôt know them. But here, in the quiet shade, love was allowed to breathe. </p> <p> They had promised each other a hundred things ‚Äî that they‚Äôd leave their small town, that they‚Äôd build a life where art and poetry mattered more than rules, that nothing could separate them. But promises, like paper boats, rarely survive the storm. The day Noah left for university, the sky broke open. He gave her one last letter ‚Äî sealed but unsigned. ‚ÄúOpen it when you stop waiting for me,‚Äù he‚Äôd said. </p> <p> She never did. Years passed. Seasons folded over themselves like old photographs. Elara stayed, teaching art at the same school where they‚Äôd met, the same lake just beyond the hill. She married once ‚Äî briefly ‚Äî but her heart never truly moved. Some loves, she‚Äôd learned, don‚Äôt end. They just fade into silence. </p> <p> Then, fifty years later, on an autumn morning heavy with mist, a letter arrived in the post. The handwriting stopped her breath ‚Äî Noah‚Äôs. It was dated *June 12, 1975* ‚Äî the summer they‚Äôd first met. </p> <p> Her hands trembled as she opened it. Inside were just a few lines: <br><em>‚ÄúIf this reaches you, meet me by the willow. I still have something to say.‚Äù</em> </p> <p> Elara thought it was a cruel trick of memory, or worse ‚Äî a mistake. Noah had been gone for years; she‚Äôd seen the obituary herself. But the words were his. The paper smelled faintly of pine and rain ‚Äî exactly as she remembered. </p> <p> That evening, she went to the lake. The air was cold, and the sun bled into the horizon like an old photograph fading to sepia. The willow stood the same ‚Äî older, perhaps gentler. Beneath it, something glimmered in the roots. She knelt and found a small tin box, rusted and delicate. Inside ‚Äî dozens of letters. All hers. All the ones she‚Äôd written to him but never sent. </p> <p> There was a final envelope at the bottom ‚Äî the seal broken, the ink smudged by time. It was from Noah. <br><em>‚ÄúI buried these for you. I knew you‚Äôd come back someday. If love is patient, then perhaps it can wait beyond years ‚Äî beyond even life. If you‚Äôre reading this, Elara, then I did not wait in vain.‚Äù</em> </p> <p> She pressed the paper to her chest. The wind stirred ‚Äî gentle, almost like a sigh. The branches of the willow shifted, and for a fleeting moment, she thought she saw him ‚Äî standing across the water, smiling, his reflection merging with hers. </p> <p> As night fell, the lake shimmered with the faintest light ‚Äî like hundreds of paper boats drifting into forever. And when the morning came, the groundskeeper found the old tin box, open and empty beside the roots. The letters were gone ‚Äî carried, perhaps, by the wind, or something far gentler. </p> <p> But from that day on, whenever the evening breeze touched the lake, the branches of the willow whispered ‚Äî not with sorrow, but with a sound soft as laughter. </p>
<p><strong>Meaning / Reflection:</strong><br> *The Letters Beneath the Willow* reminds us that love doesn‚Äôt measure itself in time ‚Äî but in the spaces it fills between years, hearts, and words left unsent. Some promises are not broken; they simply wait ‚Äî patient as the wind, faithful as memory, and eternal as the whisper of leaves by a quiet lake. üåøüíå </p>

      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story54.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story56.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
