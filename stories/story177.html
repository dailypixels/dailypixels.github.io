<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Lost Caves of Kharan</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Lost Caves of Kharan</h1>
      <p class="meta">April 16, 2025 ‚Ä¢ By Roderick Hayes</p>
      <div class="tags">
        <span class="tag">exploration</span>
        <span class="tag">danger</span>
        <span class="tag">discovery</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1039596710/photo/beautiful-sunlight-effect-coming-from-above-rocks-in-rainforest-cave-in-bali-indonesia.webp?a=1&b=1&s=612x612&w=0&k=20&c=8CwV5aYnYkUQikCoyHqSN5kIXiuoQQC0y4nZ68Gfa58=" alt="A jagged cave entrance hidden behind dense jungle foliage, with sunlight streaming through cracks.">
    </header>

    <main class="story-content">
     <p><strong>Part I: The Map</strong></p>

<p>Lila Morgan had spent her life chasing whispers of history. When she discovered the tattered map tucked inside an old merchant‚Äôs journal in Lisbon, she knew it could be her greatest find ‚Äî the Lost Caves of Kharan, a network of underground chambers said to hold artifacts from a civilization erased from all known records.</p>

<p>The map was cryptic: jagged lines, symbols she had never seen, and warnings in an ancient tongue. But Lila‚Äôs instincts told her the warnings were for those who feared discovery.</p>

<hr>

<p><strong>Part II: Into the Jungle</strong></p>

<p>The Kharan Jungle was unforgiving. Thick vines whipped her face, and every step sank into wet, spongy earth. Her team ‚Äî Marco, a seasoned tracker, and Anika, a linguist ‚Äî followed closely behind. Insects buzzed incessantly, and distant calls of unseen creatures echoed between the trees.</p>

<p>By midday, they reached the cliffs where the map indicated the entrance. Hidden behind a waterfall, a narrow fissure in the rock revealed a dark maw. Water dripped from above, and the air smelled of damp stone and mystery.</p>

<p>‚ÄúWelcome to the unknown,‚Äù Lila whispered.</p>

<hr>

<p><strong>Part III: The Descent</strong></p>

<p>Torches in hand, they climbed down slick stone steps that led into the darkness. The walls of the caves shimmered with mineral deposits, reflecting the torchlight like a starry sky. Strange carvings adorned the walls ‚Äî humanoid figures with animal heads, intricate spirals, and symbols that seemed almost alive.</p>

<p>‚ÄúThese tell a story,‚Äù Anika said, tracing her fingers over a series of etched lines. ‚ÄúBut I can‚Äôt read it. Not yet.‚Äù</p>

<p>Hours passed, and the deeper they went, the narrower the tunnels became. Suddenly, a low rumble shook the walls. Rocks tumbled around their feet.</p>

<p>‚ÄúEarthquake!‚Äù Marco shouted. They ran, barely avoiding falling stones, until the passage opened into a massive underground chamber.</p>

<hr>

<p><strong>Part IV: The Heart of Kharan</strong></p>

<p>The chamber was breathtaking. Giant stone pillars stretched to a ceiling lost in shadow. Pools of clear water reflected a hidden sky of glowing crystals embedded in the rock. In the center, a stone altar bore artifacts: gold ornaments, jeweled daggers, and scrolls inscribed in the same strange script.</p>

<p>Lila approached carefully. ‚ÄúWe‚Äôve found it‚Ä¶ the civilization no one knew existed.‚Äù</p>

<p>But before she could examine the altar, a sound echoed ‚Äî footsteps, slow and deliberate. Figures emerged from the shadows: descendants of the lost civilization, their faces painted, eyes wary.</p>

<p>‚ÄúWho enters our sanctuary?‚Äù one asked in a melodic tongue. Anika stepped forward, attempting to communicate.</p>

<p>After tense moments, the leader nodded. ‚ÄúYou seek knowledge, not plunder. Then you may witness the legacy of Kharan.‚Äù</p>

<hr>

<p><strong>Part V: Secrets Revealed</strong></p>

<p>Over the next days, the team learned the history of Kharan ‚Äî a people who mastered architecture, astronomy, and medicine far beyond their time, choosing to retreat underground to protect their knowledge from invading empires. The caves were a library of wisdom, preserved through isolation and secrecy.</p>

<p>Lila and her team documented everything, careful to respect the tribe‚Äôs wishes. They realized the true treasure wasn‚Äôt gold or jewels, but understanding the resilience, ingenuity, and spirit of a culture determined to survive against all odds.</p>

<hr>

<p><strong>Part VI: Return to the Surface</strong></p>

<p>When they emerged, weeks later, the jungle seemed smaller, the world somehow less intimidating. Lila looked at the map in her hands ‚Äî it was now a key to knowledge, not just a route to fame.</p>

<p>‚ÄúWe didn‚Äôt conquer this,‚Äù she said. ‚ÄúWe were entrusted with it.‚Äù</p>

<p>As the sun set over the horizon, the Lost Caves of Kharan disappeared once more behind the jungle, silent and eternal, holding secrets meant for those brave enough to honor them.</p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Lost Caves of Kharan</em> celebrates courage, respect, and the thrill of discovery. True adventure lies not in the treasures we take, but in the knowledge we gain and the humility with which we approach the unknown. üåøüó∫Ô∏è</p>


      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story176.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story178.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
