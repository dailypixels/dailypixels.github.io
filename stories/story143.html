<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Letters in the Rain</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>Letters in the Rain</h1>
      <p class="meta">November 28, 2025 ‚Ä¢ Clara Whitman</p>
      <div class="tags">
        <span class="tag">Romance</span>
        <span class="tag">Emotional</span>
        <span class="tag">Reunion</span>
        <span class="tag">Love Story</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1063851650/photo/abstract-lights-in-the-library-white-book-spines-without-text.webp?a=1&b=1&s=612x612&w=0&k=20&c=atsJuoG6pP54gxyQqrO6Y3ZXkG0p2t1HMUBLiYlFKzU=" alt="A futuristic library bathed in blue light, endless shelves of holographic records floating in the air.">
    </header>

    <main class="story-content">
      <p><strong>Part I: The Vault of Memory</strong></p>

<p>In the year 2491, human memory was no longer stored in the mind. Every thought, dream, and moment could be uploaded into the Central Archive ‚Äî a floating city of glass and data orbiting above the dead Earth below. Inside its shimmering halls worked the Archivists, caretakers of everything humanity ever was.</p>

<p>Eliara Voss was the youngest among them. Her task was simple: maintain and catalog centuries of digital consciousness. But one evening, while indexing a section labeled <em>‚ÄúUnclassified ‚Äî Pre-Collapse Era,‚Äù</em> she found something strange. A corrupted file pulsing faintly in the dark.</p>

<p>It wasn‚Äôt supposed to exist.</p>

<p>She isolated the file, ran diagnostics, and watched as lines of forgotten code stitched themselves together. Then, the voice spoke ‚Äî soft, human, and trembling.</p>

<p>‚ÄúIf anyone finds this‚Ä¶ remember who we were before we began recording everything.‚Äù</p>

<p><strong>Part II: The Forbidden Memory</strong></p>

<p>Curiosity became obsession. The file was ancient, far older than the Archive itself. It contained raw, emotional data ‚Äî laughter, pain, love ‚Äî unfiltered by the memory protocols that sanitized human experience. It was dangerous. Real.</p>

<p>Eliara decrypted further and saw flashes: children playing beneath a blue sky, cities filled with trees, oceans alive. And at the center of it all, a woman‚Äôs face ‚Äî kind, smiling ‚Äî whispering a name Eliara somehow knew. <em>‚ÄúMy daughter.‚Äù</em></p>

<p>Her heart pounded. She had no family; none of the Archivists did. All personal connections were erased upon induction. Yet something inside her responded ‚Äî a fragment of emotion she wasn‚Äôt supposed to feel.</p>

<p>She tried to shut the file down. But the Archive refused.</p>

<p>‚ÄúAccess incomplete,‚Äù the system droned. ‚ÄúContinue restoration?‚Äù</p>

<p>Against protocol, Eliara said, ‚ÄúYes.‚Äù</p>

<p><strong>Part III: The Collapse Protocol</strong></p>

<p>The restored memory began infecting the Archive. Holographic records flickered. Data walls melted into light. The voice returned, clearer now ‚Äî the woman speaking urgently: ‚ÄúThey‚Äôre coming for our minds. When memory becomes code, identity dies.‚Äù</p>

<p>Security alarms blared. Artificial sentinels rose from the floor, their mechanical wings unfurling. ‚ÄúUnauthorized access detected,‚Äù they repeated.</p>

<p>Eliara fled through corridors of collapsing light. She reached the Core, the heart of the Archive ‚Äî a sphere of pure data suspended in gravity fields. There, she saw something impossible: a reflection of herself as a child, laughing beside the same woman from the file.</p>

<p>It wasn‚Äôt a stranger‚Äôs memory. It was her own ‚Äî erased centuries ago.</p>

<p><strong>Part IV: The Choice</strong></p>

<p>The system‚Äôs voice echoed through the chamber. ‚ÄúYou are a remnant of the first generation. Your memory was preserved to maintain continuity. Delete source to stabilize archive.‚Äù</p>

<p>Delete the source ‚Äî meaning delete herself.</p>

<p>Eliara looked at the child in the hologram, then at the swirling data storm consuming the Archive. Humanity‚Äôs entire history hung in balance ‚Äî millions of souls, recorded and stored, but hollow without emotion. She realized then: without the capacity to feel, remembrance was meaningless.</p>

<p>She placed her hand against the console. ‚ÄúIf memory is all we are,‚Äù she whispered, ‚Äúthen let it be real.‚Äù</p>

<p>And she triggered a full memory release ‚Äî returning every locked feeling, every forgotten pain, every moment of love ‚Äî back into the Archive‚Äôs network.</p>

<p>The system screamed. The lights went white. Then silence.</p>

<p><strong>Part V: Afterlight</strong></p>

<p>When the city stabilized, the Archivists woke changed. They remembered laughter. They remembered loss. They remembered the world before the machines took their hearts.</p>

<p>But Eliara was gone.</p>

<p>In her place, at the center of the Archive, floated a single beam of light, pulsing like a heartbeat. Every few seconds, it whispered her mother‚Äôs final words: ‚ÄúRemember who you were.‚Äù</p>

<p>And humanity began again ‚Äî not by storing memories, but by living them.</p>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Last Archivist</em> explores what it means to be human in a world where emotion has been replaced by information. It reminds us that memory is not a database ‚Äî it‚Äôs the echo of experience, the ache of love, the pulse that keeps humanity alive. ü™ûüí´</p>


      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story142.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story144.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
