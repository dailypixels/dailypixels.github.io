<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Echo Between Lives</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">← Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Echo Between Lives</h1>
      <p class="meta">August 25, 2025 • Alex Rivera</p>
      <div class="tags">
        <span class="tag">destiny</span>
        <span class="tag">reincarnation</span>
        <span class="tag">loss</span>
      </div>
      <img 
        class="featured-image" 
        src="https://images.unsplash.com/photo-1680955886340-00a057fe2787?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fEElMjBtb29ubGl0JTIwdmFsbGV5JTIwdmVpbGVkJTIwaW4lMjBtaXN0JTJDJTIwdHdvJTIwc2hhZG93cyUyMGZhY2luZyUyMGVhY2glMjBvdGhlciUyMG9uJTIwb3Bwb3NpdGUlMjBzaWRlcyUyMG9mJTIwYW4lMjBhbmNpZW50JTIwYnJpZGdlJTIwJUUyJTgwJTk0JTIwd2hlcmUlMjB0aW1lJTIwZm9sZHMlMjBpbiUyMHNpbGVuY2UufGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=500" 
        alt="A moonlit valley veiled in mist, two shadows facing each other on opposite sides of an ancient bridge — where time folds in silence.">
    </header>

    <main class="story-content">
      <p> The first time he saw her, it wasn’t in this lifetime. He couldn’t explain how he knew — only that the air itself felt like a memory trying to breathe again. <br><br> <em>Arin</em> stood in the ruins of an old monastery, camera in hand, on a photography trip through the Scottish highlands. The air was cold, the mist almost silver. But when he turned toward the sound of soft humming — a tune that tugged at something ancient in his chest — she was there. </p> <p> She stood among the ivy-covered stones, her back to him, tracing names on a wall long faded by time. The moment she turned, the world stilled. <br> He didn’t know her name, yet every heartbeat whispered it. </p> <p> “Have we met before?” he asked before he could stop himself. <br> She smiled sadly. “Yes,” she said. “Many times.” </p> <p> Her name was <em>Elara</em>. She said she was studying lost songs of forgotten monks — hymns that spoke of souls crossing through time. They spent the day together, walking through rain and history, finishing each other’s half-formed thoughts like they’d rehearsed them long ago. <br><br> At sunset, they stood at the edge of the cliff, where the monastery met the sea. The waves below roared like a heartbeat too loud to ignore. <br> “Strange,” Arin said softly. “It feels like I’ve been here before — with you.” <br> Elara looked at him, her eyes reflecting the horizon. “You have,” she whispered. </p> <p> That night, in the flickering light of the inn’s fireplace, she told him the story. Two centuries ago, a painter and a healer had fallen in love here — forbidden by faith, separated by war. Before dying, the healer had promised: <br> <em>“If souls remember anything, I’ll find you again when the bell rings thrice at dusk.”</em> </p> <p> The next evening, as the sky bled orange, the old church bell tolled in the valley — three times. <br> Arin’s heart raced. <br> Elara turned to him, tears glistening. “It’s happening again,” she said, her voice breaking. “But it never ends the same way.” </p> <p> Before he could ask, thunder rolled across the mountains — sudden, deafening. The ground trembled. A storm had risen from nowhere, tearing through the ruins. He reached for her hand, but lightning struck the bell tower. The sound was the same — three notes, shattering and divine. <br> When the smoke cleared, she was gone. </p> <p> Days later, search teams found nothing. No sign she’d ever been there. Her name wasn’t on any university list. The monastery archives listed no visitor named Elara. Only the photograph Arin had taken remained — blurred, spectral, her outline shimmering beside him in the mist. </p> <p> He left the highlands, but the sound of the bell haunted him. Every dusk, wherever he was, he’d hear it faintly — three notes from nowhere. Each time, he whispered to the wind: <br> <em>“I remember. I’m still here.”</em> </p> <p> Years passed. He grew older. The world changed. One day, in a quiet museum in Florence, he stood before a painting titled *The Healer and the Storm.* The woman in the painting — her eyes, her face, her smile — was Elara. The artist’s signature read: <br><em>“For A.R., I’ll return when the bell rings thrice.”</em> </p> <p> As the clock struck six, the church beside the museum chimed — three times. Arin closed his eyes. When he opened them, a voice behind him said softly, <br> “Have we met before?” </p>
<p> <strong>Meaning / Reflection:</strong><br> *The Echo Between Lives* is a story about love that defies endings — a connection that endures through centuries, names, and forms. It reminds us that true love isn’t bound by time or memory; it lives in the space between heartbeats, waiting to be found again — not once, but forever. 🌙💫 </p>
      <p class="end-note">— End of Story —</p>
    </main>

    <nav class="story-navigation">
      <a href="story29.html" class="nav-button prev">← Previous Story</a>
      <a href="story31.html" class="nav-button next">Next Story →</a>
    </nav>
  </article>
  <style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<script src="../js/storyFeatures.js"></script>

<footer class="site-footer">
  <p>© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
