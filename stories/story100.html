<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Clockmaker‚Äôs Secret</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Clockmaker‚Äôs Secret</h1>
      <p class="meta">October 17, 2025 ‚Ä¢ By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">mystery</span>
        <span class="tag">time</span>
        <span class="tag">guilt</span>
        <span class="tag">secrets</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1454673943/photo/design-chocolate.webp?a=1&b=1&s=612x612&w=0&k=20&c=ORV2sIxzyg5L0He4JqlXVHt-FHD5NLNxOkeKNjqJjdU=" alt="A dimly lit clock shop filled with ticking gears and golden pendulums, where a single cracked pocket watch glows faintly in the dark.">
    </header>

    <main class="story-content">
      <p> The rain poured endlessly over the narrow streets of Blackridge as Detective <em>Julian Ward</em> pushed open the door to ‚ÄúElias Horvath & Sons ‚Äî Clockmakers Since 1892.‚Äù Inside, hundreds of clocks ticked in perfect chaos, their hands frozen at different hours, as though each kept time for a different world. </p>

<p> Elias Horvath, the owner, was found dead three nights ago ‚Äî a heart attack, the coroner said. But the coroner hadn‚Äôt seen the message scratched into the inside of his workshop door: <strong>‚ÄúTime killed me.‚Äù</strong> </p>

<p> Julian‚Äôs flashlight swept over gears and dust, and finally landed on a pocket watch lying on the worktable. It was unlike any other ‚Äî golden casing, glass face cracked through the center, and engraved beneath the lid: <em>‚ÄúTo E.H., may you always remember.‚Äù</em> </p>

<p> When Julian wound it out of habit, the hands began to spin wildly before stopping at 2:17 a.m. Then, from inside the tiny mechanism, a faint ticking pulse began ‚Äî slow, human, unsettling. </p>

<p> He brought the watch to the evidence lab. But that night, it disappeared from his desk. Instead, a note appeared in his case file: <em>‚ÄúYou‚Äôve wound more than a clock, Detective.‚Äù</em> </p>

<p> Julian couldn‚Äôt sleep. Every night at precisely 2:17 a.m., he heard faint ticking coming from his coat pocket ‚Äî even though the watch was gone. He began researching Elias Horvath‚Äôs life and discovered a pattern: every clock in the shop stopped on the hour of someone‚Äôs death. The victims were all connected ‚Äî business partners, creditors, and one former apprentice who had vanished years ago. </p>

<p> One evening, Julian returned to the shop determined to find the truth. He pried open a large grandfather clock in the back room ‚Äî and inside the hollow compartment, he found dozens of small brass plates, each engraved with a name and a date. Elias had built them himself. The last one read: <strong>Julian Ward ‚Äî October 17, 2025 ‚Äî 2:17 a.m.</strong> </p>

<p> The detective froze. His own name. His own death date. The exact time the watch had stopped. </p>

<p> The sound of gears turning filled the room, louder and louder, until the clocks all began to chime at once ‚Äî not in harmony, but in panic. Julian stumbled backward as the hands on every clock spun uncontrollably. The lights flickered. </p>

<p> And then, through the noise, came a whisper ‚Äî old, trembling, familiar. ‚ÄúI told you time keeps its debts, Detective.‚Äù </p>

<p> Julian turned. Standing behind the counter was Elias Horvath himself, pale and motionless, eyes reflecting the gold of his clocks. ‚ÄúYou wound the watch,‚Äù Elias said, voice hollow. ‚ÄúNow it winds you.‚Äù </p>

<p> The clocks stopped. The city went silent. When the morning came, the shop was empty once more. Only one clock ticked now ‚Äî a single pocket watch on the counter, its hands resting forever at 2:17 a.m. Inside the lid, the engraving had changed. It now read: <em>‚ÄúTo J.W., may you always remember.‚Äù</em> </p>

<p><strong>Meaning / Reflection:</strong><br>
*The Clockmaker‚Äôs Secret* is a story about the inescapable rhythm of guilt and consequence. It reminds us that time is not only a measure ‚Äî it is a witness. Every choice we make leaves its imprint, every lie keeps ticking until it‚Äôs heard. The past doesn‚Äôt die; it simply waits to be wound again. ‚è±Ô∏èüïØÔ∏è </p>


      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story99.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story101.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
