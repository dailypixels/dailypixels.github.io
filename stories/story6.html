<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The House That Dreamed in Dust</title>
  <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="../premium.css" />
  <link rel="stylesheet" href="../story.css" /> <!-- Shared Story Styles -->
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The House That Dreamed in Dust</h1>
      <p class="meta">October 14, 2025 ‚Ä¢ Written by A. S. Rehman</p>
      <div class="tags">
        <span class="tag">Memory</span>
        <span class="tag">Abandonment</span>
        <span class="tag">Secrets</span>
      </div>
      <img 
        class="featured-image" 
        src="https://media.istockphoto.com/id/587208424/photo/girl-in-abandoned-building.webp?a=1&b=1&s=612x612&w=0&k=20&c=r-yQuK9dzrvV_TxdE-pl2OUfH-VaQK0qlNE5IK_0TFQ=" 
        alt="When a young historian inherits an abandoned house, she discovers that its walls remember everything ‚Äî and some memories don‚Äôt want to stay buried.">
    </header>

    <main class="story-content">
      <p> The house stood at the end of a crooked lane, its bricks breathing dust and whispers. Locals called it *Ravenshade Manor*, though no ravens had flown there in years. When **Clara Wren**, a 28-year-old historian from London, arrived with a key and a suitcase, she expected silence ‚Äî not the sound of someone walking upstairs. </p> <p> She had inherited the house from her late uncle **Edgar Wren**, a reclusive writer known for his obsession with ‚Äúliving architecture.‚Äù In his journals, he claimed houses *remembered* their inhabitants ‚Äî not through spirits, but through resonance: sound, light, the slow heartbeat of stone. Most dismissed him as mad. Clara never did. </p> <p> The first night, the electricity flickered, and the walls seemed to hum. In the library, a single book had fallen open ‚Äî **‚ÄúThe House That Dreamed in Dust‚Äù** ‚Äî her uncle‚Äôs unpublished manuscript. Inside, the handwriting shifted between neat lines and frantic scrawl. </p> <p> > ‚ÄúEvery night, it breathes,‚Äù he had written. > ‚ÄúThe dust moves like thought. > The walls speak when no one listens. > And somewhere, beneath the floorboards, it keeps what we leave behind.‚Äù </p> <p> Clara smiled uneasily. The house creaked in reply. She brushed the dust from the next line ‚Äî and froze. > ‚ÄúTo whoever finds this ‚Äî I am still here.‚Äù </p> <p> Thunder rumbled outside. She turned sharply ‚Äî a faint outline shimmered against the staircase wall, like light trying to take shape. Her breath quickened. ‚ÄúUncle‚Ä¶?‚Äù The air tasted of ink and damp wood. Then the light vanished. </p> <p> Determined, Clara spent the next day exploring every room. The kitchen still smelled faintly of candle wax and tea leaves. In the attic, she found reels of old audio tapes labeled only by years ‚Äî *1967‚Ä¶ 1974‚Ä¶ 1993*. She played one. Her uncle‚Äôs voice emerged through static: > ‚ÄúIt dreams when it rains. The dust carries echoes. Every memory settles in the corners. I‚Äôve built my past into its bones.‚Äù </p> <p> Then another voice joined ‚Äî hers. She stumbled back, heart pounding. Her childhood laughter filled the attic. Her voice saying, *‚ÄúUncle, tell me the story about the dreaming house again!‚Äù* </p> <p> Clara‚Äôs eyes filled with tears. She realized she had been here before ‚Äî a summer she had completely forgotten. He had brought her here when she was eight, but her parents never spoke of it after he vanished. </p> <p> That night, the house stirred again. Footsteps echoed from the library. She followed them, whispering, ‚ÄúWhat do you want me to see?‚Äù The portrait above the fireplace flickered ‚Äî her uncle‚Äôs painting now showing *two figures*: him‚Ä¶ and a child. </p> <p> The ground shuddered softly. Books fell open on their own. Words appeared on the pages in faint ash-gray dust: > ‚ÄúFinish my story.‚Äù </p> <p> Clara spent the next week reading every unfinished chapter, every letter, every fragment her uncle left behind. As she wrote, the house grew warmer ‚Äî the smell of damp wood fading, the air filling with quiet calm. When she finished the final line ‚Äî > ‚ÄúA house dreams only when it remembers love.‚Äù ‚Äî the silence broke into a sigh, and the lights steadied. </p> <p> At dawn, she packed her notes. Before leaving, she placed the manuscript on the mantle. The cover glowed faintly under sunlight. And as she stepped outside, she heard a soft voice ‚Äî her uncle‚Äôs, fading into morning air: > ‚ÄúThank you, Clara. Now, it can rest.‚Äù </p> <p> Behind her, the house stood still ‚Äî no longer haunted, but listening. And for the first time, it looked alive. </p> <p><strong>Meaning / Reflection:</strong><br> *The House That Dreamed in Dust* is a story about how places remember us. It reminds us that memory isn‚Äôt only stored in minds ‚Äî it lingers in spaces, in the silence between walls, in the dust that gathers after we leave. Some inheritances are not property ‚Äî they‚Äôre unfinished stories waiting to be heard. üïØÔ∏è </p>
      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story5.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story7.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
  <style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<script src="../js/storyFeatures.js"></script>

<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
