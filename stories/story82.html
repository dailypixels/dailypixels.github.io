<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Letters Beneath the Rain</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">← Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Letters Beneath the Rain</h1>
      <p class="meta">October 17, 2025 • By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">love</span>
        <span class="tag">destiny</span>
        <span class="tag">memory</span>
        <span class="tag">hope</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/612418020/photo/excited-woman-sending-a-postcard.webp?a=1&b=1&s=612x612&w=0&k=20&c=yXFROslHz1tWCNFNAUjDtW8u229aN6EIJvOawYCFyBE==" alt="A quiet street under soft rainfall, a red mailbox glistening beside a lamppost, and a woman holding a stack of letters close to her chest.">
    </header>

    <main class="story-content">
     <p> It was the monsoon of 2025 when *Amara Siddiqui* first noticed the red mailbox outside her apartment building on Shalimar Street. Rust clung to its corners, and no one had used it in years. Yet, one afternoon after work, she found an envelope inside — yellowed at the edges, addressed only to “Whoever still believes in love.” </p> <p> Curious, she opened it under the shelter of her umbrella. Inside was a handwritten note: *“If you’re reading this, perhaps you still wait for someone too. Leave your story here, and I’ll leave mine next time it rains.”* It wasn’t signed. </p> <p> Amara smiled — the kind of smile she hadn’t worn since her engagement ended two years ago. That night, she wrote back. *“I waited for someone once. He left before I learned how to say goodbye. Maybe stories are safer than people.”* She slipped the letter into the same box and walked away, her heart oddly lighter beneath the drizzle. </p> <p> The next rain brought another reply: *“Maybe stories are safer, but they’re lonelier too. Tell me — if you could meet that person again, what would you say?”* </p> <p> So began the quiet ritual. Each week, as the sky turned silver with rain, Amara and her anonymous writer exchanged letters — folded with care, written in ink that sometimes blurred where raindrops kissed the page. He wrote about losing his mother to illness and how grief made him afraid to love again. She wrote about finding beauty in broken things — how she had once painted over cracks in her apartment walls just to feel like she could fix something. </p> <p> Months passed, and their words became the heartbeat of her days. She began to know him — *the stranger of the rain* — more than she had ever known anyone else. He told her his name was *Rayan*. He worked at a printing press nearby, and sometimes he’d pass the very street where she lived without knowing which window belonged to her. They promised never to meet until the monsoon ended, to let the words remain pure, untouched by faces or fear. </p> <p> On the final day of the rains, a storm unlike any other swept through Lahore. The city flooded, and when Amara reached the old mailbox, it was half-submerged in water. Inside, one last letter waited, edges soaked, ink bleeding. She opened it under a trembling streetlight. </p> <p> *“Amara, I have to go. The press is closing — I’ve been offered work in Karachi. But if love means anything, it should find us again. If next year, on this same day, it rains again, I’ll wait here. And if you come… I’ll know the letters weren’t just stories.”* </p> <p> The year that followed stretched endlessly. The rains came late in 2026, and Amara returned to the same street — heart pounding, letter clutched tight. The old mailbox had been replaced by a modern one, brighter and newer, but the same smell of wet earth lingered. She waited under her umbrella as drops began to fall. Minutes turned into hours. No one came. She left her final letter inside: *“Even if you never return, thank you for reminding me that love can still arrive — even when it doesn’t stay.”* </p> <p> She walked away, unaware that at that very moment, across the street, a man stepped out of a black rickshaw, soaked to the bone, holding an old envelope with her name — only to see the empty corner where she had just stood. </p> <p> Years later, Amara opened her own art studio, *Letters Beneath the Rain*, where visitors could write anonymous notes to strangers and leave them behind. On opening day, a man walked in holding a framed letter. The paper was old, faded, and the ink nearly gone. “You once said stories are safer than people,” he whispered. “But I came to tell you — sometimes, they lead us home.” </p> <p> Outside, it began to rain again — softly, endlessly — as Amara smiled and whispered, “Welcome back.” The city blurred in silver, and for the first time, every word they had ever written finally came alive. </p>
<p><strong>Meaning / Reflection:</strong><br> *The Letters Beneath the Rain* is a story about love that blooms in silence — between lines of ink and drops of rain. It reminds us that connection isn’t always found in faces or voices, but sometimes in the courage to write what we truly feel. Words may fade, but the emotions behind them can find their way home, even after the longest storms. 🌧️💌 </p>
      <p class="end-note">
        Mason realized the city itself could never be fully safe,  
        and the line between ally and enemy could vanish in a single step.  
        The Silent Room had spoken—and its echo would never fade.
      </p>
    </main>

    <nav class="story-navigation">
      <a href="story81.html" class="nav-button prev">← Previous Story</a>
      <a href="story83.html" class="nav-button next">Next Story →</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
