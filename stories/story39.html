<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Last Signal</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Last Signal</h1>
      <p class="meta">December 2, 2025 ‚Ä¢ By Liana Verne</p>
      <div class="tags">
        <span class="tag">memory</span>
        <span class="tag">cosmos</span>
        <span class="tag">time</span>
      </div>
      <img 
        class="featured-image" 
        src="https://media.istockphoto.com/id/1353650657/photo/3d-render-of-cosmonaut-fixing-satellite-in-cosmos.webp?a=1&b=1&s=612x612&w=0&k=20&c=kKbUh5LmPYBT2EmzUbTJ6MycKGcRA8zReE_D8FhwbjU=" 
        alt="A lone astronaut drifting beside a silent satellite, Earth glowing like a fading heartbeat in the far distance.">
    </header>

    <main class="story-content">
     <p> The silence began on the forty-seventh day. <br><br> Captain Arin Hale floated inside *Solara Station*, orbiting what used to be Earth ‚Äî now just a swirl of storms and light. He had been waiting for a transmission from Mission Control. It never came. </p> <p> He checked the comms again ‚Äî static. The hum of the engines sounded louder than usual, a reminder that he was the last living human in orbit. Or maybe anywhere. <br><br> Then, one night, a pulse broke through the static ‚Äî faint, rhythmic, almost like a heartbeat. He froze. Adjusted the frequency. And there it was again: a voice. </p> <p> ‚ÄúArin‚Ä¶ can you hear me?‚Äù <br><br> It was female ‚Äî soft, calm, distant. The signal was fragmented, but it carried something unmistakable: warmth. <br> He didn‚Äôt recognize it, yet it felt familiar ‚Äî like a song he‚Äôd forgotten but once loved. </p> <p> ‚ÄúWho are you?‚Äù he whispered. <br> No response. Only the faint echo of his own breath. <br><br> He traced the signal‚Äôs origin ‚Äî somewhere beyond lunar orbit. But there were no satellites left there. Nothing should have existed beyond that range. </p> <p> Over the next few days, he chased the voice. Each night it grew clearer, each word sharper: <br> *"You promised to come home."* <br><br> Arin stared at the fading planet below, memories breaking through the fog. His wife ‚Äî *Lira.* The launch day. Her hand pressed against his helmet‚Äôs glass. Her voice ‚Äî the same tone, the same cadence. </p> <p> He scrolled through old mission logs. The last message he‚Äôd sent from orbit was incomplete, cut off mid-sentence. *"I‚Äôll return before‚Äî"* That was it. The rest lost in transmission. <br><br> Now, decades ‚Äî or centuries ‚Äî might have passed. And yet, her voice still found him. </p> <p> He set a new trajectory toward the signal source, knowing it could burn the last of his fuel. But the human heart has always been irrational in the face of hope. <br><br> As the ship glided through a sea of broken satellites and cosmic dust, he began hearing music in the background of the transmission ‚Äî a lullaby Lira used to hum when the world still had stars. </p> <p> Then he saw it ‚Äî not a station, not debris, but a vast shimmering sphere of light. The pulse of the signal matched its rhythm. He drifted closer. The ship‚Äôs controls flickered ‚Äî time itself seemed to slow. <br><br> Inside the light, he saw a reflection ‚Äî himself, younger, laughing beside Lira under the blue skies of Earth. The sphere wasn‚Äôt transmitting a message. It was echoing a memory. </p> <p> A voice spoke again: *"Arin, if you hear this, it means you made it too far. Don‚Äôt follow me into the dark. Turn back. Live.‚Äù* <br><br> But there was nowhere left to return to. He reached for the console, whispered: *"I‚Äôm already home."* <br><br> The light swallowed the ship whole. And the signal went silent. </p> <p> Weeks later, deep-space scanners ‚Äî automated remnants of human technology ‚Äî picked up a new beacon. A repeating signal. One line of code, looping endlessly through the void: <br> <em>‚ÄúHope is not a frequency. It‚Äôs a choice.‚Äù</em> </p>
<p> <strong>Meaning / Reflection:</strong><br> *The Last Signal* is a story about connection beyond time ‚Äî about how love and hope can travel farther than light itself. It reminds us that even when the world ends, the echoes of who we were ‚Äî our memories, our promises ‚Äî keep searching for a way to be heard. <br><br> Because sometimes, the last signal isn‚Äôt a call for help ‚Äî it‚Äôs a reminder that we once existed, beautifully, together. üååüì° </p>
      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story38.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story40.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
