<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Last Letter of Ava Brooks</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Last Letter of Ava Brooks</h1>
      <p class="meta">August 5, 2025 ‚Ä¢ By Eleanor Vance</p>
      <div class="tags">
        <span class="tag">choices</span>
        <span class="tag">regret</span>
        <span class="tag">redemption</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1436219082/photo/dark-silhouette-of-young-focused-attentive-businesswoman-wearing-glasses-writes-something-in.webp?a=1&b=1&s=612x612&w=0&k=20&c=mV55KWkbhHGQcoSWYmlMqyf006sb3eCkTP5rn4uiX2I=" alt="A woman sitting by a window at dusk, pen in hand, paper before her, surrounded by unopened envelopes.">
    </header>

    <main class="story-content">
      <p>Rain had been falling for three days when Ava Brooks decided to open the box. It sat at the back of her wardrobe, sealed with old masking tape, marked in faded ink: ‚ÄúLetters ‚Äî unsent.‚Äù She had carried it with her through three homes, two marriages, and a lifetime of acclaim she no longer believed she deserved.</p>

<p>Ava Brooks, once the literary darling of the East Coast, hadn‚Äôt written a word in nearly eight years. Her hands still trembled when she tried to hold a pen, as if language itself had grown too heavy. The world thought she had retired, but in truth, she was simply waiting ‚Äî for courage, or for forgiveness, whichever came first.</p>

<p>She placed the box on her desk and began to peel away the tape. Inside lay hundreds of envelopes ‚Äî yellowed, brittle, each with a name she recognized but no address. Her mother. Her first husband. Her editor. And near the bottom, one written in a careful hand: <em>To Daniel Hale ‚Äî never sent.</em></p>

<p>She froze. Daniel had been her first love ‚Äî the man she‚Äôd left behind when her first novel was published. They had promised to write each other, but success had drowned sincerity. She‚Äôd written to him once, after his father died, but never posted it. The letter was here, still sealed, still waiting.</p>

<p>Her reflection stared back from the window ‚Äî an old woman with lines deepened by silence. ‚ÄúIt‚Äôs time,‚Äù she whispered, and tore it open.</p>

<hr>

<p><em>Dear Daniel,</em><br>
<em>I saw your father‚Äôs obituary in the paper today. I wanted to write something honest for once, but honesty frightens me more than fame ever did. You once told me that truth is a mirror ‚Äî the closer you get, the more you see what you tried to avoid. I think I‚Äôm finally standing close enough to see mine.</em></p>

<p><em>I left not because I stopped loving you, but because I couldn‚Äôt bear to love you halfway. The book was my escape. The world wanted stories, and I gave them ours, piece by piece, rewritten until it no longer hurt. You‚Äôll never know how many of your words they applauded without knowing they were yours.</em></p>

<p><em>If this never reaches you, know that some letters are not meant to arrive ‚Äî they‚Äôre meant to be lived through. If you‚Äôve found peace, don‚Äôt come looking for me. If you haven‚Äôt, forgive me for not being braver when it mattered.</em></p>

<p><em>‚Äî Ava</em></p>

<hr>

<p>By the time she finished reading, her hands were wet with tears. She sat in silence, surrounded by a lifetime of unsent truths. Then, with trembling resolve, she began to write again ‚Äî not to Daniel, not to the world, but to herself.</p>

<p><em>‚ÄúI forgive you,‚Äù</em> she wrote. The words felt strange, fragile, and utterly real.</p>

<p>Outside, the rain stopped. A faint golden light spread across the sky. Ava looked up from the page and smiled for the first time in years. Her house was quiet, but no longer empty. The letters could rest now ‚Äî because she finally had nothing left to hide.</p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Last Letter of Ava Brooks</em> is a story about reconciliation ‚Äî not with others, but with oneself. It reminds us that silence, though it can protect us, also imprisons us. Ava‚Äôs journey shows that forgiveness begins not when we are answered, but when we dare to speak our truth aloud. üïØÔ∏è‚úâÔ∏è</p>


      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story236.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story238.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
