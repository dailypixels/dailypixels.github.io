<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Letters Beneath the Willow</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">â† Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>Letters Beneath the Willow</h1>
      <p class="meta">May 12, 2025 â€¢ Alex Rivera</p>
      <div class="tags">
        <span class="tag">Romance</span>
        <span class="tag">Drama</span>
        <span class="tag">Mystery</span>
      </div>
      <img 
        class="featured-image" 
        src="https://plus.unsplash.com/premium_photo-1676637006427-6842428d6e51?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8QSUyMGRpbWx5JTIwbGl0JTIwaG90ZWwlMjBjb3JyaWRvciUyMHdpdGglMjBmbGlja2VyaW5nJTIwbGlnaHRzJTIwJUUyJTgwJTk0JTIwYXQlMjB0aGUlMjB2ZXJ5JTIwZW5kJTJDJTIwYSUyMGRvb3IlMjBoYWxmLW9wZW4lMkMlMjByZXZlYWxpbmclMjBvbmx5JTIwZGFya25lc3MlMjBiZXlvbmQufGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=500" 
        alt="A dimly lit hotel corridor with flickering lights â€”
at the very end, a door half-open, revealing only darkness beyond.">
    </header>

    <main class="story-content">
      <p> The rain had chased **Adrian Hale** all the way from the station to the *Silvercrest Hotel*. He stood under the awning, soaked to the bone, his camera case heavy against his shoulder. Inside, the lobby smelled of damp wood and time. An old chandelier trembled above him as if breathing. </p> <p> He was here for one reason â€” to write about the *Silvercrest Vanishing*. In 1973, an entire family had checked in for a vacation. The next morning, only their luggage was found. No bodies, no witnesses, not even footprints leaving the premises. The case went cold, but whispers said something was still wrong with the hotel. </p> <p> The receptionist â€” an elderly woman with half-moon glasses â€” looked up as Adrian approached. â€œChecking in?â€ she asked politely. â€œYes,â€ he said, â€œAdrian Hale. I reserved a room for two nights.â€ </p> <p> She flipped through her register and nodded. â€œRoom 706.â€ Her voice wavered slightly as she said the number. Then, almost hesitantly, she added, â€œThe elevator doesnâ€™t reach the seventh floor. Youâ€™ll need to take the stairs after six.â€ </p> <p> Adrian frowned. â€œThereâ€™s a seventh floor?â€ Her eyes darted toward the corridor. â€œFor maintenance only. But your room key says 706, so I suppose you have access.â€ </p> <p> He took the brass key â€” cold, heavy, and oddly scratched â€” and began climbing. The sixth floor was deserted. Wallpaper peeled off like old skin, and the smell of dust grew thicker with every step. Then came the staircase to seven â€” narrow, spiraling, lit by a single flickering bulb. </p> <p> When he reached the top, he realized something unsettling. There was only **one** door. *706.* </p> <p> He inserted the key. It turned with a slow metallic click. The door opened soundlessly. Inside, the room looked frozen in time â€” furniture wrapped in sheets, a mirror cracked across its center, a single window showing nothing but fog. </p> <p> He set his bag down and began unpacking his camera. As he turned, he noticed something carved faintly into the wall beside the bed: **â€œDonâ€™t close your eyes.â€** </p> <p> He snapped a photo. The flash illuminated the whole room â€” for a split second, he thought he saw a figure standing behind the curtain. When the light faded, there was nothing. Only the curtain swaying gently as though someone had brushed past it. </p> <p> Adrian sat on the edge of the bed, heart racing. The silence was too thick, too alive. Then, faintly, came a sound â€” a rhythmic tapping. Like footsteps. Coming from inside the walls. </p> <p> He grabbed his recorder. â€œDay one,â€ he whispered. â€œThe room isâ€”â€ A soft voice interrupted him. â€œStill waiting.â€ </p> <p> He froze. The voice wasnâ€™t his. It came from the corner of the room â€” from the mirror. In its cracked reflection, he saw movement â€” shadows forming shapes that werenâ€™t there. Faces. Eyes. A womanâ€™s hand pressed against the glass. </p> <p> Adrian stumbled backward, his chair toppling. The mirror began to hum, like static before a storm. And then â€” from behind him â€” another voice, calm, male, close enough to breathe into his ear: â€œWhy did you come back, Adrian?â€ </p> <p> He turned â€” no one. But the air was colder now. The walls pulsed faintly, as if the room itself had veins. He grabbed his camera, trembling, and took a photo of the mirror. When the image developed, it showed him standing beside the missing family from 1973. </p> <p> Adrian dropped the camera. The mirrorâ€™s reflection no longer showed the room â€” it showed the hotel lobby downstairs. He could see the receptionist at her desk. And then she looked up â€” straight into the mirror â€” and smiled. </p> <p> The lights flickered violently. Adrian bolted for the door, but it wouldnâ€™t open. The handle burned under his grip. Then, slowly, a knock came from the other side. One. Two. Three knocks. A whisper followed: â€œRoom 706 is full.â€ </p> <p> The next morning, the receptionist logged her guestbook. There was no entry for *Adrian Hale*. And the key to Room 706 â€” the one with scratches on its brass surface â€” lay neatly on the counter, slightly wet with rain. </p> <p><strong>Meaning / Reflection:</strong><br> *The Last Room on Floor Seven* is a psychological thriller about the spaces we shouldnâ€™t enter â€” and the truths that trap those who seek them. Some doors open once. Others never close. ğŸ•¯ï¸ </p>
      <p class="end-note">â€” End of Story â€”</p>
    </main>

    <nav class="story-navigation">
      <a href="story10.html" class="nav-button prev">â† Previous Story</a>
      <a href="story12.html" class="nav-button next">Next Story â†’</a>
    </nav>
  </article>
  <style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">â¤ï¸</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">ğŸ’¬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">âœ•</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent âœ…";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<script src="../js/storyFeatures.js"></script>

<footer class="site-footer">
  <p>Â© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
