<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Girl Who Loved the Moon</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">← Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Girl Who Loved the Moon</h1>
      <p class="meta">November 13, 2025 • By Mahira Ansari</p>
      <div class="tags">
        <span class="tag">moon</span>
        <span class="tag">love</span>
        <span class="tag">magic</span>
      </div>
      <img 
        class="featured-image" 
        src="https://media.istockphoto.com/id/1138248690/photo/make-a-wish.webp?a=1&b=1&s=612x612&w=0&k=20&c=y29GfKGjBKoelJZ17xhx0Imew1Belf0mU_5uMTBxNM4=" 
        alt="A silver-haired girl standing on a midnight cliff, her hand outstretched toward a glowing moon that seems to pulse in answer — as if it remembers her name.">
    </header>

    <main class="story-content">
      <p> There was a girl who loved the moon. <br><br> Not like poets do — from a distance, with words that fade by dawn — but with the quiet devotion of someone who believed the moon was alive. Her name was **Elara**, and she lived in a seaside village where the tides were ruled by its glow. </p> <p> Every night she climbed the cliffs and whispered her secrets into the sky. About the storms that took her father’s ship, about her dreams of leaving the island, about the ache that had no name. And the moon — bright and listening — always shimmered a little closer, as if in reply. </p> <p> The villagers called her strange. They said she was cursed with “moon-sickness,” that no mortal should love what cannot love back. But Elara knew what they didn’t — the moon *did* love her. It watched her from its silver throne, patient and silent, waiting for the right night to speak. </p> <p> That night came on her eighteenth birthday. The tide was unusually high, and the sea glowed white as if filled with liquid starlight. When Elara spoke, the moon answered — not in thunder or light, but in a voice made of wind and water. </p> <p> “Elara,” it said, “you have called me for years. Now I call you.” <br> The waves rose higher, curling around her ankles like gentle hands. “Come to me,” the moon whispered. “The world below forgets, but the sky remembers.” </p> <p> And she went. The villagers saw the light that night — a column of silver rising from the sea. They said the girl was gone, taken by the ocean or the stars. But Elara woke on a shore of silver dust, beneath a sky that breathed. She stood in the kingdom of the moon. </p> <p> There, the moon was not just a light — it was a being. A man with eyes like eclipses and skin that shimmered between shadow and glow. “You are the only one who ever truly saw me,” he said. “The world prays to me, but you *spoke* to me.” </p> <p> She reached out, trembling. “Why me?” “Because love,” he said, “is the only magic strong enough to pull the sky to earth.” <br> When their hands met, the stars flared bright — and for the first time, the moon knew warmth. </p> <p> She stayed with him for what felt like years — though time in the sky does not pass as it does below. Together they walked among the craters and seas of light, speaking in silence, dreaming in color. Yet, one day, Elara felt her heart tug toward the earth again — her village, her mother, the waves. “You must go,” the moon said softly. “Even light must return to where shadows wait.” </p> <p> He gave her a single drop of silver flame. “Keep this,” he said. “When the world feels dark, light it — and I will see you.” When she awoke, she was back on her cliff, barefoot and glowing faintly beneath the stars. In her palm burned the silver flame — small, eternal, and warm. </p> <p> The villagers still tell the story of the girl who vanished into moonlight. Some say she was chosen. Others say she went mad. But when the moon is full and the sea shines like glass, a voice can sometimes be heard above the waves — whispering, laughing, alive. </p> <p> And if you look closely, you’ll see a faint figure dancing on the edge of light — <br> a girl and her moon, still in love, still keeping their promise across eternity. </p>
<p> <strong>Meaning / Reflection:</strong><br> *The Girl Who Loved the Moon* reminds us that true connection defies boundaries — time, distance, even worlds. Love is not about possession, but remembrance — the kind that glows quietly, even when apart. <br><br> Some loves are not meant to end; they simply rise and fall like the tide, forever returning to the shore. 🌙💫 </p>
      <p class="end-note">— End of Story —</p>
    </main>

    <nav class="story-navigation">
      <a href="story16.html" class="nav-button prev">← Previous Story</a>
      <a href="story18.html" class="nav-button next">Next Story →</a>
    </nav>
  </article>
  <style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<script src="../js/storyFeatures.js"></script>

<footer class="site-footer">
  <p>© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
