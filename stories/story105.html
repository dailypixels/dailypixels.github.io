<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Mapmaker of Dawn</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Mapmaker of Dawn</h1>
      <p class="meta">October 17, 2025 ‚Ä¢ By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">exploration</span>
        <span class="tag">truth</span>
        <span class="tag">courage</span>
        <span class="tag">discovery</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1636034439/photo/old-world-map-for-columbus-day-concept.webp?a=1&b=1&s=612x612&w=0&k=20&c=LmQNhc8bjASacjmQzpyXJSdV2kITwR2lCDFgEkTGRB8=" alt="An aged map spread across a wooden table lit by candlelight, its edges frayed, showing continents half-drawn and seas unnamed.">
    </header>

    <main class="story-content">
      <p> In the spring of 1532, when kingdoms fought for oceans and glory, a young cartographer named <em>Renato di Castello</em> worked in the shadowed chambers of the Royal Geographical Guild of Florence. His hands were steady, his eyes sharp, and his ink ‚Äî a mix of soot and honey ‚Äî flowed with the patience of the stars. </p>

<p> Renato was not a sailor, but he knew the sea better than most who sailed it. Every coastline he traced, every mountain he marked, he did so from the stories of others ‚Äî explorers who returned with gold, wounds, or silence. Yet one question haunted him: what lay beyond the lines where maps ended? </p>

<p> The king‚Äôs decree forbade mapping territories beyond the *Edge of the Crown* ‚Äî lands considered heretical, cursed, or ‚Äúbelonging to God alone.‚Äù But one night, a sailor returned from a wrecked voyage and brought him something strange: a fragment of parchment showing a new continent. Its markings were unlike anything Renato had ever seen ‚Äî rivers that bent like veins, mountains shaped like spirals. At the corner of the page, a single word was written in crimson: *Aurora*. </p>

<p> ‚ÄúWhere did you find this?‚Äù Renato asked. </p>

<p> ‚ÄúBeyond the storms,‚Äù the sailor whispered. ‚ÄúWhere the sun rises twice.‚Äù </p>

<p> That night, under the flickering light of his candle, Renato began to redraw the world. He traced the fragment onto a new map, connecting the unknown with what was known. For weeks, he toiled in secret, hiding his work beneath false layers of parchment. Yet whispers spread ‚Äî and the king‚Äôs advisors grew suspicious. </p>

<p> When the guards came, Renato fled with only his compass and the unfinished map. He sought refuge in the harbor, where he met <em>Isabela Ferran</em>, a ship captain known for defying the royal decree. Her vessel, *The Dawnstar*, was said to have crossed seas untouched by chart or name. </p>

<p> ‚ÄúYou draw what others fear to see,‚Äù she said. ‚ÄúSail with me ‚Äî and we‚Äôll find what truth even kings can‚Äôt deny.‚Äù </p>

<p> For months, they journeyed across monstrous waves and silent skies. Storms tore at their sails, and hunger tested their resolve. But one dawn, as the horizon glowed red and gold, they saw it ‚Äî a land rising from mist, vast and untouched. The second sunrise. *Aurora.* </p>

<p> Renato stepped ashore and knelt, pressing his fingers into the soil. It was warm, alive. He began sketching at once ‚Äî trees with silver leaves, rivers that shimmered like glass. Yet when he looked back toward the ship, he saw Isabela watching him with quiet awe. ‚ÄúYou‚Äôve done it,‚Äù she said. ‚ÄúYou‚Äôve drawn the edge of the world.‚Äù </p>

<p> ‚ÄúNo,‚Äù Renato whispered. ‚ÄúOnly its beginning.‚Äù </p>

<p> Years later, after the voyage was lost to time, a weathered map surfaced in a Florentine monastery. The lands upon it were drawn with impossible precision, their borders still unnamed. At the bottom corner, a message was written in faded ink: <em>‚ÄúFor those who still believe the horizon is not an end, but a promise.‚Äù</em> </p>

<p><strong>Meaning / Reflection:</strong><br>
*The Mapmaker of Dawn* is a story about courage ‚Äî the kind that defies boundaries drawn by fear. It reminds us that discovery isn‚Äôt only about new lands, but new ways of seeing. True explorers aren‚Äôt those who find the world‚Äôs edges, but those who dare to move beyond them. üó∫Ô∏è‚ú® </p>


      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story104.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story106.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
