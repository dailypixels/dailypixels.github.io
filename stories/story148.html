<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Shadow in Apartment 9B</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">â† Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Shadow in Apartment 9B</h1>
      <p class="meta">December 3, 2025 â€¢ Rowan Hayes</p>
      <div class="tags">
        <span class="tag">survival</span>
        <span class="tag">mystery</span>
        <span class="tag">deception</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1818118546/photo/symmetry-door-corridor.webp?a=1&b=1&s=612x612&w=0&k=20&c=gRf_BKwqWyVUhEAOO29Y7J4YND4ZOxOB8b9_Dw2PUzQ=" alt="A dimly lit apartment corridor, one door slightly ajar with a faint light spilling out.">
    </header>

    <main class="story-content">
      <p><strong>Part I: The Move-In</strong></p>

<p>It was nearly midnight when Clara Reed carried the last box into Apartment 9B. The hallway smelled faintly of bleach and old paint, and somewhere in the distance, a faucet dripped with irregular rhythm. Sheâ€™d taken the place because it was cheap â€” too cheap for the heart of the city. â€œOld buildings have character,â€ the landlord had said. But this one had something else entirely.</p>

<p>When she turned on the kitchen light, it flickered three times before holding steady. On the counter lay a single key â€” old, brass, and not hers. The tag read simply: *Basement.*</p>

<p>â€œIâ€™m not dealing with that tonight,â€ she muttered, tossing it into a drawer. She unpacked a few things, made some tea, and tried to settle in. But as she drifted off on the couch, she heard it â€” the sound of footsteps directly above her. Slow, deliberate, dragging. Exceptâ€¦ there was no Apartment 10B. The top floor ended with hers.</p>

<p><strong>Part II: The Whispering Walls</strong></p>

<p>Over the next week, strange things began to happen. Her coffee mugs changed places overnight. The lights in the bathroom would flicker whenever she entered. Sometimes, faint whispers seeped through the vents â€” words she couldnâ€™t quite make out, though one phrase came clearer each time: â€œDonâ€™t go below.â€</p>

<p>Clara mentioned it to the building manager, but he only smiled thinly. â€œOld pipes. Donâ€™t let the place get to you.â€</p>

<p>But the building <em>did</em> get to her. One evening, when she returned from work, she found her front door unlocked. Inside, the living room rug had been rolled back, revealing a trapdoor she swore hadnâ€™t been there before. In its metal ring sat the brass key marked *Basement.*</p>

<p>Her pulse quickened. â€œNo,â€ she whispered. â€œNo way.â€ But curiosity â€” that dangerous human weakness â€” won again.</p>

<p><strong>Part III: The Basement Below</strong></p>

<p>The trapdoor led to a narrow stairwell descending into darkness. Each step groaned under her weight. The air grew colder, damper. She turned on her phoneâ€™s flashlight, revealing concrete walls covered in old, faded newspaper clippings â€” all of them about missing tenants from this same building.</p>

<p>Then she saw it: a door at the end of the hall, half-open, light spilling from within. On it, someone had carved â€œ9B.â€</p>

<p>Claraâ€™s breath caught. The door creaked open further on its own, revealing a mirror image of her apartment â€” same furniture, same photos â€” except everything was coated in a thin layer of dust. Her voice trembled. â€œWhat is this?â€</p>

<p>In the reflection of the dusty mirror on the wall, she saw movement. A shape. A figure standing just behind her. She spun around â€” nothing. But when she looked back at the mirror, the shadow was still there, smiling.</p>

<p><strong>Part IV: The Shadowâ€™s Truth</strong></p>

<p>She fled up the stairs, slamming the trapdoor shut and locking it. The whispers followed her now â€” louder, pleading. â€œYou were never supposed to find it.â€</p>

<p>That night, she didnâ€™t sleep. Every few minutes, she swore she saw movement in the corners of her vision. Finally, at 3:14 a.m., she opened her laptop and searched the buildingâ€™s name. The results made her blood run cold.</p>

<p>In 1985, there had been a fire in Apartment 9B. The tenant â€” a woman named Clara Reed â€” was never found. Declared dead. The building had been abandoned for decades before its recent renovation.</p>

<p>Her hands shook as she reached for the mirror on her wall. The same mirror from the basement apartment. She touched the glass â€” and her reflection smiled a moment before she did.</p>

<p><strong>Part V: The Final Tenant</strong></p>

<p>When the building manager entered 9B the next morning, he found it empty. No boxes, no furniture, no trace of anyone ever living there. Only a faint handprint on the mirror and a brass key resting on the floor.</p>

<p>He sighed, pocketed the key, and whispered into the empty air, â€œWelcome home, Clara.â€</p>

<p>The lights flickered once â€” then went out.</p>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Shadow in Apartment 9B</em> explores the thin boundary between memory and existence. Itâ€™s a reminder that sometimes, the things we fear most are the echoes of ourselves â€” the lives we left unfinished, the stories that never learned how to end. ğŸ•¯ï¸</p>


      <p class="end-note">â€” End of Story â€”</p>
    </main>

    <nav class="story-navigation">
      <a href="story147.html" class="nav-button prev">â† Previous Story</a>
      <a href="story149.html" class="nav-button next">Next Story â†’</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">â¤ï¸</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">ğŸ’¬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">âœ•</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent âœ…";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>Â© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
