<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Lantern of Aeloria</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Lantern of Aeloria</h1>
      <p class="meta">October 20, 2025 ‚Ä¢ By Kiran Hale</p>
      <div class="tags">
        <span class="tag">magic</span>
        <span class="tag">destiny</span>
        <span class="tag">courage</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1142574635/photo/beautiful-colorful-illuminated-lamp-in-the-garden-in-misty-night-retro-style-lantern-at-night.webp?a=1&b=1&s=612x612&w=0&k=20&c=XgsVPQvFW6VrSWVZ2Ebn-Kv4qYifoXufqNf9ekom3pQ=" alt="An ancient glowing lantern hanging in a misty forest">
    </header>

    <main class="story-content">
      <p>In the kingdom of Aeloria, the sun had not risen in two hundred years.</p>

<p>Children were born beneath silver moons, crops glowed faintly with star-dust, and every street lamp burned with conjured flame. The world had forgotten warmth. Legends said that the sun‚Äôs heart ‚Äî the Ember of Dawn ‚Äî had been stolen by the Shadow King and sealed deep within the Frosted Vale, where no mortal dared to tread.</p>

<p>Among the starving and the cold lived a boy named Cael, an orphan who scavenged ruins and traded old copper for bread. He‚Äôd never seen sunlight, but he‚Äôd heard stories from the oldest dreamers ‚Äî stories of gold skies and green forests. He laughed at them once. But that changed the night he found the lantern.</p>

<hr>

<p>It was buried beneath an abandoned watchtower, half-swallowed by ice. The lantern was unlike any he‚Äôd seen ‚Äî etched with runes that pulsed faintly when he touched them. Inside, a spark flickered ‚Äî not white, not blue, but <em>warm.</em></p>

<p>When his fingers brushed the glass, the flame blazed, filling the ruins with light that made his breath hitch. It was gentle, not searing. The first real warmth he had ever felt.</p>

<p>That‚Äôs when the whisper came.</p>

<p><em>‚ÄúBearer of the Light... the dawn remembers you.‚Äù</em></p>

<p>He staggered back. ‚ÄúWho said that?‚Äù</p>

<p><em>‚ÄúThe Lantern of Aeloria,‚Äù</em> the voice replied, echoing from within the flame. <em>‚ÄúTake me home.‚Äù</em></p>

<hr>

<p>That night, the constables of the Shadow Guard found him. They‚Äôd seen the light ‚Äî and no light but theirs was allowed to shine. Cael fled through frozen alleys, clutching the lantern to his chest. Arrows hissed past his head; one struck the cobbles beside him, scattering frost.</p>

<p>He ran beyond the city walls, toward the forbidden Vale ‚Äî the place where no sound carried and no bird flew. The ground was glassy, the sky heavy with unbroken dark. Still, the lantern‚Äôs flame glowed steady, guiding his steps.</p>

<p>Days passed. He crossed valleys of black ice and rivers of shadow that froze the soul. And at the edge of the world, he found it ‚Äî a throne of obsidian, and upon it, the Shadow King himself.</p>

<p>‚ÄúYou carry what is mine,‚Äù the King‚Äôs voice thundered. ‚ÄúReturn the sun, boy, and I may spare your breath.‚Äù</p>

<p>Cael‚Äôs heart pounded. ‚ÄúYou stole it from everyone. You don‚Äôt deserve its light.‚Äù</p>

<p>The King smiled, slow and cruel. ‚ÄúLight is wasted on those who cannot bear its truth.‚Äù</p>

<p>The King rose, darkness coiling around him like smoke. ‚ÄúThen let the night have you.‚Äù</p>

<p>The lantern trembled in Cael‚Äôs hand. He remembered the warmth, the whisper, the promise. The voice spoke again inside him:</p>

<p><em>‚ÄúBreak the glass.‚Äù</em></p>

<p>‚ÄúWhat will happen?‚Äù Cael whispered.</p>

<p><em>‚ÄúThe dawn will return... but you will not.‚Äù</em></p>

<p>He hesitated. To die for light ‚Äî was that madness, or meaning?</p>

<p>The Shadow King‚Äôs shadow lunged. Cael closed his eyes and smashed the lantern upon the stone.</p>

<hr>

<p>Light exploded outward ‚Äî pure, golden, endless. It swept across the land like a tide, burning through centuries of night. The Shadow King screamed, dissolving into the brilliance. The Vale melted, mountains wept, and the sky cracked open to reveal a dawn unseen for generations.</p>

<p>And in that light, Cael smiled once ‚Äî before he became part of it.</p>

<hr>

<p>When the sun rose over Aeloria for the first time in two hundred years, the people wept. They found a broken lantern at the edge of the Vale, and within it ‚Äî a single feather of flame still glowing faintly.</p>

<p>They built a shrine there, and called it the <em>Resting Place of the First Dawnbearer</em>.</p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Lantern of Aeloria</em> is a story of sacrifice and hope ‚Äî a reminder that even in endless darkness, light survives through those brave enough to carry it. Sometimes, the smallest spark can awaken a forgotten world. ‚ú®</p>


      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story250.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story252.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
