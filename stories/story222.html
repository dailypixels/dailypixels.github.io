<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Last Letter CafÃ©</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">â† Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Last Letter CafÃ©</h1>
      <p class="meta">April 12, 2025 â€¢ By Elara Moreau</p>
      <div class="tags">
        <span class="tag">second chances </span>
        <span class="tag">love</span>
        <span class="tag">destiny</span>
        <span class="tag">letters</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1002007146/photo/close-up-view-of-sketches-on-wall-arranged-tattoo-machines-and-paint-at-tattoo-salon.webp?a=1&b=1&s=612x612&w=0&k=20&c=JkRjwdKJOpSCFG1DUHQlgbd1L24RWJt8qk9ovd5hltY=" alt="A cozy cafÃ© corner with letters pinned to a corkboard, sunlight pouring through lace curtains.">
    </header>

    <main class="story-content">
      <p>The Last Letter CafÃ© sat on the corner of Rue des Tides, where the sea breeze carried the smell of salt and coffee through open windows. Every wall inside was lined with letters â€” unsent, unread, and unsigned. The rule was simple: write what you wish youâ€™d said, then pin it to the wall. Sometimes, people left lighter. Sometimes, they didnâ€™t come back.</p>

<p>Claire came every Sunday at 9:00 a.m. She always sat at the same table by the window, ordered a cinnamon latte, and read random letters. She never wrote one herself â€” until that morning.</p>

<p>She took out a small sheet of cream-colored paper and began:</p>

<p><em>â€œTo the one I let go â€”</em><br>
<em>Maybe we were too young. Maybe the world was too big. But I still look for you in every face that turns toward me when I laugh. If love has seasons, ours never really ended â€” it just froze mid-bloom.â€</em></p>

<p>She signed it only with an initial: <em>â€”C.</em></p>

<p>When she pinned it to the board, she noticed another letter already hanging nearby. The handwriting was oddly familiar. She leaned closer.</p>

<p><em>â€œTo the one who loved coffee and silence more than words â€”</em><br>
<em>I walked away believing time would fix what pride had broken. But every sunrise reminds me of that morning at the pier, when you said nothing â€” and I realized silence could hurt too.â€</em><br>
<em>â€”L.</em></p>

<p>Claireâ€™s hand trembled slightly. There was only one person who called her â€œthe one who loved coffee and silence.â€ Liam.</p>

<p>He had been her first everything â€” first kiss, first heartbreak, first almost. They had met in university, fallen in love between deadlines and rainstorms, and drifted apart when life started pulling them in opposite directions. She moved to the city; he stayed by the sea. Neither said goodbye properly.</p>

<p>She looked around the cafÃ©, her pulse racing. And then â€” she saw him.</p>

<p>Liam stood at the counter, holding a cup of black coffee, looking uncertainly at the letters on the wall. He hadnâ€™t changed much. His hair was a little shorter, his shoulders broader, but his eyes â€” they were still the same calm blue that once steadied her world.</p>

<p>When their eyes met, time folded in on itself. Neither of them moved for a moment, afraid the spell might break.</p>

<p>â€œI didnâ€™t think youâ€™d ever come here,â€ he said finally, walking closer.</p>

<p>Claire smiled faintly. â€œI didnâ€™t think youâ€™d still be in town.â€</p>

<p>He chuckled softly. â€œSeems like neither of us really left.â€</p>

<p>They sat down, awkward at first, words catching in their throats. But as the morning sun climbed higher, something softened between them. They talked about everything â€” the years apart, the people they became, and the moments that still haunted them.</p>

<p>â€œWhy did you write the letter?â€ she asked quietly.</p>

<p>Liam looked at her, his expression raw. â€œBecause I needed to say what I didnâ€™t then. That I never stopped loving you â€” even when I tried to.â€</p>

<p>Claireâ€™s eyes filled. â€œYouâ€™re late, Liam.â€</p>

<p>He nodded. â€œI know. But maybe not too late.â€</p>

<p>Outside, gulls flew low across the sea, and the cafÃ© filled with the hum of new voices and quiet laughter. Claire reached across the table, her fingers brushing his. This time, she didnâ€™t pull away.</p>

<p>The cafÃ© wall would soon hold two fewer letters â€” but maybe, a new story was beginning between them, written not in ink, but in presence.</p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Last Letter CafÃ©</em> reminds us that love doesnâ€™t always end when people part â€” sometimes it waits, quietly, until both hearts are ready again. Words left unsaid have power, but so does forgiveness. When we find the courage to speak â€” or listen â€” love can begin anew, even in the unlikeliest places. â˜•ğŸ’Œ</p>


      <p class="end-note">â€” End of Story â€”</p>
    </main>

    <nav class="story-navigation">
      <a href="story221.html" class="nav-button prev">â† Previous Story</a>
      <a href="story223.html" class="nav-button next">Next Story â†’</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">â¤ï¸</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">ğŸ’¬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">âœ•</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent âœ…";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>Â© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
