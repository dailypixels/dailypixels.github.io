<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Clockmakerâ€™s Promise</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">â† Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Clockmakerâ€™s Promise</h1>
      <p class="meta">August 7, 2025 â€¢ By Lucien Dâ€™Artois</p>
      <div class="tags">
        <span class="tag">fate</span>
        <span class="tag">love</span>
        <span class="tag">memory</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1454673943/photo/design-chocolate.webp?a=1&b=1&s=612x612&w=0&k=20&c=ORV2sIxzyg5L0He4JqlXVHt-FHD5NLNxOkeKNjqJjdU=" alt="A vintage clock shop glowing softly in the evening, gears and timepieces gleaming behind misted glass.">
    </header>

    <main class="story-content">
     <p>The rain was soft that evening in Montmartre, a slow drizzle tapping against the windows of â€œLe Temps RetrouvÃ©â€ â€” The Time Reclaimed â€” a small clock shop tucked between two cafÃ©s. Ã‰tienne Marchand, the owner, was a man of routine and silence. He spoke to his clocks more than he spoke to people. Each tick was a heartbeat he could control, each chime a reminder that time, at least within his walls, could still be mended.</p>

<p>One late evening, as he was closing shop, the bell above the door jingled. A woman entered, wrapped in a gray coat, her hair damp from rain. She carried an old pocket watch, its glass cracked, its hands motionless. â€œThey told me,â€ she said softly, â€œthat you fix things no one else can.â€</p>

<p>Ã‰tienne looked at the watch. The initials engraved on the back â€” *L.M.* â€” made him pause. â€œWhere did you get this?â€</p>

<p>â€œIt was my grandfatherâ€™s,â€ she said. â€œOrâ€¦ it should have been. It stopped the night he died. I found it in his drawer years later.â€</p>

<p>Her voice trembled slightly. Ã‰tienne nodded and promised to look at it. She thanked him, left her name â€” *LÃ©a Moreau* â€” and stepped out into the mist. He watched her walk away, unaware that the watch she carried had once belonged to his own father â€” a piece heâ€™d sold long ago when youth made him reckless and love felt endless.</p>

<hr>

<p>That night, Ã‰tienne worked on the watch beneath the flickering lamplight. Inside, he found a folded slip of paper wedged behind the gears â€” a faded note written in looping script:</p>

<p><em>â€œTo L., my heart will keep time until you return.â€</em></p>

<p>He froze. The handwriting was unmistakable. It was his motherâ€™s â€” addressed to the man sheâ€™d loved after Ã‰tienneâ€™s father had gone to war. He realized then that LÃ©aâ€™s grandfather must have been that man. Two families, bound by a love that had once defied time, now intertwined through a broken clock.</p>

<p>When LÃ©a returned days later, Ã‰tienne showed her the restored piece and the note. Her eyes widened, glistening in disbelief. â€œThatâ€™s her handwriting,â€ she whispered. â€œMy grandmotherâ€™s. I never knew she loved anyone before my grandfather.â€</p>

<p>Ã‰tienne smiled gently. â€œSometimes,â€ he said, â€œlove doesnâ€™t end â€” it just waits to be remembered.â€</p>

<p>They stood together in silence as the watch began to tick again. The sound was small, steady, alive â€” a heartbeat shared across generations.</p>

<hr>

<p>Weeks passed. LÃ©a began visiting more often â€” bringing tea, stories, laughter. Ã‰tienne, who had once measured his days by clock hands, now counted them by her smiles. Time, which he had once tried to master, now moved freely again â€” not as something to repair, but something to live within.</p>

<p>On the night she finally confessed sheâ€™d fallen in love with him, the clocks struck midnight. The entire shop sang with chimes, as if time itself were giving its blessing.</p>

<p>Ã‰tienne took her hand and whispered, â€œThen letâ€™s not fix what isnâ€™t broken.â€</p>

<p>Outside, Paris glowed like a dream rediscovered â€” the city of time, and of love, ticking beautifully onward.</p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Clockmakerâ€™s Promise</em> reminds us that love, like time, never truly stops â€” it only waits for someone brave enough to listen for its rhythm again. In healing what was broken, we often find the heart we thought weâ€™d lost. â³â¤ï¸</p>


      <p class="end-note">â€” End of Story â€”</p>
    </main>

    <nav class="story-navigation">
      <a href="story237.html" class="nav-button prev">â† Previous Story</a>
      <a href="story239.html" class="nav-button next">Next Story â†’</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">â¤ï¸</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">ğŸ’¬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">âœ•</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent âœ…";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>Â© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
