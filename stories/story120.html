<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Whispering Corridor</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Whispering Corridor</h1>
      <p class="meta">October 17, 2025 ‚Ä¢ By Elias North</p>
      <div class="tags">
        <span class="tag">suspense</span>
        <span class="tag">mystery</span>
        <span class="tag">paranoia</span>
        <span class="tag">truth</span>
      </div>
      <img class="featured-image" src="https://plus.unsplash.com/premium_photo-1676637006427-6842428d6e51?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8QSUyMGRpbWx5JTIwbGl0JTIwY29ycmlkb3IlMjBsaW5lZCUyMHdpdGglMjBmbGlja2VyaW5nJTIwbGlnaHRzJTJDJTIwc2hhZG93cyUyMHN0cmV0Y2hpbmclMjBhbG9uZyUyMGNyYWNrZWQlMjB0aWxlcyUyQyUyMGElMjBzaW5nbGUlMjBkb29yJTIwaGFsZi1vcGVuJTIwYXQlMjB0aGUlMjBlbmQufGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=500" alt="A dimly lit corridor lined with flickering lights, shadows stretching along cracked tiles, a single door half-open at the end.">
    </header>

    <main class="story-content">
     <p>The clock struck midnight when <strong>Jonas Hale</strong> began his shift at the abandoned St. Meridian Hospital. The city had closed it down years ago after a fire gutted half the east wing, but the government still paid for round-the-clock surveillance ‚Äî ‚Äúfor liability reasons,‚Äù his supervisor said. Jonas didn‚Äôt ask questions. He just needed the paycheck.</p>

<p>He‚Äôd been on duty for two weeks now, and the building was always silent ‚Äî too silent. Every footstep echoed like a scream. The air smelled faintly of disinfectant and dust. The hallways stretched into endless shadows, and the fluorescent lights flickered as if struggling to stay alive.</p>

<p>On the fifteenth night, the silence broke.</p>

<p>He was making his rounds through the third-floor corridor when he heard it ‚Äî a whisper. Soft, low, coming from somewhere behind him.</p>

<p>He froze. ‚ÄúWho‚Äôs there?‚Äù</p>

<p>Nothing. Just the hum of the old generators.</p>

<p>He tried to laugh it off, told himself it was the wind seeping through broken vents. But as he turned to leave, the intercom crackled to life. Static filled the air ‚Äî then, a faint voice: <em>‚ÄúRoom 314.‚Äù</em></p>

<p>Jonas‚Äôs heart slammed against his ribs. That room didn‚Äôt exist. The top floors had been sealed after the fire ‚Äî he‚Äôd checked every door. Still, something compelled him. He climbed the staircase, flashlight trembling in his grip, until he reached the blackened remains of the east wing.</p>

<p>There, hidden behind a fallen sign, was a door covered in soot: 314.</p>

<p>He tried the handle. It opened.</p>

<p>Inside, the air was heavy with the smell of burnt paper and chemicals. The walls were lined with patient files, half-melted and charred. In the center of the room sat a rusted hospital bed ‚Äî and on it, a single photo. Jonas‚Äôs flashlight flickered as he picked it up.</p>

<p>It was a group photo of hospital staff‚Ä¶ and there he was. Younger, smiling, wearing a white coat. The label beneath read: <strong>Dr. Jonas Hale ‚Äì Neurology</strong>.</p>

<p>His blood ran cold. He wasn‚Äôt a doctor. He‚Äôd never been one.</p>

<p>The whisper came again, closer now, right by his ear. <em>‚ÄúYou left us here.‚Äù</em></p>

<p>Jonas staggered back, knocking over a cabinet. Files spilled everywhere ‚Äî patient reports dated ten years earlier. Each listed the same attending physician: <strong>Dr. Jonas Hale</strong>.</p>

<p>Memories began to surface ‚Äî fire alarms, running footsteps, a locked door, and voices begging to be let out. He remembered the experiments, the patients who never woke up, the serum meant to erase trauma‚Ä¶ and the night it all went wrong.</p>

<p>He‚Äôd survived the fire. The others hadn‚Äôt.</p>

<p>‚ÄúNo,‚Äù he whispered. ‚ÄúThat‚Äôs not possible.‚Äù</p>

<p>The intercom crackled again, filling the room with static ‚Äî then screams, faint at first, then deafening. The door slammed shut. The lights burst, plunging everything into darkness.</p>

<p>When morning came, the next guard found Jonas‚Äôs flashlight in the corridor outside Room 314. The room itself was empty ‚Äî the door sealed by rust, as if untouched for years.</p>

<p>But the security footage from that night showed something else ‚Äî a man in a lab coat walking calmly down the east wing, smiling into the camera, before fading into static.</p>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Whispering Corridor</em> is a story about guilt and memory ‚Äî how the past never truly stays buried. It reminds us that the mind can rewrite truth, but never erase it. Sometimes, the most haunting places aren‚Äôt buildings‚Ä¶ they‚Äôre our own memories. üïØÔ∏è</p>

      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story119.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story121.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
