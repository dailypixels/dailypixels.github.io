<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Sound of Falling Snow</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">← Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Sound of Falling Snow</h1>
      <p class="meta">October 17, 2025 • By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">love</span>
        <span class="tag">memory</span>
        <span class="tag">distance</span>
        <span class="tag">letters</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1987358555/photo/winter-evening-snowfall-near-forest-cabin.webp?a=1&b=1&s=612x612&w=0&k=20&c=1DGE9-K2hASBVgmRIfRlGyVPL5TWBXG2ByQ-lUE3OSQ=" alt="A quiet mountain village at dusk, snowflakes drifting through lantern light as two figures stand apart, their breath visible in the cold air.">
    </header>

    <main class="story-content">
      <p> The first snow of the year fell softly over <em>Elmsridge</em> — a small mountain town tucked between frozen lakes and whispering pines. <em>Clara Wynn</em> stood by the window of the inn, her fingers tracing fog on the glass, watching the streets she had once called home. Ten years had passed since she left. Ten years since the night she had promised to return. </p>

<p> Outside, the square was alive with winter lights and laughter. Musicians played carols, children danced in mittens, and from the old clock tower came a faint tune — the same one she had written with <em>Julian Hart</em> the winter they fell in love. </p>

<p> Back then, she was a writer with dreams bigger than the sky, and Julian was a violinist who believed every story deserved a melody. They had met in that very square — she writing by the fountain, he busking beside it. Their friendship bloomed into something more, something fragile and golden. But when her stories were accepted in a New York publication, she left — chasing her words while leaving his music behind. </p>

<p> For years, they wrote letters. Then fewer. Then none. Until silence filled what used to be love. </p>

<p> Now, in 2025, Clara had returned — not as the dreamer who left, but as a woman who had realized success could never replace meaning. She carried one envelope in her pocket, yellowed at the edges, postmarked ten years ago but never opened. Julian’s last letter. </p>

<p> As she stepped out into the snow, she followed the sound of the violin. It came from the clock tower — faint, yet unmistakably his. Her breath caught. The melody was unfinished, just as it had been the night she left. </p>

<p> She climbed the narrow steps, each one echoing with a heartbeat she hadn’t felt in years. When she reached the top, he was there — older, yes, but his eyes still carried that same quiet fire. The bow paused midair when he saw her. </p>

<p> “Clara,” he breathed. “You came back.” </p>

<p> “I heard the song,” she said softly. “You never finished it.” </p>

<p> He smiled faintly. “Because the story wasn’t over.” </p>

<p> She took out the envelope and handed it to him. “I never opened this. I was afraid of what it said.” </p>

<p> He unfolded the letter slowly, his hands trembling slightly. The ink had faded, but the words were still clear: *‘If one day the snow falls again in Elmsridge, I’ll be waiting at the clock tower. Not to start over — but to remember that we once existed beautifully.’* </p>

<p> Clara’s eyes filled with tears. “You waited.” </p>

<p> “Some loves don’t ask for forever,” he said quietly. “They just ask to be remembered right.” </p>

<p> They stood together, snow drifting through the open windows, the melody of their song wrapping around them like a memory reborn. For a while, they didn’t speak. The world below carried on — lights twinkling, bells ringing — but in that tower, time paused. </p>

<p> When dawn came, the square glowed golden with morning light. Julian played the final note of their unfinished song, and this time, Clara joined him — her voice weaving through his violin like a promise finally fulfilled. </p>

<p> When the music faded, she smiled. “It’s finished.” </p>

<p> “No,” he said gently. “It’s complete.” </p>

<p><strong>Meaning / Reflection:</strong><br>
*The Sound of Falling Snow* is a story about love that endures through silence and distance — not because it demands to last forever, but because it leaves behind something true. It reminds us that some people return not to rekindle what was, but to honor what will always be a part of them. Sometimes closure is not an ending — it’s music finally finding its last note. ❄️🎻 </p>


      <p class="end-note">— End of Story —</p>
    </main>

    <nav class="story-navigation">
      <a href="story90.html" class="nav-button prev">← Previous Story</a>
      <a href="story92.html" class="nav-button next">Next Story →</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
