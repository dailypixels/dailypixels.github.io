<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Mapmaker’s Daughter</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">← Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Mapmaker’s Daughter</h1>
      <p class="meta">October 20, 2025 • By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">exploration</span>
        <span class="tag">courage</span>
        <span class="tag">discovery</span>
      </div>
      <img 
        class="featured-image" 
        src="https://media.istockphoto.com/id/1148349897/photo/treasure-map.webp?a=1&b=1&s=612x612&w=0&k=20&c=FlAS7y4hfKg2orlzM6XPvkFrMH-j5ktOWyzbmGWQVhs=" 
        alt="A weathered parchment map spread across an old wooden table — its edges burned, its lines leading into mountains wrapped in mist, where something more than gold waits to be found.">
    </header>

    <main class="story-content">
      <p> The map was hidden beneath the false bottom of an old chest, folded so many times that its creases looked like scars. *Lyra Hale* found it the day her father died — a mapmaker whose hands had drawn half the known world, but whose eyes had always searched for something beyond it. </p> <p> “Promise me,” he had whispered, voice thin as parchment. “Find the *Crossing of Winds*. It’s real… it’s where the world begins.” Lyra had nodded, though she didn’t understand. For most of her life, she’d known him as a dreamer, the kind of man who saw stories in storm clouds. But after he was gone, she couldn’t ignore what he’d left behind — a map inked in strange constellations and symbols that didn’t belong to any land known to man. </p> <p> The villagers laughed when she told them. “The Crossing of Winds? That’s a fairy tale. No one who’s searched for it ever came back.” But Lyra wasn’t afraid. She was her father’s daughter — and his unfinished journey had now become her inheritance. </p> <p> She packed light — compass, water, journal, and the map. The path began at the edge of *Ravencourt Bay*, where cliffs fell into clouds and the sea roared like something alive. She followed the inked trails through forests that hummed with unseen life, across deserts where the stars seemed close enough to touch. At every turn, she found fragments of her father’s markings — scratched on stones, carved into old trees, drawn by hands trembling yet determined. He had been here. He had walked this same road. </p> <p> Days turned to weeks. Her boots wore thin, her supplies dwindled. Yet, when despair began to whisper, the wind would shift — and she would hear a faint humming, almost like a voice carried through time: *“Keep going, Lyra.”* </p> <p> At last, the map led her to the *Crested Pass*, a mountain range said to tear the sky open with lightning. There, the path ended in a blank space — no lines, no compass, only a circle drawn in gold ink with words beneath: <em>“Here the map ends, and the heart begins.”</em> </p> <p> For a long time, she stood there, numb with exhaustion. The storm broke above her — thunder crashing, wind screaming. In that chaos, she remembered how her father would trace the edges of his maps and murmur, “We never map the world, Lyra. We map ourselves — the courage to go further, the strength to return.” </p> <p> So she stepped beyond the circle. And there — through rain and blinding mist — the mountain opened. Not to a city of gold or hidden kingdom, but a valley untouched by time. Rivers glowed faintly blue, trees shimmered like glass, and at its center stood a stone altar where a single lantern burned. Beside it lay a small brass compass, engraved with the initials *E.H.* — her father’s. </p> <p> She dropped to her knees, tears mixing with rain. He had made it here, after all. Maybe he hadn’t survived the return — but he had found what he was looking for: the beginning. The world’s heart. The place where wind from all four directions met and became one — endless, free, eternal. </p> <p> Lyra stayed until dawn. Then, carefully, she placed the old map on the altar, adding one final note to its edge: <em>“For those who seek not gold, but meaning.”</em> </p> <p> Years later, explorers would speak of *The Mapmaker’s Daughter* — the woman who finished her father’s impossible journey, not for fame or fortune, but for love. They said the winds still carried her name through the valleys — a whisper for anyone brave enough to follow their own map beyond fear. </p>
<p><strong>Meaning / Reflection:</strong><br> *The Mapmaker’s Daughter* reminds us that adventure isn’t about where we go — it’s about what we discover within ourselves when we dare to cross the borders drawn by doubt. Every map ends, but the courage to keep walking beyond it — that’s where life truly begins. 🗺️💫 </p>
      <p class="end-note">— End of Story —</p>
    </main>

    <nav class="story-navigation">
      <a href="story57.html" class="nav-button prev">← Previous Story</a>
      <a href="story59.html" class="nav-button next">Next Story →</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
