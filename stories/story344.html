<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Portrait in Room 317</title>
  <!-- SEO -->
  <meta name="description" content="When Evelyn Ward checked into the Merriton Hotel, she wanted nothing more than quiet. What she found instead was a face‚Äîpainted centuries ago‚Äîthat seemed to know her better than she knew herself." />
  <meta name="keywords" content="#Mystery #PsychologicalDrama #Intrigue #Secrets #Suspense #Art #HauntingSilence" />

  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Portrait in Room 317</h1>
      <p class="meta">November 9, 2025 ‚Äî Written by Daily Pixel Mystery Desk</p>
      <img class="featured-image" src="https://images.unsplash.com/photo-1559084692-5f253118aa3a?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8QSUyMGRpbWx5JTIwbGl0JTIwaG90ZWwlMjBjb3JyaWRvciUyMHdpdGglMjBmYWRlZCUyMHdhbGxwYXBlciUyQyUyMGElMjBicmFzcyUyMGtleSUyMGRhbmdsaW5nJTIwZnJvbSUyMGFuJTIwb2xkJTIwbG9jayUyQyUyMGFuZCUyMGElMjBmYWludCUyMGdsb3clMjBzcGlsbGluZyUyMGZyb20lMjBiZW5lYXRoJTIwdGhlJTIwZG9vciUyMG1hcmtlZCUyMDMxNy58ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60&w=500" alt="A dimly lit hotel corridor with faded wallpaper, a brass key dangling from an old lock, and a faint glow spilling from beneath the door marked 317.">
    </header>

    <main class="story-content">
  <hr>
<p>The Merriton Hotel had been forgotten by time. Its hallways smelled faintly of lavender and dust, its carpets worn to thin threads by ghosts of better days. Evelyn chose it precisely for that reason: no one ever came here twice.</p>
<p>She was a restorer, an art conservator who spent her days mending what others had nearly destroyed. Paintings, sculptures, memories‚Äîit didn‚Äôt matter. Everything, in her hands, could be made whole again.</p>
<p>Or so she believed until Room 317.</p>
<p>The room was oddly silent, as though the air had been taught not to move. Above the bed hung a portrait of a woman in grey silk, her eyes painted with startling precision. The plaque beneath read only:</p>
<p><strong>‚ÄúLady Without Name, 1843.‚Äù</strong></p>
<p>Evelyn studied it out of habit. The brushwork was old, perhaps British Romantic, yet the technique‚Äîlayered glazes, subtle shadows‚Äîfelt personal. Too personal. The woman‚Äôs gaze followed her, not unnervingly, but knowingly, as though whispering something she could almost understand.</p>
<p>That night, Evelyn dreamt of a staircase spiraling into fog. At its center stood the woman in grey, her expression softened by sorrow. ‚ÄúYou shouldn‚Äôt have come back,‚Äù she said.</p>
<p>Evelyn woke to find her own reflection trembling in the mirror. The portrait seemed unchanged, but the background behind the painted woman appeared slightly darker than before.</p>
<p>She tried to rationalize it‚Äîlighting, fatigue, suggestion. Yet each evening the shadows crept further. Soon the figure was standing closer to the foreground, her face clearer, more alive.</p>
<p>On the fourth night, Evelyn inspected the painting under ultraviolet light. Beneath layers of varnish she discovered faint lettering across the canvas‚Äôs base, concealed for decades:</p>
<p><strong>‚ÄúE.W. 1843.‚Äù</strong></p>
<p>Her initials.</p>
<p>The breath left her body. She traced the paint with trembling hands, realizing the pigment was identical to one she had recently mixed in her own studio‚Äîa custom blend she had invented months ago.</p>
<p>The phone on the bedside table rang, startling her. She answered, expecting static.</p>
<p>A woman‚Äôs voice, low and steady, spoke on the other end.<br>
‚ÄúDon‚Äôt restore me again.‚Äù</p>
<p>The line went dead.</p>
<p>Evelyn turned to face the portrait. The frame was empty.</p>
<hr>
<h2>Meaning & Reflection:</h2>
<p><var>The Portrait in Room 317</var> is a meditation on memory, identity, and the cyclical nature of creation. The story blurs the line between artist and subject, past and present, suggesting that art can sometimes remember us more deeply than we remember ourselves.</p>
<p>
Evelyn‚Äôs descent into self-recognition through the painted figure reflects the haunting truth that restoration is also resurrection‚Äîof what we lose, and of what we wish we could forget.
</p>
<p>In the end, the mystery is not who the woman was, but who Evelyn truly is: the restorer, the ghost, and the art itself.</p>
<hr>
      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story343.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story345.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>

  <script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
  <footer class="site-footer">
    <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
  </footer>
</body>
</html>
