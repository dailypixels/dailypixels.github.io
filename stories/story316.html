<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Man with the Silver Umbrella</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">← Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Man with the Silver Umbrella</h1>
      <p class="meta">November 1, 2025 • By Rowan Hale</p>
      <div class="tags">
        <span class="tag">Crime</span>
        <span class="tag">Noir</span>
        <span class="tag">Detective</span>
        <span class="tag">Undercover Operation</span>
        <span class="tag">Criminal Syndicate</span>
        <span class="tag">Psychological Suspense</span>
        <span class="tag">Chase</span>
      </div>
      <img class="featured-image" src="https://plus.unsplash.com/premium_photo-1731868123938-95614dd23a1f?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fEElMjBwb2xpc2hlZCUyMHNpbHZlciUyMHVtYnJlbGxhJTIwbGVmdCUyMGxlYW5pbmclMjBhZ2FpbnN0JTIwYSUyMGJlbmNoJTIwYXQlMjBhJTIwZGVzZXJ0ZWQlMjB0cmFpbiUyMHBsYXRmb3JtJTIwd2hpbGUlMjBhJTIwdHJhaW4lMjBzcGVlZHMlMjBwYXN0JTJDJTIwc2NhdHRlcmluZyUyMGZvZyUyMHRocm91Z2glMjBkaW0lMjBvcmFuZ2UlMjBsaWdodHMufGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=500" alt="A polished silver umbrella left leaning against a bench at a deserted train platform while a train speeds past, scattering fog through dim orange lights.">
    </header>

    <main class="story-content">
     
<p>Rain had become a language in Grayshore City. In its darkest corners, umbrellas served as messages. A red umbrella meant a meeting. A blue umbrella meant a payment. A purple one meant someone disappeared.</p>
<p>Only one umbrella was unmistakable.</p>
<p>Silver.</p>
<p>Detective June Calder stood beneath the cracked awning of Platform 3, her coat gathering rainwater at the edges. Tonight’s objective: identify “The Broker.” He organized information like currency, selling secrets capable of collapsing governments.</p>
<p>He was rumored to always carry a silver umbrella, never open, always spotless.</p>
<p>A train screeched into the station.</p>
<p>Commuters fled the rain, unaware of the quiet war above their heads.</p>
<p>June held a <strong>plain black umbrella</strong>, the mark of an observer. Her earpiece crackled.</p>
<p>“Calder, eyes open,” her chief warned. “He knows we are close.”</p>
<p>June scanned the crowd.</p>
<p>A businessman with a red umbrella boarded the train. A teenager with green stripes leaned against a post. A woman with a floral parasol rushed inside.</p>
<p>No silver.</p>
<p>Then the train doors closed, engines humming. Steam curled upward.</p>
<p>A flicker of movement. A hand slipped a <strong>silver umbrella</strong> against a bench directly across from her. No owner visible.</p>
<p>June’s nerves tightened.</p>
<p>She approached cautiously. The silver gleamed unnaturally beneath the station lights. A small tag hung from its handle.</p>
<p>She flipped it over.</p>
<p><strong>You are already compromised.</strong></p>
<p>A whisper breathed over her shoulder.<br>
“Looking for me?”</p>
<p>Before she could turn, a sharp sting jabbed her neck. Her vision swayed, edging toward darkness. She fought to remain upright.</p>
<p>A firm grip steadied her, not letting her collapse.</p>
<p>The same voice, calm and confident:<br>
“Relax, Detective. The rain is full of watchers. We must talk privately.”</p>
<p>Her surroundings blurred as he guided her to a bench. The Broker’s face remained unnervingly unremarkable. Gray suit. Neutral features. Only the silver umbrella gave him distinction.</p>
<p>June forced words through the dizziness.<br>
“You are under arrest.”</p>
<p>The Broker smiled faintly.<br>
“You cannot arrest a ghost of the system you serve.”</p>
<p>He tapped the umbrella. A hidden mechanism clicked.</p>
<p>June’s earpiece died.</p>
<p>The station seemed to empty. Silence replaced the city’s noise.</p>
<p>He leaned closer.</p>
<p>“Your department has leaks. Bigger than you imagine. They already sold you out the moment you began asking questions.”</p>
<p>June’s pulse pounded.<br>
“You drugged me.”</p>
<p>“A precaution. That sedative stops cameras from recognizing your face. You vanish temporarily, like the rest of us.”</p>
<p>She realized the horror of his intentions.</p>
<p>“You want me to join you.”</p>
<p>“You will. By necessity. The city belongs to those who understand what to protect.”</p>
<p>June grabbed the umbrella handle. Fast. Violent. Her training overrode the drug’s haze. She pulled the weaponized handle free, revealing a stiletto blade inside.</p>
<p>The Broker stepped back, surprised.</p>
<p>“You are more prepared than expected.”</p>
<p>She lunged.</p>
<p>He dodged with ghostlike reflexes, retreating toward the departing train. He mouthed silent words as he stepped aboard:</p>
<p><strong>“We will speak again.”</strong></p>
<p>Doors closed. The train roared away, leaving June alone with the silver umbrella in hand.</p>
<p>Her comms returned online, static cutting through.</p>
<p>“Calder! Status?”</p>
<p>She examined the umbrella. Inside its fabric she found a microfilm strip.</p>
<p>Encrypted data. Names. Timelines. Payments.</p>
<p>Proof of the syndicate’s infiltration.</p>
<p>Proof her department was compromised.</p>
<p>She raised her head to the night sky.</p>
<p>This was no longer just an infiltration.</p>
<p>This became survival.</p>
<p>As raindrops struck the silver surface, symbols shimmered across it:</p>
<p><strong>NEXT CONTACT: MIDNIGHT<br>
LOCATION: SIXTH BRIDGE</strong></p>
<p>The Broker wanted round two.</p>
<p>June tightened her grip.</p>
<p>The storm had chosen its detective.<br>
The umbrella war had only begun.</p>

<hr>

<p><strong>Meaning & Reflection</strong></p>
<p>Crime flourishes when secrecy becomes normalized. This story highlights how power structures can be manipulated through information rather than violence. Justice requires vigilance, even when those who appear trustworthy are the deepest shadows.</p>

<hr>

      <p class="end-note">— End of Story —</p>
    </main>

    <nav class="story-navigation">
      <a href="story315.html" class="nav-button prev">← Previous Story</a>
      <a href="story317.html" class="nav-button next">Next Story →</a>
    </nav>
  </article>

  <script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
  <footer class="site-footer">
    <p>© <span id="year"></span> Daily Pixel. All rights reserved.</p>
  </footer>
</body>
</html>
