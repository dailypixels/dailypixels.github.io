<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Valley Beyond the Wind</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Valley Beyond the Wind</h1>
      <p class="meta">October 20, 2025 ‚Ä¢ By Elias Monroe</p>
      <div class="tags">
        <span class="tag">exploration</span>
        <span class="tag">courage</span>
        <span class="tag">discovery</span>
      </div>
      <img class="featured-image" src="https://images.unsplash.com/photo-1598130136089-e95cc6495110?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8QSUyMGxvbmUlMjB0cmF2ZWxlciUyMHN0YW5kaW5nJTIwYXQlMjB0aGUlMjBlZGdlJTIwb2YlMjBhJTIwaGlnaCUyMG1vdW50YWluJTIwdmFsbGV5JTJDJTIwc3VubGlnaHQlMjBicmVha2luZyUyMHRocm91Z2glMjBjbG91ZHMlMjBvbnRvJTIwZW1lcmFsZCUyMGhpbGxzJTIwYmVsb3cufGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=500" alt="A lone traveler standing at the edge of a high mountain valley, sunlight breaking through clouds onto emerald hills below.">
    </header>

    <main class="story-content">
      <p>The wind howled across the ridges of the High Ardin Range, where clouds gathered like gray waves frozen mid-crash. Leo Barrett climbed slowly, his boots grinding against loose shale, his breath sharp in the cold mountain air. He‚Äôd been chasing the rumor of the ‚ÄúValley Beyond the Wind‚Äù for three years ‚Äî a hidden paradise whispered among old travelers, a place untouched by maps or memory.</p>

<p>Most dismissed it as a tale for dreamers. But Leo was no stranger to impossible places. He‚Äôd crossed deserts that shimmered like mirrors, walked forests that whispered in languages not spoken by men, and sailed seas where stars drowned in mist. Each journey brought him closer to something he couldn‚Äôt quite name ‚Äî a sense that the world still held mysteries worth chasing.</p>

<p>By dusk, he reached the summit ridge. His tent flapped like a living thing, the wind clawing at its edges. He lit his small stove and unfolded a worn letter ‚Äî the last his sister, Clara, had sent before she died. She had written of the same valley, calling it ‚Äúa place where the world breathes differently.‚Äù</p>

<p>He folded the letter carefully, tucked it into his chest pocket, and whispered to the night, ‚ÄúFor you, Clara.‚Äù</p>

<hr>

<p>The next morning, the storm broke. The air was clear, impossibly still. Leo followed an old goat path down into a canyon so narrow the light itself seemed to bend. Hours passed. He crossed a frozen river, scaled a sheer wall of slate, and then ‚Äî just as the sun dipped behind the ridge ‚Äî he saw it.</p>

<p>The valley stretched below him, wide and green, carpeted in gold flowers that shimmered like liquid sunlight. Rivers laced through it in ribbons of blue. Strange birds circled above, their calls soft as wind chimes. It was silent ‚Äî but alive, breathing in rhythm with the earth itself.</p>

<p>He laughed aloud, tears freezing on his cheeks. The legend was real.</p>

<hr>

<p>Leo camped at the valley‚Äôs edge, sketching maps by lantern light, noting each hill and bend of water. But something felt strange. No matter how far he walked, his compass spun wildly. The stars shifted above him. Each morning, when he tried to retrace his steps, the path behind him was gone ‚Äî as though the valley moved when he wasn‚Äôt looking.</p>

<p>One night, he woke to whispering ‚Äî not from the wind, but from the earth itself. ‚ÄúLeave your maps,‚Äù it seemed to say. ‚ÄúYou cannot hold what was never meant to be owned.‚Äù</p>

<p>He rose, heart racing, and stood at the river‚Äôs edge. His reflection rippled ‚Äî not as himself, but as a boy again, standing beside Clara on the cliffs of their childhood home. Her laughter echoed across the water.</p>

<p>‚ÄúYou found it,‚Äù she said. ‚ÄúBut it was never the valley you were looking for, was it?‚Äù</p>

<p>He closed his eyes. ‚ÄúNo. It was you.‚Äù</p>

<p>When he opened them, the valley was gone. He stood alone on the ridge again, the dawn painting the mountains in gold. His pack was lighter, his compass still. And though he had no proof of what he‚Äôd seen, his heart knew ‚Äî the Valley Beyond the Wind had been real enough to change him.</p>

<hr>

<p>Years later, travelers found Leo‚Äôs journal in a mountain hut, its pages filled with sketches of a place no one else could find. Some called him mad. Others called him a poet. But one line at the end silenced them all:</p>

<p><em>‚ÄúThe greatest discoveries are not found on maps, but in the courage to follow what calls us.‚Äù</em></p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Valley Beyond the Wind</em> is about the pursuit of wonder ‚Äî and the truth that the deepest adventures are not about reaching new lands, but rediscovering the parts of ourselves we‚Äôd forgotten along the way. Sometimes, the treasure we seek is simply peace after the storm. üåÑ‚ú®</p>


      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story248.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story250.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
