<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Mapmaker‚Äôs Shadow</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Mapmaker‚Äôs Shadow</h1>
      <p class="meta">October 18, 2025 ‚Ä¢ By Darius Holt</p>
      <div class="tags">
        <span class="tag">discovery</span>
        <span class="tag">courage</span>
        <span class="tag">destiny</span>
        <span class="tag">mystery</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1148350774/photo/hand-drawn-map.webp?a=1&b=1&s=612x612&w=0&k=20&c=87fS15bPX4kJdeaxPPCH2OnraxmEZtOwY4Mo0qWkni0=" alt="An ancient map spread across a wooden desk, candlelight flickering over drawn mountains and unknown lands, a compass resting beside an ink-stained hand.">
    </header>

    <main class="story-content">
      <p>In the bustling port city of <em>Velden</em>, twenty-year-old <strong>Rowan Vale</strong> was known as a gifted mapmaker ‚Äî but also a dreamer. He could trace coastlines from memory and chart stars by instinct, yet what fascinated him most were the <em>empty spaces</em> ‚Äî the blank parts of the world no one had ever mapped. To him, the edges of parchment were not limits, but invitations.</p>

<p>One night, as the sea mist rolled through the narrow alleys, an old sailor staggered into Rowan‚Äôs shop. His clothes were torn, his eyes wild with salt and fear. From his coat, he drew a piece of parchment, torn and brittle. ‚ÄúFinish it,‚Äù he rasped. ‚ÄúYou‚Äôre the last one who can.‚Äù Before Rowan could ask a word, the man collapsed. When Rowan unfolded the parchment, his heart stopped ‚Äî it was a map fragment, marked with symbols he‚Äôd never seen, and a landmass that didn‚Äôt exist on any chart.</p>

<p>At its corner was a phrase written in an ancient tongue: <em>‚ÄúWhere the sea forgets itself.‚Äù</em></p>

<p>Unable to resist, Rowan began to piece together the mystery. He spent weeks cross-referencing old archives, tracing legends, and comparing currents. Every clue pointed to the western mists ‚Äî a place sailors called ‚ÄúThe Edge,‚Äù where compasses spun and ships vanished. The council of cartographers had long forbidden expeditions there. But Rowan knew he had to go.</p>

<p>He gathered a small crew ‚Äî a fearless navigator named <em>Kira Holt</em>, an old scholar <em>Master Denholm</em>, and a fisherman who owed him a favor. They sailed at dawn aboard a modest vessel called <em>The Lyra</em>. The sea greeted them with silence ‚Äî too calm, almost watching.</p>

<p>Days passed. The stars dimmed. Their compass needles twitched. At night, they heard whispers over the waves, voices calling in forgotten languages. Kira grew uneasy. ‚ÄúThis isn‚Äôt a map,‚Äù she murmured. ‚ÄúIt‚Äôs a warning.‚Äù</p>

<p>On the seventh night, the fog parted ‚Äî and there it was. A towering island of glass and stone, shimmering like a mirage. It wasn‚Äôt on any map because it <em>moved</em>. The island drifted slowly across the ocean, following no wind or tide, as though alive.</p>

<p>They anchored at its edge and explored. The soil was dark and soft like ash. Strange carvings lined the cliffs ‚Äî maps within maps, spirals pointing inward. At the center stood an obsidian tower, its walls smooth and mirror-like. When Rowan approached, the surface rippled, reflecting his face and dozens more ‚Äî himself at different ages, each holding a map.</p>

<p>A voice echoed from the tower: ‚ÄúYou seek to chart the unknown, but what you have not mapped is your own heart.‚Äù</p>

<p>The ground trembled. Images flashed ‚Äî every map he had drawn, every choice he‚Äôd made to chase discovery over belonging. He saw his empty home, his father‚Äôs disappointed eyes, the friends he‚Äôd left behind. Tears blurred his vision. The tower‚Äôs reflection changed again ‚Äî now showing a map that spread endlessly, not of the world, but of moments, people, and memories. The true world, it whispered, was made not of lands, but of connections.</p>

<p>When Rowan stepped back, the tower and island began to dissolve into mist. He barely made it to <em>The Lyra</em> before the island vanished entirely beneath the waves, leaving behind only the old sailor‚Äôs parchment ‚Äî now blank.</p>

<p>Weeks later, when the ship returned to Velden, no one believed their tale. But Rowan didn‚Äôt mind. He retired from mapmaking soon after ‚Äî not because he lost his way, but because he found it. He began teaching apprentices not how to draw borders, but how to listen to what the land and sea tried to say. His last map hung above his desk ‚Äî empty, save for one line written in fine ink: <em>‚ÄúThe greatest discoveries lie within.‚Äù</em></p>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Mapmaker‚Äôs Shadow</em> is a story about exploration and self-realization. It reminds us that adventure is not just the pursuit of distant horizons, but the courage to face the unmapped places within our own hearts. Every journey changes us ‚Äî and sometimes, that change is the true treasure. üß≠‚ú®</p>

      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story121.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story123.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
