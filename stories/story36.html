<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The House That Dreamed</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The House That Dreamed</h1>
      <p class="meta">October 29, 2025 ‚Ä¢ By Noah Vale</p>
      <div class="tags">
        <span class="tag">suspense</span>
        <span class="tag">memory</span>
        <span class="tag">dreams</span>
      </div>
      <img 
        class="featured-image" 
        src="https://media.istockphoto.com/id/146835442/photo/stormy-sky-over-brick-building.webp?a=1&b=1&s=612x612&w=0&k=20&c=Vz9tYolDR-hCFuBC3FLuRVyGnXhuYBEX7e0TGnyU8_k=" 
        alt="A decaying Victorian house under storm clouds ‚Äî one window faintly lit while all others remain dark, as if the house itself were watching.">
    </header>

    <main class="story-content">
      <p> The rain hadn‚Äôt stopped in three days. <br><br> Ethan Cross stood before the iron gates of **Hallowmere House**, the mansion he‚Äôd unexpectedly inherited from someone named *Margaret Vale*. The lawyer‚Äôs letter had said she was a ‚Äúdistant relative,‚Äù though Ethan couldn‚Äôt recall any such name in his family. <br> Still, the architect in him couldn‚Äôt resist ‚Äî the house was an enigma, a relic of 1890s Gothic design with intricate arches and ivy swallowing its stone walls. </p> <p> Inside, the air was still, heavy with the scent of rain and dust. Every room seemed perfectly arranged ‚Äî almost *waiting* for him. A fireplace still held the faint warmth of a long-dead fire. <br><br> He explored each hall like a blueprint come alive. That‚Äôs when he saw it ‚Äî a framed photograph above the grand staircase. <br> A woman in a white dress, standing beside a man who looked exactly like him. </p> <p> Ethan froze. The resemblance was uncanny ‚Äî same eyes, same faint scar above the lip. The photo was dated *1901*. <br> His rational mind tried to explain it: coincidence, ancestral resemblance, maybe even trickery. But deep down, something twisted quietly in his chest. </p> <p> That night, the dreams began. <br><br> He dreamed of wandering through the same house, but everything was brighter ‚Äî new. Candles glowed, laughter echoed, and a piano played in the distant parlor. A woman‚Äôs voice whispered behind him, *‚ÄúYou finally came back.‚Äù* <br><br> When he turned, she was gone. </p> <p> In the morning, he found muddy footprints in the corridor ‚Äî the same path he‚Äôd walked in his dream. And on the piano in the parlor, someone had written his name in the dust: <br> **E. Cross ‚Äî welcome home.** </p> <p> He told himself he was hallucinating. Stress, fatigue, imagination. <br> But the house wouldn‚Äôt let him leave. Every door he tried to exit through opened back into another part of the house. The rooms rearranged themselves. The staircase ended in walls. Windows looked out into corridors that shouldn‚Äôt exist. </p> <p> Desperate, he went through the library, searching for any clue. Behind a panel, he found a set of old journals ‚Äî bound in faded leather. The name inside each read: **Ethan Vale**, dated over a century ago. <br><br> The entries spoke of an architect who built Hallowmere for his wife, Margaret, after returning from war. He wrote of strange occurrences ‚Äî rooms changing shape, voices calling his name, and dreams that bled into daylight. <br> The final entry read: <br> *‚ÄúIf I forget her again, the house will remember. It always does.‚Äù* </p> <p> That night, the storm returned. The walls pulsed faintly, as if breathing. He heard her again ‚Äî the woman from the photo. <br><br> She stood in the doorway, pale and trembling. <br> ‚ÄúDo you remember me now?‚Äù she whispered. <br> Her face was streaked with tears ‚Äî or rain ‚Äî he couldn‚Äôt tell. <br><br> He reached for her, and the moment he did, the house roared ‚Äî a sound like thunder and breaking glass. The floor gave way beneath him. He fell ‚Äî through the same staircase, through time, through memory. </p> <p> When he woke, it was morning. The rain had stopped. The mansion stood quiet and still. But all his belongings ‚Äî his phone, his bag, his clothes ‚Äî were gone. Replaced with things from another century. <br><br> He looked into the mirror and saw the man from the photo ‚Äî not himself, but the other Ethan. And behind him, Margaret smiled softly. </p> <p> Later, the lawyer arrived to check on him. The house was empty. The only thing found on the grand piano was a new photograph ‚Äî a man and woman standing side by side, smiling faintly. The date: *2026.* </p>
<p> <strong>Meaning / Reflection:</strong><br> *The House That Dreamed* is a psychological thriller about memory, guilt, and the inescapable architecture of the mind. <br><br> It asks: *What if the places we build remember us more than we remember ourselves?* Sometimes, the past doesn‚Äôt haunt us ‚Äî it simply waits, in silence, for us to return and finish what we began. üïØÔ∏èüèöÔ∏è </p>
      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story35.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story37.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
