<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Letters Beneath the Ashes</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Letters Beneath the Ashes</h1>
      <p class="meta">October 24, 2025 ‚Ä¢ By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">war</span>
        <span class="tag">memory</span>
        <span class="tag">love</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1392133801/photo/wasteland.webp?a=1&b=1&s=612x612&w=0&k=20&c=WQSX-PFwR5RiUnsjyF7yw4oH781zKSTRxTbp-oLbQkg=" alt="A burned-out city square beneath a gray sky ‚Äî ashes swirling through broken arches, and in the dust, the corner of a letter still legible in a soldier‚Äôs hand.">
    </header>

    <main class="story-content">
     <p> The war had ended thirty years ago, but the smell of smoke still lingered in the walls of *Velastra*. The city, once called the "Pearl of the Empire," now lay buried beneath layers of dust, its marble cracked, its streets silent except for the crows that nested in its empty towers. </p> <p> When the excavation teams came to document what remained, no one expected to find anything human left. But *Eveline*, a quiet historian with eyes too soft for a battlefield, found something strange ‚Äî a box made of scorched wood, sealed tight beneath a collapsed archway. Inside it were letters, hundreds of them, each written on the same thin parchment, tied with a crimson ribbon turned brown with age. </p> <p> The letters were addressed simply: *To A.* No surname, no address. Just the single initial. Eveline took the box to her tent and began to read. </p> <p> The first letter was written by a man named *Coren Althar*, a soldier in the city‚Äôs last garrison. His words were calm, almost gentle: *‚ÄúIf they reach the gates by dawn, I‚Äôll burn this letter before you ever read it. But if it survives me, know this ‚Äî I did not fight for the Emperor. I fought for the promise you made by the river.‚Äù* </p> <p> The next letters told a story of two people caught between loyalty and longing. A was *Aria*, a sculptor who once carved angels for the city‚Äôs cathedrals. Coren had guarded her workshop during the siege. In those nights when the city shook under the fire of catapults, they found moments of fragile peace ‚Äî her chiseling stone as he stood watch, his quiet voice describing constellations through the smoke. </p> <p> ‚ÄúIf you live,‚Äù she had told him once, ‚Äúbuild something that can‚Äôt burn.‚Äù He had smiled and said, ‚ÄúThen I‚Äôll build a memory.‚Äù </p> <p> The final letter was shorter. The handwriting trembled. *‚ÄúThe north gate has fallen. I will send this through the last messenger. If Velastra must die, then let it die with truth ‚Äî we were not heroes. We were only people who remembered how to love when the world forgot.‚Äù* </p> <p> Eveline wiped the dust from her hands, her throat tight. The letters were not history as the empire had written it ‚Äî not of conquest or rebellion, but of tenderness surviving ruin. She spent months tracing every name, every mention, until she found it: a statue half-buried near the western wall, its base engraved faintly with the words, *‚ÄúWhat we loved, we made eternal.‚Äù* </p> <p> It was their work ‚Äî Aria‚Äôs sculpture of two figures reaching toward each other, their hands never quite touching. Time had eroded their faces, but not their gesture. When Eveline looked closer, she found something pressed into the stone ‚Äî the remains of a crimson ribbon, sealed beneath the marble folds. </p> <p> That night, she stayed beside it, lantern flickering in the wind. She didn‚Äôt write a report. She just whispered to the darkness, ‚ÄúI found you.‚Äù </p> <p> In the morning, when the sun rose over Velastra for the first time in years, its light fell upon the statue ‚Äî and for a moment, the stone seemed to glow. </p>
<p><strong>Meaning / Reflection:</strong><br> *The Letters Beneath the Ashes* reminds us that history isn‚Äôt only written by victors ‚Äî it‚Äôs also whispered by the forgotten. Love, in its quiet defiance, endures longer than empires. What we create from the heart can outlive even the fire meant to erase it. üïäÔ∏è </p>
      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story60.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story62.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
