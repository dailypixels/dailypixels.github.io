<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Letters of Ember Street</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Letters of Ember Street</h1>
      <p class="meta">April 5, 2025 ‚Ä¢ By Clara Fenwick</p>
      <div class="tags">
        <span class="tag">war</span>
        <span class="tag">love</span>
        <span class="tag">loss</span>
      </div>
      <img 
        class="featured-image" 
        src="https://media.istockphoto.com/id/1193173672/photo/manuscripts-under-the-light-of-the-19th-century-antique-kerosene-lamp.webp?a=1&b=1&s=612x612&w=0&k=20&c=yYkiGX0qnfNyUgjrJAY0IGFjy5o6POJxMA_iQdPl6T4=" 
        alt="An old desk by a window overlooking a bombed city ‚Äî letters tied with a faded red ribbon, a candle half-burnt beside them.">
    </header>

    <main class="story-content">
     <p> The year was **1943**. London‚Äôs nights were painted in sirens and smoke. On **Ember Street**, amid the ruins of what was once a bakery, a young woman named **Evelyn Hart** lived with the habit of writing letters to someone who might never read them. </p> <p> She‚Äôd lost her husband, **Thomas**, two years earlier in the war. Or so the telegram said. But the absence of his body left her with an unbearable *maybe*. So she wrote ‚Äî to the man she loved, to the man she hoped still breathed somewhere beyond the ash. <br><br> *"My dearest Tom,"* one letter began, *"the world burns, but I keep a candle for you. Every morning I bake bread, though there is no one to eat it. Perhaps the scent will find you. Perhaps memory travels faster than light."* </p> <p> Across the sea, in a prisoner-of-war camp in France, Thomas lay beneath a tattered blanket, his hand shaking as he wrote on scraps of old ration paper. <br><br> *"Eve, my love,"* he wrote, *"I do not know if this will reach you. They say hope is a foolish thing, but it is all that keeps me alive. When I dream, I hear your voice in the flour dust and the turning of the oven door. Don‚Äôt stop baking ‚Äî even if no one comes home."* </p> <p> Neither knew the other was still alive. The letters, carried by soldiers, strangers, and luck itself, sometimes arrived months late ‚Äî sometimes not at all. But both kept writing. </p> <p> By **1945**, when the city‚Äôs smoke cleared and the bells rang out for peace, Evelyn was frail, her bakery now a shelter for orphaned children. The postman arrived one morning with a bundle wrapped in oilcloth. Inside ‚Äî a final letter. <br><br> *"Eve,"* Thomas had written, *"if you are reading this, I am on my way. I have seen the worst of men, yet I carry your words like armor. If I fall before reaching you, remember me not for the war, but for the mornings we shared ‚Äî the smell of warm bread, and the way your laughter rose like dawn."* </p> <p> She waited every day by the broken window of her bakery. Days turned to weeks. Weeks to months. And then ‚Äî nothing. <br><br> No one ever came. </p> <p> But the letters remained. Tied with ribbon. Hidden in a small wooden box beneath the floorboards, alongside her wedding ring. Evelyn passed away quietly in 1962, her story unfinished. </p> <p> Fifty years later, in 2012, a construction worker found that same box while rebuilding what was once Ember Street. Inside were **sixty-seven letters** ‚Äî written between two souls separated by war, bound by love. The last letter was addressed, never sent: <br><br> *"Tom, if you find this, know that I waited until my hands forgot how to knead, and my eyes forgot what blue looked like. But I never forgot you. ‚Äî Eve."* </p> <p> The story made headlines, and historians traced the letters‚Äô routes ‚Äî fragments of history, maps of longing, and proof that hope had once survived even the darkest winter. Today, in the rebuilt bakery on Ember Street, there‚Äôs a framed quote above the counter: <br><br> *‚ÄúSome loves don‚Äôt fade ‚Äî they just change the shape of history.‚Äù* </p>
<p> <strong>Meaning / Reflection:</strong><br> *The Letters of Ember Street* is a testament to **enduring love and human resilience** in the face of war and silence. It reminds us that history isn‚Äôt only recorded in victories or defeats ‚Äî it‚Äôs written in quiet moments of faith, in words whispered to the unknown. <br><br> Every letter they wrote was an act of resistance ‚Äî against despair, against time. And perhaps, in that small defiance, they found eternity. üíåüî• </p>

      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story40.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story42.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
