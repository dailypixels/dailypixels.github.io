<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Lantern Keeper of Elyndra</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Lantern Keeper of Elyndra</h1>
      <p class="meta">May 10, 2025 ‚Ä¢ By Elara Wynn</p>
      <div class="tags">
        <span class="tag">magic</span>
        <span class="tag">destiny</span>
        <span class="tag">sacrifice</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/676762224/photo/lights-over-a-lake-on-a-starry-night.webp?a=1&b=1&s=612x612&w=0&k=20&c=oSw2OY_VnzBTtekgIItOwoZuBitb-WIs2QJjRzQ8HVI=" alt="A moonlit bridge over a misty lake with a cloaked figure holding a glowing lantern of golden fireflies.">
    </header>

    <main class="story-content">
      <p>The valley of Elyndra was a place the world had forgotten ‚Äî a land where the night itself breathed softly and every breeze whispered the stories of the stars. In its heart stood a bridge of white stone stretching across a mist-shrouded lake. There, upon the bridge, stood the Lantern Keeper.</p>

<p>Her name was Ilyra, though few remembered it. For generations, her duty had been to tend the <em>Lanterns of Souls</em> ‚Äî floating lights that drifted across the lake‚Äôs surface like golden stars fallen from the sky. Each lantern held the life essence of a person: their joys, memories, regrets, and final breath. When one went out, the soul was said to rest forever in the Light Beyond.</p>

<p>Every evening, Ilyra would walk the bridge with her staff of crystal and light the lanterns that flickered weakly. She did this with care, humming an old melody that only the stars remembered. Her song was said to soothe restless spirits.</p>

<p>But one night, she noticed something strange ‚Äî a single lantern glowing brighter than any she had ever seen. Its flame was not gold, but white, pure and unwavering. The inscription beneath it read only one word: <strong>Cael</strong>.</p>

<p>She opened the record scrolls, searching for the name. The soul of Cael had been extinguished over two hundred years ago. Yet his lantern burned, defying death itself.</p>

<p>‚ÄúImpossible,‚Äù whispered Ilyra. ‚ÄúAll lights fade.‚Äù</p>

<p>That night, sleep would not come. The white lantern called to her, its light dancing across the mist, pulling her toward the edge of the lake. As her hand brushed its surface, the water rippled ‚Äî and the world shifted.</p>

<p>She found herself standing in a field of silver grass under a violet sky. Before her stood a man with eyes like dawn and a faint, knowing smile. He was dressed in the garb of an ancient knight, the emblem of Elyndra‚Äôs first guardians upon his chest.</p>

<p>‚ÄúYou kept my light alive,‚Äù he said softly. ‚ÄúWhy?‚Äù</p>

<p>Ilyra bowed. ‚ÄúBecause it refused to die.‚Äù</p>

<p>Cael nodded. ‚ÄúThen you have defied the Law of the Lanterns. Those who keep light from fading also keep sorrow from resting.‚Äù</p>

<p>She hesitated. ‚ÄúBut this light... it feels different. Warm. Eternal.‚Äù</p>

<p>‚ÄúIt is,‚Äù he said, stepping closer. ‚ÄúIt is not my soul ‚Äî it is hope itself. When I fell in the War of Shadows, I gave my last breath not to live again, but to light a flame that would never go out. A flame for all who come after.‚Äù</p>

<p>The violet sky trembled. The lake beyond began to dissolve. ‚ÄúThe lanterns are fading,‚Äù she said. ‚ÄúAll of them!‚Äù</p>

<p>Cael‚Äôs form began to shimmer. ‚ÄúElyndra is ending, Keeper. The world of spirits must pass so the world of the living may dream again. You must choose ‚Äî stay, and fade with your lights, or return and carry this one flame to the waking world.‚Äù</p>

<p>Ilyra clutched the glowing lantern. The bridge, the water, the sky ‚Äî all melted into light. She whispered, ‚ÄúThen let this light belong to them.‚Äù</p>

<p>When dawn broke over the mortal world, a single lantern was seen drifting through the mist of the valley. Inside, its flame burned brighter than the sun. Villagers found it upon the shore, and for the first time in centuries, they spoke the Keeper‚Äôs name.</p>

<p>Legends say that from that day forward, no night in Elyndra was ever truly dark again. And somewhere among the stars, Ilyra‚Äôs song still lingers ‚Äî the melody of one who kept hope alive.</p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Lantern Keeper of Elyndra</em> is a tale about the endurance of hope ‚Äî a light that survives even when everything else fades. It reminds us that every act of kindness, every spark of love, is a flame worth keeping, for it might be the one that guides others through the dark. üåô‚ú®</p>


      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story226.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story228.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
