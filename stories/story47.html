<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Tea Stall at Dawn</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Tea Stall at Dawn</h1>
      <p class="meta">December 3, 2025 ‚Ä¢ By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">everyday</span>
        <span class="tag">kindness</span>
        <span class="tag">memory</span>
      </div>
      <img 
        class="featured-image" 
        src="https://media.istockphoto.com/id/691471654/photo/picnic-and-teapot.webp?a=1&b=1&s=612x612&w=0&k=20&c=j-HoD51QaPsoph8-94W1K4CMSJ6wAvHpuCHaFoErNwo=" 
        alt="A small tea stall by a misty roadside at dawn ‚Äî steam rising, cups clinking, and sunlight touching the faces of strangers sharing quiet smiles.">
    </header>

    <main class="story-content">
     <p> The first light of dawn spilled across the narrow street, brushing the roofs with a sleepy gold. At the corner ‚Äî between a shuttered bookstore and a cobbler‚Äôs shop ‚Äî stood <em>Rehman‚Äôs Chai Point</em>. Nothing fancy: a wooden bench, a rusted kettle, and the hum of life beginning anew. </p> <p> Every morning, Rehman would arrive before sunrise, sweeping the dust, setting the cups, boiling water that whispered in rhythm with his thoughts. He‚Äôd worked that same spot for nearly twenty years, and somehow, he knew every face that passed ‚Äî not by name, but by feeling. </p> <p> There was <em>Ali</em>, the schoolteacher who always read the newspaper before the children arrived. <em>Mrs. Farah</em>, who bought two cups every morning ‚Äî one for herself, and one she left on the bench for her late husband. And <em>Samra</em>, the young artist who painted the sunrise every day, sipping slowly like she was tasting the color of the sky. </p> <p> Rehman never asked questions. He just poured tea, smiled, and listened ‚Äî in silence. He‚Äôd learned long ago that people didn‚Äôt always need answers. Sometimes, they just needed warmth ‚Äî in a cup, in a moment, in a familiar face. </p> <p> One cold morning, a stranger appeared. A young man, disheveled, lost in thought, with eyes that had forgotten how to rest. He ordered tea without looking up. Rehman poured it quietly, placing it before him. <br><br> The man took a sip and said softly, ‚ÄúIt tastes‚Ä¶ like home.‚Äù Rehman smiled. ‚ÄúThen you‚Äôve come to the right place.‚Äù </p> <p> The stranger stayed for a while, returning each morning. He never said much, but one day he asked, ‚ÄúWhy do you always smile at everyone, even when they‚Äôre rude or silent?‚Äù </p> <p> Rehman chuckled, stirring sugar into the pot. ‚ÄúBecause,‚Äù he said, ‚Äúevery person who stops here is fighting a battle I can‚Äôt see. If my smile can help them forget it for one sip ‚Äî then that‚Äôs reason enough.‚Äù </p> <p> The young man nodded. That morning, he left a note beneath his cup. When Rehman cleared the table later, he found it: <em>‚ÄúYou don‚Äôt just serve tea. You serve hope. ‚Äî Thank you.‚Äù</em> </p> <p> Years passed. The street changed ‚Äî new shops, new faces, new stories ‚Äî but Rehman‚Äôs stall remained. Some days were busy, others quiet. And though time wore lines upon his face, his eyes still carried the same dawn. </p> <p> One morning, a little girl came running to his stall, clutching her father‚Äôs hand. ‚ÄúBaba,‚Äù she said, ‚Äúthis is the place you told me about ‚Äî where the tea tastes like kindness.‚Äù Rehman smiled, pouring three cups this time. As the steam rose, he realized ‚Äî his small corner of the world had become something larger than he‚Äôd ever imagined. </p>
<p> <strong>Meaning / Reflection:</strong><br> *The Tea Stall at Dawn* is a quiet celebration of everyday life ‚Äî of strangers becoming stories, and small gestures carrying unseen healing. It reminds us that meaning doesn‚Äôt always come from big changes or distant dreams; sometimes, it‚Äôs waiting in the warmth of a shared cup, a gentle word, or a smile at sunrise. ‚òïüåÖ </p>
      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story46.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story48.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
