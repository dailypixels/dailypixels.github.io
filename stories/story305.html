<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Clockmaker of Tomorrow</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Clockmaker of Tomorrow</h1>
      <p class="meta">October 28, 2025 ‚Ä¢ By Rowan Hale</p>
      <div class="tags">
        <span class="tag">Fantasy</span>
        <span class="tag">Time Travel</span>
        <span class="tag">Magical Realism</span>
        <span class="tag">Destiny</span>
        <span class="tag">Adventure</span>
        <span class="tag">Hope</span>
      </div>
      <img class="featured-image" src="https://images.unsplash.com/photo-1639303338365-6d5912cd8c56?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8QW4lMjBhbmNpZW50JTIwbWVjaGFuaWNhbCUyMGNsb2NrJTIwZ2xvd2luZyUyMHdpdGglMjBibHVlJTIwcnVuZXMlMkMlMjBmbG9hdGluZyUyMGFib3ZlJTIwYSUyMHdvcmtiZW5jaCUyMGluJTIwYSUyMGRpbSUyMHdvcmtzaG9wJTIwZmlsbGVkJTIwd2l0aCUyMGdlYXJzJTIwYW5kJTIwb2xkJTIwYm9va3MufGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=500" alt="An ancient mechanical clock glowing with blue runes, floating above a workbench in a dim workshop filled with gears and old books.">
    </header>

    <main class="story-content">

<p>Lina Asher spent her days repairing forgotten timepieces in her grandfather‚Äôs dusty workshop. Brass gears. Silver chains. Each clock carried a memory of someone who once relied on it.</p>
<p>Time fascinated her because she never felt like she owned any of it.</p>          
<p>One evening, while sorting through a box of old repairs, Lina found a pocket watch unlike any she had ever seen. It was made of black metal, slick as water and cold as night. Strange symbols were etched into its surface, shifting every time she blinked.</p>  
<p>The moment she touched it, the room froze.</p>  
<p>Dust hung in the air like snow. The ticking of clocks fell silent.</p>  
<p>Lina‚Äôs heart hammered louder than anything else.</p>  
<p>Suddenly, a knock echoed through the stillness.</p>  
<p>A man stood at the door, tall with silver streaks in his dark hair and eyes that reflected stars instead of light.</p>
<p>‚ÄúYou found it,‚Äù he whispered. ‚ÄúThe Watch of Aethron.‚Äù</p>
<p>Before Lina could ask how he knew, he stepped inside. With a swipe across the air, time surged back, clocks ticking wildly as though trying to catch up.</p>          
<p>He introduced himself as Kael, a guardian of futures not yet written.</p>  
<p>‚ÄúThat watch,‚Äù he explained, ‚Äúkeeps the world aligned on its path. Someone broke it to rewrite fate. If time collapses, everything will rewind‚Ä¶ forever.‚Äù</p>  
<p>Lina stared at the pocket watch. A thin crack cut through its center like a lightning scar.</p>  
<p>‚ÄúI just fix clocks,‚Äù she said, voice trembling.</p>  
<p>Kael smiled gently. ‚ÄúSometimes the smallest gear prevents the entire world from falling apart.‚Äù</p>  
<p>That night they worked together. As Lina repaired the watch, visions spilled into the room. Cities floating in the sky. Oceans rising to swallow steel towers. People forgetting yesterday as soon as the sun rose.</p>   
<p>Time unraveling thread by thread.</p>
<p>Before the final gear clicked into place, the workshop shook violently. A cloaked figure appeared beside them, face hidden behind a mask made of shifting darkness.</p>          
<p>‚ÄúThe future belongs to those who seize it,‚Äù the figure hissed.</p>  
<p>Kael shielded Lina. ‚ÄúYou tried to erase every fate but your own.‚Äù</p>  
<p>The cloaked intruder thrust a hand toward the watch. The symbols glowed red and the crack widened.</p>  
<p>Lina made a choice.</p>  
<p>She stepped between them, clutching the watch tight enough to cut her palms. She spoke with all the courage the world had given her:</p>  
<p>‚ÄúThe future belongs to everyone.‚Äù</p> 
<p>The symbols flashed white.</p>
<p>Light exploded through the workshop, swallowing shadow and fear alike.</p>          
<p>When the brightness faded, the cloaked figure was gone, dissolved into lost time.</p>  
<p>Kael steadied Lina as she looked at the watch.</p>  
<p>The crack had vanished.</p>  
<p>‚ÄúTime is safe,‚Äù Kael said. ‚ÄúBecause you chose the world over yourself.‚Äù</p>  
<p>He placed the watch gently into her hands.</p>  
<p>‚ÄúFrom this moment, you are its keeper.‚Äù</p> 
<p>Before she could argue, he disappeared like dust carried by wind.</p>
<p>Lina stood alone in the humming workshop. The clocks ticked in perfect rhythm.</p>          
<p>Morning sunlight crept in through the windows.</p>  
<p>For the first time, Lina felt time belonged to her too.</p>  
<p>She would protect it.</p>  
<p>One second at a time.</p> 

<hr>

<p><strong>Meaning & Reflection</strong></p>  
<p>Even ordinary people carry extraordinary power. Destiny is not decided by those who seek control, but by those who choose courage when it matters. Every second holds value, and the future remains safe when someone cares enough to guard it.</p> 

<hr>
    
      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story304.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story306.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>

  <script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
  <footer class="site-footer">
    <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
  </footer>
</body>
</html>
