<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Letter from Verdun</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Letter from Verdun</h1>
      <p class="meta">January 7, 2026 ‚Ä¢ By Henri Duval</p>
      <div class="tags">
        <span class="tag">war</span>
        <span class="tag">memory</span>
        <span class="tag">courage</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1065453922/photo/helmet-on-the-battlefield.webp?a=1&b=1&s=612x612&w=0&k=20&c=q7W1ohTN3QAf__EIbN0j1kZH0XuOPqOqyy4ucC02wGU=" alt="A faded battlefield under gray skies, a soldier‚Äôs handwritten letter resting beside a rusted helmet.">
    </header>

    <main class="story-content">
      <p><strong>Part I: The Frontline</strong></p>

<p>The mud of Verdun clung to everything ‚Äî boots, rifles, even hope. √âtienne Morel hadn‚Äôt seen a clean sky in weeks. Smoke and thunder rolled across the horizon as shells screamed above. The earth shook like a living thing. Every breath smelled of metal and fear.</p>

<p>In the dim trench light, he took out a small scrap of paper and began to write. His hands trembled from exhaustion, but his words were steady.</p>

<p><em>‚ÄúMy dearest Claire,</em><br>
<em>If this letter reaches you, know that I think of you with every sunrise I still see. They say we fight for France ‚Äî but I fight for the sound of your laughter, for the life we dreamed by the river.‚Äù</em></p>

<p>He paused, hearing a whistle ‚Äî the warning of another incoming barrage. The world above exploded in fire and soil. √âtienne ducked, heart hammering, before returning to the paper. Around him, men shouted, prayed, cursed. But in his words, there was only peace.</p>

<hr>

<p><strong>Part II: The Promise</strong></p>

<p>Night fell, cold and wet. √âtienne shared what little wine he had with a fellow soldier, Julien. ‚ÄúYou still writing to her?‚Äù Julien asked, trying to smile through cracked lips.</p>

<p>√âtienne nodded. ‚ÄúShe‚Äôs the reason I‚Äôm still standing.‚Äù</p>

<p>Julien stared at the stars ‚Äî faint pinpricks through smoke. ‚ÄúThen keep writing. Someone should remember us when this madness ends.‚Äù</p>

<p>The next morning, √âtienne‚Äôs regiment was ordered to advance. The ground ahead was a graveyard of craters. He tucked the letter into his coat pocket and whispered, ‚ÄúFor her.‚Äù</p>

<p>He never returned.</p>

<hr>

<p><strong>Part III: The Discovery</strong></p>

<p>In 1920, five years after the Armistice, a group of workers clearing the ruins near Verdun unearthed a rusted tin box. Inside was a folded letter, still sealed, its edges blackened but legible. It was sent to the town of Reims, to one Claire Morel.</p>

<p>She was an old woman by then, hair silver, eyes dim with memory. When the postman placed the envelope in her hands, her breath caught. She opened it slowly, as if afraid the air might steal the words away.</p>

<p><em>‚Äú...If I cannot return, promise me you‚Äôll keep living. Plant the apple tree by the river like we dreamed. One day, when it blooms, you‚Äôll know I kept my promise ‚Äî that I loved you until the last.‚Äù</em></p>

<p>Tears blurred the ink, but she read it again and again, until she could recite every word by heart. That spring, she planted the tree beside the river ‚Äî alone, but smiling through her grief.</p>

<hr>

<p><strong>Part IV: The Legacy</strong></p>

<p>A century later, in 2025, the apple tree still stood. Its blossoms drifted across the quiet banks of the Marne like pink snow. A young girl named Elise ‚Äî Claire‚Äôs great-granddaughter ‚Äî sat beneath it with her notebook, tracing the old letter framed on the wall at home.</p>

<p>She was writing her own story now, one about courage and love that endured beyond war. When she looked up, a petal landed on her page. For a moment, she thought she could hear distant whispers ‚Äî a promise carried through time.</p>

<p>‚ÄúKeep living,‚Äù it seemed to say.</p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Letter from Verdun</em> reminds us that love often outlives war, distance, and even death. It speaks of the small acts ‚Äî a letter, a seed, a memory ‚Äî that allow humanity to endure even when the world breaks around it. üå∏‚úâÔ∏è</p>

      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story152.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story154.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
