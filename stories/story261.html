<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Beneath the Willow Tree</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>Beneath the Willow Tree</h1>
      <p class="meta">October 29, 2025 ‚Ä¢ By Serena Calvert</p>
      <div class="tags">
        <span class="tag">family</span>
        <span class="tag">secrets</span>
        <span class="tag">redemption</span>
        <span class="tag">love</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/489774885/photo/bridge-on-nature.webp?a=1&b=1&s=612x612&w=0&k=20&c=2ceeVnb5sdQAiEAv0XzDZEhtwosMHSz9jKO8Tryi1Cs=" alt="A sprawling willow tree beside a quiet river, sunlight filtering through its hanging branches, creating a serene yet melancholic scene.">
    </header>

    <main class="story-content">
      <p>Clara Whitman approached the willow tree at the edge of the river, her footsteps crunching on the fallen leaves. She hadn‚Äôt been here since she was a child, not since the argument that had driven a wedge between her and her father. The tree had witnessed laughter, tears, and promises that time had tested cruelly.</p>

<p>Her father, Elias Whitman, sat on the weathered bench beneath the sweeping branches, staring at the water. He looked older than she remembered ‚Äî the years etched into his face, the lines deepened by regret. Clara swallowed her fear and called softly, ‚ÄúDad?‚Äù</p>

<p>He turned, eyes widening with a mixture of shock and hope. ‚ÄúClara‚Ä¶ you came back.‚Äù</p>

<p>Words failed them. Years of silence pressed against every heartbeat. Finally, Clara sat beside him. ‚ÄúI had to,‚Äù she said. ‚ÄúI can‚Äôt keep running from what happened.‚Äù</p>

<hr>

<p>They spoke slowly at first, tiptoeing around old wounds. Clara recounted her childhood memories, the quiet pain of feeling abandoned, the nights she had hoped for a call that never came. Elias listened, his throat tight, guilt heavy in his chest. ‚ÄúI thought I was protecting you,‚Äù he whispered. ‚ÄúI thought leaving was the only way to keep you safe.‚Äù</p>

<p>Clara shook her head, tears falling. ‚ÄúYou didn‚Äôt protect me. You left me to protect yourself.‚Äù</p>

<p>Hours passed as stories poured from both sides ‚Äî misunderstandings, misjudgments, and the choices that had shaped their lives. The willow tree stood witness, its branches swaying as if nodding in understanding. With every word, the weight of resentment lifted slightly, replaced by the fragile tendrils of understanding and connection.</p>

<hr>

<p>As twilight descended, Elias reached into his coat pocket and pulled out a small, worn notebook. ‚ÄúI kept this all these years,‚Äù he said. ‚ÄúIt‚Äôs filled with letters I never sent ‚Äî letters to you, to tell you I was proud, I loved you, and I regretted leaving.‚Äù</p>

<p>Clara opened the notebook. The handwriting was shaky but sincere. Each letter told a story of longing, hope, and remorse. Reading them, she felt the warmth of love that had been buried beneath years of silence.</p>

<p>‚ÄúI can‚Äôt undo the past,‚Äù Elias said, ‚Äúbut I want to be here now. If you‚Äôll let me.‚Äù</p>

<p>Clara reached out and took his hand, feeling the tremor of age and emotion. ‚ÄúI can‚Äôt forget,‚Äù she said softly, ‚Äúbut I can forgive. We can try again.‚Äù</p>

<hr>

<p>Under the willow tree, father and daughter sat in silence, letting the river‚Äôs gentle current carry away the echoes of the past. The golden glow of sunset bathed them in light, and for the first time in decades, they felt a fragile, hopeful peace.</p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>Beneath the Willow Tree</em> is a story about reconciliation, the courage to face long-held grievances, and the enduring power of familial love. It reminds us that even the deepest wounds can heal with honesty, patience, and the willingness to forgive. üåø‚ù§Ô∏è</p>


      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story260.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story262.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
