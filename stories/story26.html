<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Train That Never Stopped</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Train That Never Stopped</h1>
      <p class="meta">August 18, 2025 ‚Ä¢ By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">destiny</span>
        <span class="tag">separation</span>
        <span class="tag">memory</span>
      </div>
      <img 
        class="featured-image" 
        src="https://images.unsplash.com/photo-1665300016653-1a12fbc6646e?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fEElMjBtaXN0eSUyMHJhaWx3YXklMjBwbGF0Zm9ybSUyMGF0JTIwZGF3biUyMCVFMiU4MCU5NCUyMGElMjBzaW5nbGUlMjB0cmFpbiUyMHdhaXRpbmclMjBpbiUyMHNpbGVuY2UlMkMlMjB3aW5kb3dzJTIwZ2xvd2luZyUyMGZhaW50bHklMjBsaWtlJTIwZmFkaW5nJTIwbWVtb3JpZXMlMjBvZiUyMGFub3RoZXIlMjBsaWZlLnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=500" 
        alt="A misty railway platform at dawn ‚Äî a single train waiting in silence, windows glowing faintly like fading memories of another life.">
    </header>

    <main class="story-content">
      <p> The station clock struck five. Fog hung low, swallowing the tracks, and the silence between passing winds felt like the breath of time itself. She was there again ‚Äî <em>Amelia</em> ‚Äî wrapped in the same brown coat, holding a faded letter in her hand. </p> <p> The townspeople knew her story, though no one ever asked aloud. They said she waited for a man who‚Äôd promised to come back ‚Äúon the first train of spring.‚Äù But years had passed, and seasons had blurred together ‚Äî yet Amelia never missed a morning. </p> <p> It had begun ten years ago. She was a young pianist then, playing at the small caf√© near the station. He ‚Äî <em>Julian</em> ‚Äî was a traveler, a journalist who loved storms and unfinished books. He would always sit by the window, listening to her music as if it were written just for him. </p> <p> Their love grew quietly ‚Äî in glances, in half-smiles, in the pauses between train whistles. He once said, <em>‚ÄúIf I ever lose my way, play that song again ‚Äî I‚Äôll find you.‚Äù</em> </p> <p> Then came the night of the accident. A storm, a collapsed bridge, a train gone missing between tunnels. No bodies, no survivors ‚Äî just the echo of unanswered goodbyes. But the strange thing was this: every year since then, at dawn on the same date, the train still passed through ‚Äî ghostly, soundless, never stopping. </p> <p> And so she waited. Every year. Every morning of that same day. Sometimes she‚Äôd hear the faint music of wheels on the rails, like a heartbeat she still recognized. Sometimes, through the fog, she‚Äôd glimpse a shape by the window ‚Äî a man looking back. </p> <p> Today was no different. The wind carried the scent of rain, and far down the tracks, a light began to appear ‚Äî a golden pulse through the mist. Her heart rose. She stepped closer, clutching the letter tight. </p> <p> As the train drew near, it slowed ‚Äî just slightly, as if hesitating. The doors stayed closed, but through the glass she saw him. Julian ‚Äî older, but unchanged in essence, his eyes calm, smiling faintly. He raised his hand against the window. She reached hers to meet it. Between them ‚Äî only the reflection of their shared years. </p> <p> And then, as the whistle broke the dawn, the train moved on. She didn‚Äôt cry this time. She opened the letter instead ‚Äî her own handwriting from years ago, written but never sent: <br> <em>‚ÄúIf the train ever comes, don‚Äôt stop. Just look for me in the sound of the rails.‚Äù</em> </p> <p> When the light faded, she sat down on the empty bench. The first drops of rain began to fall, each one striking the metal roof like a metronome. She smiled faintly, whispering, ‚ÄúNext year again, Julian. I‚Äôll be here.‚Äù </p> <p> That night, the station master found only her coat and the letter ‚Äî no footprints leading away. But the following spring, when the ghost train passed once more, two figures were seen through the window ‚Äî sitting side by side, watching the dawn together. </p>
<p> <strong>Meaning / Reflection:</strong><br> *The Train That Never Stopped* is a story of love that transcends time and reason ‚Äî a promise that endures beyond the boundaries of life. It reminds us that love doesn‚Äôt always wait to be found in another person; sometimes, it waits for us across lifetimes ‚Äî patiently, faithfully, in the rhythm of things that never stop moving. üöâüåßÔ∏è </p>
      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story25.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story27.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
  <style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<script src="../js/storyFeatures.js"></script>

<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
