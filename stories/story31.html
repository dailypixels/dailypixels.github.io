<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The House That Waited for Morning</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The House That Waited for Morning</h1>
      <p class="meta">February 21, 2025 ‚Ä¢ By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">secrets</span>
        <span class="tag">memory</span>
        <span class="tag">silence</span>
      </div>
      <img 
        class="featured-image" 
        src="https://media.istockphoto.com/id/1408606196/photo/old-victorian-house-on-grass-plain-in-a-misty-valley-at-sunrise-3d-render.webp?a=1&b=1&s=612x612&w=0&k=20&c=klfXejwlHBesv2S0G8YjszSCJjc0tSSO1ODnexr0OY4=" 
        alt="A lonely Victorian house standing on a fog-covered hill, one window glowing faintly while all others remain dark.">
    </header>

    <main class="story-content">
      <p> It began with a flicker. <br><br> From my window across the valley, I could see it ‚Äî a faint light, steady and deliberate, shining from the top floor of the old Whitestone Manor. The house had been empty for decades, its windows boarded and walls crumbling like the pages of an unread story. </p> <p> At first, I thought it was a trick of reflection ‚Äî perhaps the headlights from passing cars on the distant road. But when the light appeared again the next night, and the next after that, always at exactly 11:47 p.m., I knew something ‚Äî or someone ‚Äî was inside. </p> <p> They said the last person to live there was Eleanor Whitestone, a reclusive artist who vanished one winter without a trace. Only her unfinished paintings remained ‚Äî and her diary, which ended mid-sentence: <br> <em>‚ÄúWhen the light comes, I‚Äôll finally see‚Ä¶‚Äù</em> </p> <p> Curiosity is a dangerous thing for those who live alone. So one night, I decided to go. <br> The gate creaked open as if it remembered my touch. My flashlight beam wavered across peeling wallpaper and dust that shimmered like snowfall. Every step echoed like an unwelcome memory. </p> <p> When I reached the staircase, I noticed something strange: the air was warm, though every window was shattered. The faint smell of turpentine lingered ‚Äî fresh, sharp, alive. <br><br> The light was coming from the attic. </p> <p> I climbed slowly, each step softer than the last. At the top, I found the door slightly open, a glow spilling through the crack. I pushed it gently ‚Äî and froze. </p> <p> The room was full of canvases, hundreds of them, covering every wall. But each one was painted in the same way ‚Äî the same woman, facing the same window, her expression shifting ever so slightly from one painting to the next. <br><br> And in the center of the room stood an easel. A new canvas. Still wet. </p> <p> The woman in the painting this time‚Ä¶ was me. </p> <p> The brush still rested in the jar beside it, dripping paint the color of candlelight. My heart pounded. I stepped back, but the floor groaned ‚Äî and the sound of footsteps echoed behind me. <br><br> ‚ÄúEleanor?‚Äù I whispered, though I didn‚Äôt believe in ghosts. <br> The light flickered. The temperature dropped. And from the mirror in the corner, I saw a reflection that wasn‚Äôt mine ‚Äî a woman‚Äôs face, pale, curious, watching me with eyes that seemed to ask, *‚ÄúDo you see now?‚Äù* </p> <p> I stumbled down the stairs and ran until the house disappeared behind the fog. When I turned back, the light in the attic window flickered once more ‚Äî and then went out. </p> <p> The next morning, I returned with the police. <br> The door was sealed. The paintings were gone. The attic was empty. <br> Only one thing remained ‚Äî a single canvas leaning against the wall, still damp. <br><br> It showed the old Whitestone Manor, bathed in dawn light. <br> And in one of its windows ‚Äî a figure standing quietly, looking out. <br><br> It wasn‚Äôt Eleanor. <br> It was me. </p>
<p> <strong>Meaning / Reflection:</strong><br> *The House That Waited for Morning* is about the mysteries we awaken by seeking answers too deeply ‚Äî and how sometimes, what we search for in the past begins to search for us too. <br> Some doors are meant to stay closed ‚Äî not because they hide darkness, but because they reflect it. üî¶üèöÔ∏è </p>
      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story30.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story32.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
  <style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<script src="../js/storyFeatures.js"></script>

<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
