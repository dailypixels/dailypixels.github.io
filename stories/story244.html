<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Painter of Villette</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">← Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Painter of Villette</h1>
      <p class="meta">September 29, 2025 • By Henri Valcourt</p>
      <div class="tags">
        <span class="tag">art</span>
        <span class="tag">war</span>
        <span class="tag">hope</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1426645789/photo/art-studio-and-empty-painting-room-for-creative-freedom-with-easel-tool-in-a-loft-building.webp?a=1&b=1&s=612x612&w=0&k=20&c=q7P2nISc122QRs597LhkuFnqK7pcyOi-kttucdP01j4=" alt="An artist’s studio with unfinished paintings, sunlight filtering through dust, and a single easel facing an open window toward an old European street.">
    </header>

    <main class="story-content">
     <p>The year was 1942. The town of Villette had lost its colors — its laughter replaced by the sound of boots and orders shouted in a foreign tongue. Windows were shuttered, doors locked, and the air smelled of fear and smoke. But inside a small attic on Rue de l’Étoile, one man still painted.</p>

<p>Étienne Moreau had once been famous in Paris for his portraits of light — the way he could capture hope in a child’s face or peace in a sleeping cat by the window. But when the occupation began, he returned home to Villette, painting only in secret. His brushes moved not for money or fame, but for memory — to preserve the faces of those being erased.</p>

<p>Hidden beneath loose floorboards were dozens of canvases: the baker’s wife, the rabbi’s daughter, the bookseller’s son — people who had disappeared into the night. Their eyes still watched from the shadows, their colors still alive beneath his trembling hands.</p>

<hr>

<p>One evening, a soft knock echoed at his door. Étienne froze. He never received visitors. When he opened it, a young woman stood there, her coat torn, her hair damp with rain. She spoke quickly, her voice shaking. “You’re Moreau, the painter?”</p>

<p>He nodded slowly. “Once. Who are you?”</p>

<p>“Claire Dubois. They said you help people hide.”</p>

<p>Étienne stared at her. “I help them be remembered.”</p>

<p>Her eyes filled with desperation. “Then remember me later. But please — hide me now.”</p>

<p>Without a word, he let her in.</p>

<hr>

<p>For weeks, Claire lived in the attic, beneath the slanted roof where Étienne painted by candlelight. She told him of her brother, taken by soldiers, and of her plan to cross the border with stolen papers. In exchange for shelter, she cooked, cleaned, and sometimes hummed old lullabies that made him forget the war for a moment.</p>

<p>One night, Étienne asked her to sit for a portrait. “If something happens to you,” he said quietly, “the world should still see your light.”</p>

<p>She hesitated, then nodded. He painted her by the open window, the faint dawn illuminating her eyes. “You paint like someone who’s already seen the end,” she said softly.</p>

<p>“Maybe I have,” he murmured.</p>

<hr>

<p>But peace was fragile. A patrol arrived days later, searching houses for fugitives. Étienne hid Claire beneath the floorboards with the others — the painted ones and the living one alike. He stood before his easel as the soldiers entered, pretending to work. One of them, young and uncertain, stopped to study a half-finished canvas of Claire.</p>

<p>“Who is she?” the soldier asked.</p>

<p>Étienne smiled faintly. “An angel,” he said. “One I dreamed of once.”</p>

<p>The soldier looked again, something flickering in his eyes, then turned and left without another word.</p>

<hr>

<p>When the war ended, Villette awoke to silence. Many homes were empty, many faces gone. But Étienne’s attic still glowed with color. People came to see his hidden gallery — portraits of those lost, each painted with the same golden light.</p>

<p>Claire returned one morning, older but alive. She found her portrait still hanging where he’d left it. “You kept your promise,” she said, tears tracing her cheeks.</p>

<p>Étienne smiled, his hands trembling from age. “It was all I had to give.”</p>

<p>When he passed away that winter, his studio became a small museum. On the door, carved into the wood, were the words he had once whispered to his brush: <em>“So they will not be forgotten.”</em></p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Painter of Villette</em> is a story about memory and moral courage. It reminds us that even in the darkest of times, art becomes resistance — a way to fight erasure with color, silence with creation, and fear with the quiet defiance of hope. 🎨🕊️</p>

      <p class="end-note">— End of Story —</p>
    </main>

    <nav class="story-navigation">
      <a href="story243.html" class="nav-button prev">← Previous Story</a>
      <a href="story245.html" class="nav-button next">Next Story →</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
