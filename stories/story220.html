<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Painter of Prague</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Painter of Prague</h1>
      <p class="meta">March 26, 2025 ‚Ä¢ By Emilia Novak</p>
      <div class="tags">
        <span class="tag">war</span>
        <span class="tag">art</span>
        <span class="tag">courage</span>
        <span class="tag">legacy</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/92238739/photo/the-sketch.webp?a=1&b=1&s=612x612&w=0&k=20&c=xdV6ZFrzdzmyx0xK0wZVVT-rfHPWU8eNLk5sCfwZVUw=" alt="A painter‚Äôs studio in Prague, sunlight falling across half-finished portraits and scattered brushes.">
    </header>

    <main class="story-content">
     <p>Prague, 1942. The streets whispered in fear, every footstep echoing through cobblestones once filled with laughter. The caf√©s were silent, the theatres closed, and art ‚Äî true art ‚Äî was forbidden. But in a small attic studio overlooking the Vltava River, a man still painted.</p>

<p>His name was Tomas Valen. Once, he had been celebrated across Europe ‚Äî his portraits known for eyes that seemed to breathe. Now, his brushes trembled not from age, but from what they concealed. Beneath the layers of government-approved paintings, he hid forbidden works ‚Äî portraits of the condemned, faces of the forgotten, the souls of a city under shadow.</p>

<p>Every night, Tomas painted in candlelight, the flame flickering as if in rhythm with his heartbeat. He could hear the boots outside, the patrols that dragged his neighbors into the night. He knew it was only a matter of time before they came for him. Still, he painted.</p>

<p>His latest work was of a young girl ‚Äî Marta ‚Äî the daughter of his Jewish neighbor, who had been taken three months earlier. Her laughter still echoed in the hallways. Tomas had promised her mother he would ‚Äúremember her face.‚Äù And so, with trembling hands, he captured her smile in strokes of gold and blue, sealing her memory beneath the paint of an official portrait of a German officer.</p>

<p>By day, he painted what they demanded: flags, parades, portraits of authority. By night, he peeled back the truth with color and courage. Behind every face of power, he hid the image of one who had vanished.</p>

<p>One evening, as snow began to fall, there was a knock on his door ‚Äî sharp, rhythmic, official. Tomas froze. He hid his brushes, covered the easel, and opened the door. A young officer stood there, tall and severe.</p>

<p>‚ÄúTomas Valen?‚Äù</p>

<p>‚ÄúYes,‚Äù he said quietly.</p>

<p>‚ÄúYour work has been noticed,‚Äù the officer said. ‚ÄúThe Commandant wishes to commission your portrait. Tomorrow morning.‚Äù</p>

<p>Tomas nodded, his stomach tightening. When the officer left, he sat before his canvas in silence. He knew this might be the last painting he ever made.</p>

<p>The next morning, the Commandant himself arrived ‚Äî a man with eyes like glass. ‚ÄúMake me immortal,‚Äù he said. ‚ÄúBut quickly.‚Äù</p>

<p>Tomas painted for hours, his brush steady, his mind elsewhere. When it was done, the Commandant smiled. ‚ÄúIt is‚Ä¶ magnificent.‚Äù</p>

<p>What he did not know was that beneath his painted face, Tomas had hidden another image ‚Äî a field of graves, and the names of every family taken from the city, written in faint strokes beneath the oil. Invisible to the eye, but preserved for history.</p>

<p>Days later, the Gestapo came for Tomas. They found the hidden paintings beneath his floorboards, and with them, his fate. He was arrested, tried, and executed within the week.</p>

<p>But his art survived. Years later, when Prague was liberated, restorers uncovered the layers ‚Äî faces of soldiers fading into the eyes of children, portraits of power dissolving into portraits of memory. Each brushstroke a whisper of defiance.</p>

<p>Today, one of Tomas Valen‚Äôs paintings hangs in the National Gallery of Prague. Under the right light, if you look closely enough, you can still see it ‚Äî a faint outline of a girl smiling beneath the shadow of a man who thought he would live forever.</p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Painter of Prague</em> is a story about silent rebellion ‚Äî about how beauty and truth can endure even under tyranny. It reminds us that art, at its truest, is not decoration but defiance ‚Äî and that even when voices are silenced, colors can still speak for them. üé®üïØÔ∏è</p>


      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story219.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story221.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
