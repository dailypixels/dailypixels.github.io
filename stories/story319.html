<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Echoes of Blackwater Pier</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Echoes of Blackwater Pier</h1>
      <p class="meta">October 31, 2025 ‚Äî by Daily Pixel Crime & Suspense Desk</p>
      <div class="tags">
        <span class="tag">Crime</span>
        <span class="tag">Detective Mystery</span>
        <span class="tag">Smuggling</span>
        <span class="tag">Secrets</span>
        <span class="tag">Betrayal</span>
        <span class="tag">Coastal Noir</span>
      </div>
      <img class="featured-image" src="https://plus.unsplash.com/premium_photo-1747778639769-07ba88427863?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8QSUyMGZvZy1jb3ZlcmVkJTIwcGllciUyMGF0JTIwbmlnaHQlMkMlMjB3YXRlciUyMHJlZmxlY3RpbmclMjBkaW0lMjBkb2NrJTIwbGlnaHRzJTJDJTIwd2l0aCUyMGElMjBzaW5nbGUlMjBhYmFuZG9uZWQlMjBjcmF0ZSUyMGxlYWtpbmclMjBhJTIwbXlzdGVyaW91cyUyMGdsb3dpbmclMjBsaXF1aWQufGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=500" alt="A fog-covered pier at night, water reflecting dim dock lights, with a single abandoned crate leaking a mysterious glowing liquid.">
    </header>

    <main class="story-content">
    
<p>Sea mist shrouded Blackwater Pier like a burial veil. Waves slapped the wooden posts with restless anger. Detective Mara Vance observed in silence, cold wind biting through her coat.</p>
<p>The pier smelled exactly as she remembered. Salt. Rust. Secrets.</p>         
<p>Three fishermen had vanished in one month. No witnesses. No bodies. Just abandoned boats drifting ashore.</p>
<p>Sheriff Briggs, her former mentor, stood near a flickering lamp. ‚ÄúGlad you came,‚Äù he said, though his eyes showed the opposite. Blackwater did not forget those who left.</p>
<p>Mara examined the latest victim‚Äôs boat. Fresh scratches along the hull. A crate wedged under the bench. Inside it, a black-market anomaly: vials of strange bioluminescent liquid.</p>
<p>Illegal research materials.</p>
<p>Human experimentation rumors.</p>
<p>Someone was smuggling through the pier.</p>
<p>At the local bar, whispers froze when she walked in. Nobody looked at her directly. Except one.</p>
<p>Elias Kane. Once her friend. Now a dock foreman with shadows in his gaze.</p>
<p>‚ÄúYou should not have come back,‚Äù he muttered. ‚ÄúThis place is not what it was.‚Äù</p>
<p>‚ÄúIt never was good,‚Äù she replied.</p>
<p>Later that night, she caught Elias loading crates into a hidden compartment beneath the pier. When confronted, he froze.</p>
<p>‚ÄúIt is not what you think,‚Äù he pleaded.</p>
<p>Before he could finish, a sharp whistle cut the air.</p>
<p>Gunshots exploded across the boards.</p>
<p>Mara and Elias dove behind barrels. A figure in a rain-slick trench coat returned fire from the shadows. They fled toward the end of the pier, bullets sparking off metal.</p>
<p>Elias was hit in the shoulder, but he pushed onward, dragging Mara behind a mooring post.</p>
<p>‚ÄúThat liquid,‚Äù he gasped, ‚Äúthey are paying people to disappear. To test something.‚Äù</p>
<p>Mara‚Äôs pulse hammered.</p>
<p>‚ÄúWho?‚Äù she demanded.</p>
<p>Elias‚Äôs answer arrived in the form of footsteps.</p>
<p>Sheriff Briggs stepped from the darkness, pistol raised, badge glinting.</p>
<p>‚ÄúSome investigations should never happen,‚Äù he said.</p>
<p>Mara‚Äôs heart dropped. Betrayal tasted like iron.</p>
<p>‚ÄúYou are the reason those men vanished,‚Äù she said through clenched teeth.</p>
<p>Briggs smiled, wolfish. ‚ÄúProgress demands sacrifice. Our town will thrive again.‚Äù</p>
<p>As he fired, Elias shoved Mara aside, taking another bullet that would have ended her.</p>
<p>Fury ignited through her veins. Mara tackled Briggs, forcing his weapon away. They grappled dangerously near the edge until she snapped handcuffs onto his wrist and kicked his legs from beneath him.</p>
<p>He crashed onto the deck, breath knocked out.</p>
<p>Sirens howled from the mainland. The truth Mara had sent moments earlier through her radio surged toward them.</p>
<p>Paramedics arrived too late for Elias‚Äôs wounds. As he faded, he managed a fractured smile.</p>
<p>‚ÄúYou always‚Ä¶ chased the dark,‚Äù he whispered. ‚ÄúGlad you turned on a light this time.‚Äù</p>
<p>Mara held his hand until it fell still.</p>
<p>She looked out at the black waves swallowing the horizon. The ocean kept many sins buried. Blackwater Pier was no exception.</p>
<p>Not anymore.</p>

<hr>

<p><strong>Meaning & Reflection</strong></p>
<p>The story highlights how corruption often grows where accountability fades. Home can be both refuge and battlefield. The past must be confronted to protect the future, because silence breeds more harm than truth ever could.</p>      

<hr>

      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story318.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story320.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
  <script src="../js/storyFeatures.js"></script>

  <footer class="site-footer">
    <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
  </footer>
</body>
</html>
