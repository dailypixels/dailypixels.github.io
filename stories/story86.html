<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Sky Below</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Sky Below</h1>
      <p class="meta">October 17, 2025 ‚Ä¢ By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">exploration</span>
        <span class="tag">courage</span>
        <span class="tag">mystery</span>
        <span class="tag">skylands</span>
      </div>
      <img class="featured-image" src="https://plus.unsplash.com/premium_photo-1755286480003-585b4ff26bee?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8QSUyMHlvdW5nJTIwZXhwbG9yZXIlMjBzdGFuZGluZyUyMGF0JTIwdGhlJTIwZWRnZSUyMG9mJTIwYSUyMGZsb2F0aW5nJTIwaXNsYW5kJTJDJTIwd2luZCUyMGluJTIwaGlzJTIwaGFpciUyQyUyMGxvb2tpbmclMjBvdXQlMjBvdmVyJTIwYW4lMjBlbmRsZXNzJTIwc2VhJTIwb2YlMjBjbG91ZHMlMjBwaWVyY2VkJTIwYnklMjBzdW5saWdodC58ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60&w=500" alt="A young explorer standing at the edge of a floating island, wind in his hair, looking out over an endless sea of clouds pierced by sunlight.">
    </header>

    <main class="story-content">
      <p> The winds above the world carried whispers of a place that didn‚Äôt exist ‚Äî a land beneath the clouds, hidden from time itself. For centuries, it was called the *Sky Below*, a myth among explorers. But for <em>Lio Arden</em>, a young mapmaker from the city of Aerinth, it was not a myth ‚Äî it was a promise. </p> <p> His father had been an explorer too ‚Äî one who vanished while seeking the same legend. All Lio had left of him was an unfinished map with a strange note scrawled in the corner: *‚ÄúWhen the sky turns silver, follow the light that falls.‚Äù* For years, that line haunted him, until one dawn, the sky truly did turn silver. </p> <p> Lio gathered his compass, journals, and his small airship, the *Eclipsera*. With every turn of the propellers, the earth fell away beneath him, and clouds swallowed the world. He flew for days, tracing wind currents that twisted like rivers in the air. The sun rose and set like a pendulum, and loneliness became his only companion. </p> <p> On the seventh day, his instruments began to fail ‚Äî needles spun wildly, compasses pointed to nothing. Then, through a break in the clouds, he saw something shimmer below: a faint glow, soft and alive. He dove through the mist and found himself above a valley suspended in the air ‚Äî an island of forests, waterfalls, and ruins floating in silence. The *Sky Below* was real. </p> <p> Lio landed among ancient stone arches covered in moss. Strange symbols lined the walls, echoing his father‚Äôs handwriting. He followed them through the ruins until he reached a platform overlooking the endless abyss. There, in the center, lay a journal ‚Äî his father‚Äôs. </p> <p> The pages told of discovery and despair. The elder Arden had found the Sky Below but realized it wasn‚Äôt a place meant to be claimed ‚Äî it was alive, a breathing fragment of the world‚Äôs memory, holding the echoes of every dream ever lost to the wind. He wrote, *‚ÄúIf you find this, my son, do not map it. Let it remain what it is ‚Äî the part of the world that still believes in wonder.‚Äù* </p> <p> Lio stood beneath the silver sky, tears mixing with the mist. For the first time, he understood. He closed the journal, stepped to the edge, and set his own map aflame. The wind carried the ashes away like black feathers. Then he climbed back aboard the *Eclipsera* and rose upward, leaving the island hidden once more. </p> <p> Weeks later, when he returned to Aerinth, people asked if he found it. He smiled softly and said, ‚ÄúNo ‚Äî and I hope no one ever does.‚Äù </p> <p><strong>Meaning / Reflection:</strong><br> *The Sky Below* reminds us that not every mystery is meant to be solved, and not every adventure ends with possession. Some discoveries are sacred because they remain beyond our reach. The truest explorers are those who know when to turn back ‚Äî and carry the wonder home instead. üå¨Ô∏èüó∫Ô∏è </p>

      <p class="end-note">
        Mara knew the city‚Äôs safety was fragile,  
        and that betrayal could come from the shadows within.  
        The echo of lies would linger,  
        reminding her that in the hunt for truth, trust is the most dangerous weapon.
      </p>
    </main>

    <nav class="story-navigation">
      <a href="story85.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story87.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
