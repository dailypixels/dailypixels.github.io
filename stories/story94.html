<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Mapmaker’s Daughter</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">← Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Mapmaker’s Daughter</h1>
      <p class="meta">October 17, 2025 • By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">exploration</span>
        <span class="tag">courage</span>
        <span class="tag">legacy</span>
        <span class="tag">discovery</span>
      </div>
      <img class="featured-image" src="https://images.unsplash.com/photo-1680868693603-4d193a0e3ea9?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8QSUyMHZhc3QlMjBkZXNlcnQlMjBhdCUyMHN1bnJpc2UlMkMlMjBnb2xkZW4lMjBkdW5lcyUyMHN0cmV0Y2hpbmclMjBlbmRsZXNzbHklMjBhcyUyMGElMjBsb25lJTIwdHJhdmVsZXIlMjBzdGFuZHMlMjBhdG9wJTIwYSUyMHJpZGdlJTIwaG9sZGluZyUyMGElMjBoYWxmLWJ1cm5lZCUyMG1hcCUyMGZsdXR0ZXJpbmclMjBpbiUyMHRoZSUyMHdpbmQufGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=500" alt="A vast desert at sunrise, golden dunes stretching endlessly as a lone traveler stands atop a ridge holding a half-burned map fluttering in the wind.">
    </header>

    <main class="story-content">
      <p> The winds of <em>Sahirra</em> carried stories like grains of sand — fleeting, shifting, and half-true. To most, they were just myths whispered by caravans. But to <em>Lira Kael</em>, the daughter of the empire’s last mapmaker, they were a promise. </p>

<p> Her father, <em>Coren Kael</em>, had spent his life charting the world — tracing rivers, mountain ridges, and lost cities — until one day he vanished beyond the <em>Red Dunes</em>, leaving behind only a single, half-burned map. On it, the ink ended abruptly in the shape of a handprint, pressed in ash. Beneath it, in his handwriting, were three words: *“Finish the world.”* </p>

<p> Lira grew up under that map, memorizing its scars and curves. While others believed her father had gone mad chasing legends, she saw something else — a line waiting to be crossed. </p>

<p> In the spring of 2025, at twenty-five years old, she packed her father’s compass, a leather journal, and the half-burned map, setting out alone toward the Red Dunes. The journey began with silence and heat — days where even the wind refused to move. Her water ran low, her feet blistered, and her courage cracked like dry clay. But each night, when the stars emerged, she saw the same constellation her father had drawn on the map’s edge — *the Eye of Sahirra* — pointing always east. </p>

<p> On the tenth day, she reached a canyon where the sand turned black, glass-like. Strange carvings lined the cliffs — spirals, suns, and symbols of eyes. In the center lay a shattered compass identical to her father’s. Beneath it, buried in the sand, she found his journal — its last page unfinished. The words read: *“The world is not flat. It bends toward truth.”* </p>

<p> That night, a storm unlike any she’d seen rose over the dunes. Lightning burned through the clouds, revealing ruins half-buried by centuries. Lira ran for shelter inside a crumbling archway — and there, in the flicker of her lantern, she saw walls covered in maps. Thousands of them. Each one different. Each one drawn by different hands — all ending where hers began. </p>

<p> At the heart of the chamber stood a massive stone tablet etched with a single phrase in ancient script: <em>“The world ends only where courage does.”</em> </p>

<p> Lira pressed her father’s map against it, aligning the marks. The handprint in ash fit perfectly into an engraved indentation — and as she placed her palm over it, the tablet began to glow. The ground shifted, revealing a narrow passage descending deep beneath the earth. </p>

<p> She followed it for hours until it opened into a vast underground sea. Above its surface, glowing crystals reflected the stars — not of the night sky, but of places unseen. It was a map — not of geography, but of stories, memories, and possibilities. </p>

<p> Lira realized then what her father had meant. Maps weren’t just about land — they were about truth. About the unseen paths that connect all who seek. </p>

<p> She marked the final point in her journal, completing the map’s last line — not toward an end, but toward infinity. </p>

<p> When she finally returned to Sahirra, sunburned and changed, she presented her father’s completed map to the scholars. They laughed at first — until the stars above the Red Dunes began to shift, revealing a new constellation none had ever recorded. They named it *Kael’s Line*. </p>

<p> Lira didn’t stay for fame. She reopened her father’s workshop and began teaching others to draw their own maps — not to follow hers, but to create their own edges. </p>

<p> Above her desk hung the old parchment, now complete. The final words read: <em>“The world is endless to those who keep walking.”</em> </p>

<p><strong>Meaning / Reflection:</strong><br>
*The Mapmaker’s Daughter* is a story about the courage to finish what others leave behind — not out of duty, but discovery. It reminds us that every map, every dream, and every act of faith begins where certainty ends. True adventure isn’t found by following the known, but by daring to draw new lines. 🧭✨ </p>

      <p class="end-note">
        The city felt different after that night—every familiar corner became a question,  
        every passerby a potential threat.  
        Jenna understood that vigilance is survival,  
        and that even the most trusted guardians can harbor dangerous intentions.
      </p>
    </main>

    <nav class="story-navigation">
      <a href="story93.html" class="nav-button prev">← Previous Story</a>
      <a href="story95.html" class="nav-button next">Next Story →</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
