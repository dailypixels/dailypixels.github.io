<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Last Ember</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">â† Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Last Ember</h1>
      <p class="meta">July 4, 2025 â€¢ By Liora Vale</p>
      <div class="tags">
        <span class="tag">magic</span>
        <span class="tag">prophecy</span>
        <span class="tag">sacrifice</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/642066318/photo/priest-in-foggy-forest.webp?a=1&b=1&s=612x612&w=0&k=20&c=GsDVv--fiW7RXHRyoVgq2nOlBv7DUyL2cGWHVFbYmN0=" alt="A lone figure standing before an ancient glowing tree in a twilight forest, embers floating through the mist.">
    </header>

    <main class="story-content">
     <p>There was a time when the world burned with color. Rivers glowed with silver light, mountains hummed with ancient songs, and the skies shimmered like living glass. That was before the Ember began to die â€” the eternal flame at the heart of creation.</p>

<p>Every kingdom had sent their greatest sorcerers to the Crystal Vale where the Ember slept, but none returned. The flame grew dimmer each passing moon, and as it faded, so too did the worldâ€™s magic. Songs lost their music, flowers lost their scent, and even dreams turned gray.</p>

<p>In the last city of Vaelora, deep beneath its ruins, lived a girl named Seren. She was not a queen nor a mage â€” just a keeper of broken relics, tending to forgotten things. Yet in her chest burned a small spark that never went out. She didnâ€™t know it, but she was the last of the Emberborn â€” beings made from the flame itself, created to protect it when the time came.</p>

<hr>

<p>One night, as the stars fell from the sky like dying embers, Seren heard a voice call her name. It came from the relic room â€” from an ancient shard of glass shaped like a tear. She touched it, and the world around her melted into light. A vision unfolded: the Ember, chained by black roots of shadow, flickering weakly in the darkness. A single whisper echoed through the vision:</p>

<blockquote>â€œCome to the Vale. The flame remembers you.â€</blockquote>

<p>When she awoke, the shard was gone â€” only a faint warmth lingered in her palm. Without hesitation, Seren packed her satchel, took her rusted lantern, and began her journey across a dying land.</p>

<hr>

<p>She crossed plains where the grass no longer grew, and forests where trees had turned to stone. Along the way she met a wanderer named Kael, a scarred swordsman who claimed to have once guarded the Emberâ€™s chamber before abandoning his post. Guilt haunted him like a shadow.</p>

<p>â€œYou canâ€™t save it,â€ Kael said as they camped beneath a blood-red moon. â€œThe Ember feeds on hope, and thereâ€™s none left.â€</p>

<p>â€œThen Iâ€™ll feed it mine,â€ Seren replied, her lantern glowing faintly.</p>

<p>Kael looked at her, and for the first time in years, smiled.</p>

<hr>

<p>When they reached the Crystal Vale, it was not a place of beauty but of ruin. The ground was cracked and blackened, the air thick with ash. In the center stood the Ember â€” or what remained of it â€” a faint sphere of fire bound in chains of obsidian. Around it lay the bones of those who had tried to save it and failed.</p>

<p>As Seren approached, the shadows stirred. A monstrous form rose from the ground â€” a creature made of smoke and despair, its eyes burning with stolen light. â€œI am the Hollow Flame,â€ it hissed. â€œBorn of your worldâ€™s fear. The Ember dies because you let it.â€</p>

<p>Kael drew his sword. â€œRun!â€</p>

<p>But Seren didnâ€™t move. The lantern in her hand began to blaze with blinding brilliance. â€œYou canâ€™t kill what was never alive,â€ she said softly, and stepped forward.</p>

<p>The Hollow roared, striking at her with claws of darkness. Kael leapt between them, the blow shattering his blade and throwing him aside. Seren knelt before the dying Ember, tears falling onto its surface. â€œI remember you,â€ she whispered. â€œAnd I am yours.â€</p>

<p>The flame flared â€” a heartbeat, a memory, a promise. Fire burst from her chest, flooding the Vale with light. The chains melted. The Hollow screamed as it dissolved into smoke. The Ember reignited, brilliant and pure.</p>

<hr>

<p>When the light faded, Seren was gone. In her place, at the heart of the reborn Ember, floated her lantern â€” now burning eternally with golden fire. Kael stood before it, his wounds healed, his heart lightened for the first time in ages.</p>

<p>He knelt and whispered, â€œYou saved us all.â€</p>

<p>The world awoke anew. Rivers shimmered again. The mountains sang. And wherever light touched, people felt a warmth they couldnâ€™t name â€” as if someone, somewhere, still watched over them.</p>

<p>In the new dawn, a single word echoed across the winds of creation:</p>

<blockquote>â€œRemember.â€</blockquote>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Last Ember</em> is a story about renewal, faith, and the endurance of light even when hope seems lost. Serenâ€™s sacrifice reminds us that even the smallest spark â€” a single act of courage or love â€” can reignite an entire world. Magic, like faith, does not vanish when forgotten. It waits to be remembered. ğŸ•¯ï¸âœ¨</p>


      <p class="end-note">â€” End of Story â€”</p>
    </main>

    <nav class="story-navigation">
      <a href="story234.html" class="nav-button prev">â† Previous Story</a>
      <a href="story236.html" class="nav-button next">Next Story â†’</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">â¤ï¸</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">ğŸ’¬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">âœ•</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent âœ…";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>Â© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
