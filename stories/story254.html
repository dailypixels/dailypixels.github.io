<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Letters Across the Sky</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">← Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>Letters Across the Sky</h1>
      <p class="meta">October 22, 2025 • By Isla Montgomery</p>
      <div class="tags">
        <span class="tag">love</span>
        <span class="tag">destiny</span>
        <span class="tag">second chances</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1404939352/photo/young-woman-with-a-red-heart-balloons-runing-on-the-beach.webp?a=1&b=1&s=612x612&w=0&k=20&c=9x2PXZMMMNh7nZ9TpGRGtqzo5eHbFNpH82LdfXBVhac=" alt="A woman standing by an old red mailbox overlooking the sea, holding a letter as gulls fly above.">
    </header>

    <main class="story-content">
      <p>The first letter wasn’t meant for her.</p>

<p>Elena Morris had moved to the small coastal town of Windmere after her breakup — a quiet place where seagulls replaced city sirens and the days moved like tides. The cottage she rented came with peeling paint, a creaky porch swing, and a red mailbox that looked older than the street itself. One morning, as she checked her mail, she found a cream-colored envelope addressed to someone named “S. Whitlock.”</p>

<p>Inside was a handwritten letter: <em>“I still dream of the night sky over Marlow Hill. If you ever look up and see Orion’s belt, think of me.”</em></p>

<p>It was signed simply — <em>“J.”</em></p>

<p>She could’ve returned it to the post office, but something about the letter stopped her. It was raw, poetic — a confession written by someone who clearly still believed in love. And for the first time in months, Elena felt something stir inside her chest.</p>

<p>She wrote back: <em>“Dear J, I’m afraid your letter reached the wrong person. But I couldn’t bring myself to ignore it. For what it’s worth — I looked up at Orion’s belt tonight, too.”</em></p>

<p>She signed it, <em>“E.”</em> and dropped it into the same red mailbox.</p>

<hr>

<p>Two weeks later, another letter arrived.</p>

<p><em>“Dear E, I never thought a mistake could feel like fate. I don’t know who you are, but thank you for replying. Sometimes it’s easier to write to a stranger. The stars feel closer that way.”</em></p>

<p>And so, a correspondence began — week after week, two souls exchanging thoughts across miles and mistakes. They never asked for last names or photos, only pieces of their days: the sound of rain on her window, the smell of coffee at dawn, the memory of a hand once held and lost.</p>

<p>Elena found herself checking the mailbox more often than she’d like to admit. She learned that “J” was a musician who’d lost someone he loved in a car accident two years ago — a woman named Sarah Whitlock. The letter that had started it all was meant for her. But fate had redirected it.</p>

<hr>

<p>As the months passed, the letters deepened. They spoke of grief, forgiveness, and the courage to begin again. Elena told him about her failed engagement, about the way silence can feel heavier than heartbreak. He told her how he still played the song Sarah had loved, though now it sounded like a prayer instead of a melody.</p>

<p>One evening, she received a shorter letter than usual. It read:</p>

<p><em>“E, I’m playing at The Lantern this Friday night. If you’re real — if you’re not just a voice the wind sent me — I’ll leave a seat by the window. Bring Orion with you.”</em></p>

<p>She didn’t decide until that very night. The Lantern was a small seaside bar, glowing with string lights and low laughter. On stage stood a man with dark hair, a worn guitar, and eyes that looked like he’d seen both storms and stars.</p>

<p>When he sang, Elena knew. Every word, every note, every letter had been leading here.</p>

<p>After the show, he approached her. “Elena?” he asked, voice trembling slightly.</p>

<p>She smiled. “You must be J.”</p>

<p>They stood in silence, the kind that doesn’t need filling. Outside, the night sky stretched wide and full of light. Above them, Orion’s belt burned brighter than ever.</p>

<hr>

<p>Years later, Elena would tell their story to her daughter — how a wrong letter found the right heart. The red mailbox still stood on the porch, paint chipped and full of memories. Sometimes she’d find her husband there, writing another letter just for her, smiling as if the universe still conspired in their favor.</p>

<p><em>“Dear E,” one of them read, “Thank you for answering a message that was never yours — and making it your own.”</em></p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>Letters Across the Sky</em> reminds us that love doesn’t always arrive how we expect — sometimes it’s a misdelivered letter, a quiet connection, or a stranger who writes exactly what your heart needs to hear. Destiny, after all, often hides inside life’s beautiful mistakes. 💌✨</p>

      <p class="end-note">— End of Story —</p>
    </main>

    <nav class="story-navigation">
      <a href="story253.html" class="nav-button prev">← Previous Story</a>
      <a href="story255.html" class="nav-button next">Next Story →</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
