<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Mapmaker‚Äôs Daughter</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Mapmaker‚Äôs Daughter</h1>
      <p class="meta">October 18, 2025 ‚Ä¢ By Noor Ainsley</p>
      <div class="tags">
        <span class="tag">wanderlust</span>
        <span class="tag">discovery</span>
        <span class="tag">legacy</span>
        <span class="tag">courage</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/182227780/photo/old-treasure-map.webp?a=1&b=1&s=612x612&w=0&k=20&c=Nde0QLxWYx1IceS8IJTMALneHM3hmLfzKm-kNsGZ7ts=" alt="An old map spread across a wooden desk, sunlight streaming through a ship‚Äôs cabin window, with the ocean glimmering beyond.">
    </header>

    <main class="story-content">
     <p><strong>Prologue:</strong> The last thing her father ever gave her was a map ‚Äî half-finished, its edges frayed, with a single note written in his delicate handwriting: <em>‚ÄúFind the rest.‚Äù</em></p>

<p>Amara Vale had grown up surrounded by maps. Her father, Edwin Vale, was one of the last great cartographers‚Äîa man who believed that the world could still surprise even those who had seen it all. But when he passed away unexpectedly in 2025, he left behind more than memories. He left behind an unfinished map marked with a strange symbol: a spiral drawn in the middle of the Indian Ocean.</p>

<p>Most would have dismissed it as an error or an obsession of an aging explorer. But Amara knew her father. Every line he drew meant something. So, she did the only thing she could‚Äîshe packed her bags, closed her small flat in Lisbon, and booked a one-way ticket east.</p>

<p><strong>Part I: The Journey Begins</strong></p>

<p>Her first stop was Cairo, where her father had once taught at the Geographical Institute. There, buried among dusty archives and forgotten journals, she found the first clue‚Äîa letter addressed to him from a fellow explorer named Idris Karim. It spoke of ‚ÄúThe Island That Moves,‚Äù a mythical place sailors had whispered about for centuries. The island, the letter said, appeared in different coordinates every decade, vanishing like a mirage.</p>

<p>Intrigued and unnerved, Amara traced her father‚Äôs old travel routes. From the deserts of Egypt to the spice markets of Zanzibar, she followed fragments of his life, piecing together memories and myths. Along the way, she met travelers who had known him‚Äîa French botanist who remembered his kindness, an old sailor who swore he‚Äôd seen the spiral island himself, and a child in Mombasa who carried one of his coins as a lucky charm.</p>

<p>Each encounter added another piece to her father‚Äôs puzzle, and slowly, the incomplete map began to make sense. The spiral wasn‚Äôt random‚Äîit was a trail, a pattern of islands forming an invisible circle across the ocean. Her father hadn‚Äôt just been drawing geography; he‚Äôd been drawing a secret.</p>

<p><strong>Part II: The Island That Moves</strong></p>

<p>Three months later, aboard a weathered cargo ship named *The Odyssey*, Amara stood on deck as lightning split the sky. The storm came suddenly, furious and unrelenting, as if the ocean itself wanted to test her resolve. The crew shouted in different languages, ropes whipped, and waves crashed higher than walls. But through it all, Amara held tight to her father‚Äôs map, now soaked and tearing at the edges.</p>

<p>Then, at dawn, the storm vanished. The ocean lay calm as glass‚Äîand there it was.</p>

<p>An island.</p>

<p>It wasn‚Äôt on any satellite, any known chart, but there it stood, wrapped in mist and birdsong. When she rowed ashore, she found ruins‚Äîancient stones carved with spirals identical to those on her father‚Äôs map. At the center of the island, on a stone altar, lay a weathered compass‚Äîhis compass. On its back, a small engraving: <em>‚ÄúEvery map leads home.‚Äù</em></p>

<p>She sat there for hours, understanding at last what he had meant. The map was never meant to lead her to treasure or discovery‚Äîit was meant to lead her back to herself, to the courage she had lost when he died. The moving island was a metaphor for life: always shifting, never fixed, and yet always calling those who dare to follow.</p>

<p><strong>Epilogue:</strong> When Amara returned home months later, she didn‚Äôt finish the map. She left it open-ended, with a blank space where the spiral had been. In her father‚Äôs old study, she hung it on the wall beside his instruments and journals. And every time she looked at it, she smiled‚Äîbecause some journeys aren‚Äôt meant to be completed. They‚Äôre meant to be lived.</p>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Mapmaker‚Äôs Daughter</em> is a story about legacy, exploration, and rediscovery. It reminds us that travel isn‚Äôt only about reaching new places‚Äîit‚Äôs about uncovering the unseen landscapes within ourselves. The world doesn‚Äôt stop changing, and neither should we. üåç‚ú®</p>

      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story123.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story125.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
