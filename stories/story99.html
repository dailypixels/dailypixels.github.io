<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>A Letter Through Time</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>A Letter Through Time</h1>
      <p class="meta">October 17, 2025 ‚Ä¢ By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">love</span>
        <span class="tag">time</span>
        <span class="tag">memory</span>
        <span class="tag">destiny</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1077839236/photo/vintage-table-and-some-paper-from-on-top.webp?a=1&b=1&s=612x612&w=0&k=20&c=tLc3kTnev0DeIIT6HnImbmSzrvEHHReVFmhhCZx1RUI=" alt="An antique wooden desk near an open window, sunlight spilling across yellowed paper and a fountain pen resting beside an unopened envelope.">
    </header>

    <main class="story-content">
     <p> The rain had just stopped when <em>Clara Hensley</em> stepped into the small antique shop at the corner of Willow and Main. The bell above the door chimed softly, its sound mingling with the scent of old wood and varnish. She wasn‚Äôt looking for anything in particular ‚Äî just a place to wander, to escape another quiet evening in her small apartment. </p>

<p> That‚Äôs when she saw it ‚Äî an oak writing desk, polished but aged, its surface marked with faint grooves of time. It felt oddly familiar, as if it had waited for her. She bought it without thinking and had it delivered that same afternoon. </p>

<p> As Clara began cleaning the drawers, her fingers brushed something tucked behind the bottom panel. A thin, yellowed envelope, sealed but fragile. The ink had faded, but the name on the front was unmistakable: <strong>‚ÄúTo Miss Clara Hensley.‚Äù</strong> </p>

<p> Her breath caught. The date read <em>March 12, 1955.</em> Seventy years ago ‚Äî long before she was born. Hands trembling, she opened it carefully. Inside was a letter written in elegant cursive:</p>

<p><em>‚ÄúMy dearest Clara,</em><br>
If this letter finds you, it means time has kept its promise. I do not know who you will be ‚Äî only that our souls will meet again, as they always have. I was born too early to love you properly, but I have built this desk so that one day, you will find what I could not say aloud. Love does not vanish, Clara. It waits. It remembers.‚Äù<br>
<em>‚Äî Yours always, Samuel</em></p>

<p> Clara stared at the words for a long time, her heart racing. She had never known a Samuel, but something in the letter stirred an ache deep within her ‚Äî a memory she couldn‚Äôt name. That night, she dreamed of another life ‚Äî a seaside town, a young carpenter with kind eyes, her laughter echoing in the wind. When she woke, her pillow was damp with tears. </p>

<p> Over the following weeks, she began researching. In the archives of the local museum, she found mention of a furniture craftsman named <em>Samuel Wren</em>, who had lived and died in the very town where she now lived. Among his creations listed for auction after his death: ‚ÄúOne custom-made oak writing desk, unsigned.‚Äù </p>

<p> Clara returned home, heart pounding. She opened the desk drawer again ‚Äî and beneath the false bottom, she found a second letter, written in the same hand. </p>

<p><em>‚ÄúIf you remember even a little of me, then the promise is fulfilled. Time does not move in one direction. Sometimes it circles back ‚Äî just enough for two hearts to touch once more. Look by the sea when the gulls cry. I will be there, as before.‚Äù</em></p>

<p> The next morning, Clara drove to the coast. The air was cool and bright, the waves whispering secrets only the heart could hear. She walked along the cliffs until she reached a small wooden bench overlooking the water. There, carved faintly into the side, was a name ‚Äî <strong>Samuel + Clara, 1954.</strong> </p>

<p> She sat there for hours, feeling the breeze brush her hair like a gentle hand. And for a moment ‚Äî just a flicker ‚Äî she thought she saw someone standing beside her, smiling softly, sunlight passing through him like memory turned to light. </p>

<p> When she blinked, he was gone. But on the bench beside her lay a fresh white feather, glimmering faintly in the wind. </p>

<p><strong>Meaning / Reflection:</strong><br>
*A Letter Through Time* is a story about the persistence of love beyond the limits of years and memory. It reminds us that some connections are written into the fabric of existence itself ‚Äî they find their way through walls, through lifetimes, through time. True love doesn‚Äôt end; it simply waits for its next chapter. üíåüï∞Ô∏è </p>

      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story98.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story100.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
