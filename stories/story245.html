<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Last Letter</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">â† Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Last Letter</h1>
      <p class="meta">October 19, 2025 â€¢ By Clara Jensen</p>
      <div class="tags">
        <span class="tag">family</span>
        <span class="tag">regret</span>
        <span class="tag">forgiveness</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/840841422/photo/sheet-of-blank-paper-lies-on-a-wooden-table-on-the-background-of-list-of-papers-and-burning.webp?a=1&b=1&s=612x612&w=0&k=20&c=7vcUh4i0HEJ7N5NhkMnyigidzxhWJIZclsBDCDpUS9o=" alt="An old wooden table with an unopened envelope, faded ink, and a flickering candle beside it.">
    </header>

    <main class="story-content">
      <p>The rain had been falling for three days when Thomas Everett found the letter.</p>

<p>It was tucked beneath his front door, soaked at the edges, the ink running like tears. The handwriting was unmistakable â€” neat, looping, the kind he hadnâ€™t seen in fifteen years. For a long time, he simply stared at it, his hands trembling above the paper. Then, slowly, he tore it open.</p>

<p><em>Dear Dad,</em><br>
<em>Iâ€™m not sure youâ€™ll even read this, but I needed to try. I used to think you left because of me. I donâ€™t know if thatâ€™s true anymore. Iâ€™m getting married next month â€” his nameâ€™s David â€” and I canâ€™t walk down that aisle without knowing if youâ€™re still alive. If you are, I want you to come. No one else needs to know. Just you and me.</em><br>
<em>â€” Emily</em></p>

<p>Thomas read the words again and again until the candle beside him burned out. The sound of rain filled the empty house, dripping through the holes in the roof, echoing off the walls heâ€™d never repaired. It had been fifteen years since heâ€™d seen her â€” the day he left after the argument with her mother, slamming the door so hard it broke the frame. He told himself heâ€™d come back once things calmed down. He never did.</p>

<hr>

<p>The next morning, Thomas took the old truck out of the shed. It coughed like a dying animal, but he coaxed it to life. He drove past the rusted mills and dead fields, through the town he once called home. Every street carried a memory: Emilyâ€™s bicycle on the corner, her laughter on summer mornings, the sound of her small feet running across the porch.</p>

<p>When he reached her address â€” written on the back of the letter â€” his heart thudded against his ribs. The house was white, with ivy crawling up the fence. Through the window, he saw her â€” older, with the same eyes as her motherâ€™s. She was holding a child on her hip, smiling down at someone unseen.</p>

<p>He couldnâ€™t move. Fifteen years of silence had turned into a wall he wasnâ€™t sure how to climb.</p>

<hr>

<p>He finally knocked. The door opened a moment later, and Emily froze. The child stopped babbling. Time itself seemed to stop.</p>

<p>â€œDad?â€ she whispered.</p>

<p>He nodded, unable to speak.</p>

<p>She stared for a long time, tears filling her eyes. â€œYou got my letter.â€</p>

<p>â€œI did.â€ His voice cracked. â€œEvery word.â€</p>

<p>â€œWhy now?â€</p>

<p>Thomas swallowed hard. â€œBecause it took me fifteen years to find the courage to deserve a second chance.â€</p>

<p>Emily looked at him, then at the child in her arms. â€œThis is Lily,â€ she said softly. â€œYour granddaughter.â€</p>

<p>Thomas reached out, his hand trembling. The little girl smiled, grabbing his finger with her tiny hand. In that single moment, something inside him broke â€” and something else healed.</p>

<hr>

<p>They sat in the kitchen for hours. He told her everything: the fear, the shame, the way heâ€™d watched her grow from afar through newspaper clippings her mother wrote for. She listened without interrupting. When he finished, she said quietly, â€œI hated you for a long time. But I never stopped hoping youâ€™d come back.â€</p>

<p>He nodded, tears blurring his vision. â€œI never stopped wanting to.â€</p>

<p>As the night deepened, she handed him another envelope â€” smaller, cleaner, this one with her handwriting but fresh ink.</p>

<p>â€œItâ€™s your invitation,â€ she said. â€œFor real this time.â€</p>

<p>Thomas took it, his chest aching. â€œYou still want me there?â€</p>

<p>â€œYes,â€ she said. â€œBut not as the man who left. As the man who came home.â€</p>

<hr>

<p>A week later, Thomas stood at the back of the small church. When the doors opened and Emily walked down the aisle, she paused midway to look at him. She smiled â€” not the smile of a daughter forgiving a father, but of two people finally finding peace.</p>

<p>For the first time in fifteen years, Thomas Everett felt the weight lift from his heart. The rain outside had stopped.</p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Last Letter</em> is a story of redemption and courage â€” a reminder that time can wound, but it can also heal. Sometimes, forgiveness isnâ€™t a single moment; itâ€™s a bridge built one word, one step, one return at a time. ğŸ’ŒğŸŒ§ï¸</p>


      <p class="end-note">â€” End of Story â€”</p>
    </main>

    <nav class="story-navigation">
      <a href="story244.html" class="nav-button prev">â† Previous Story</a>
      <a href="story246.html" class="nav-button next">Next Story â†’</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">â¤ï¸</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">ğŸ’¬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">âœ•</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent âœ…";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>Â© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
