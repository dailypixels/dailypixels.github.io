<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The House That Watched the Sea</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The House That Watched the Sea</h1>
      <p class="meta">April 2, 2025 ‚Ä¢ By Evelyn Moore</p>
      <div class="tags">
        <span class="tag">secrets</span>
        <span class="tag">time</span>
        <span class="tag">isolation</span>
      </div>
      <img 
        class="featured-image" 
        src="https://plus.unsplash.com/premium_photo-1669050702562-51f9b362e42e?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTd8fEFuJTIwb2xkJTIwc3RvbmUlMjBob3VzZSUyMHN0YW5kcyUyMGFsb25lJTIwb24lMjBhJTIwY2xpZmYlMjBhYm92ZSUyMGElMjByZXN0bGVzcyUyMG9jZWFuJTIwJUUyJTgwJTk0JTIwb25lJTIwd2luZG93JTIwYWx3YXlzJTIwbGl0JTJDJTIwZXZlbiUyMHdoZW4lMjBubyUyMG9uZSVFMiU4MCU5OXMlMjBpbnNpZGUufGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=500" 
        alt="An old stone house stands alone on a cliff above a restless ocean ‚Äî one window always lit, even when no one‚Äôs inside.">
    </header>

    <main class="story-content">
     <p> The train left her at the edge of nowhere. <br><br> <strong>Clara Elling</strong> stepped onto the deserted platform, clutching a letter stamped with a wax seal ‚Äî no return address, only the words: *‚ÄúFor the one who listens.‚Äù* The wind from the coast carried the faint cry of gulls and the salt of the sea. <br> The locals had warned her about the house on the cliff. ‚ÄúIt watches the sea,‚Äù they said. ‚ÄúAnd it listens back.‚Äù </p> <p> The house stood exactly as described ‚Äî weathered stone, broken shutters, a single window glowing faintly though she hadn‚Äôt yet turned on any lights. Inside, dust blanketed the furniture, yet the air felt strangely alive ‚Äî as if the walls were breathing. <br> On the mantle, she found a journal wrapped in oilcloth, dated *1874.* The first line read: *‚ÄúEvery night, the sea knocks once at the door.‚Äù* </p> <p> That night, Clara unpacked her typewriter and lit a lamp by the window facing the sea. At exactly midnight, she heard it ‚Äî one slow, deliberate knock at the front door. <br> She froze. When she opened it, no one stood there ‚Äî only the wind and the sound of waves. But on the threshold lay a single seashell, spiral-shaped and polished smooth, glinting like glass. </p> <p> The next evening, it happened again. One knock. One shell. <br> On the third night, she decided to wait by the door with the journal open in her hands. When the knock came, she whispered, ‚ÄúWho are you?‚Äù <br> A voice ‚Äî faint, almost like the sea itself ‚Äî answered through the wood: ‚ÄúYou‚Äôre the first to ask.‚Äù </p> <p> The journal entries grew stranger after that. The previous tenant, a lighthouse keeper named <em>Jonas Marek</em>, had written about hearing the same knock each night for 20 years. He believed the sea was calling him to confess something he had done ‚Äî or failed to do. His final entry read: *‚ÄúThe sea remembers what we bury.‚Äù* </p> <p> Clara searched the local archives the next morning. There had been no mention of Jonas Marek in any census, but she did find a report of a shipwreck ‚Äî *The Iris,* lost near the same cliffs in 1874. Twenty-seven souls aboard. One survivor: Jonas Marek, lighthouse keeper. He had never told anyone how he survived. </p> <p> That night, the sea knocked twice. Clara followed the sound outside to the cliff‚Äôs edge, where the moon turned the water silver. There, half-buried in sand, she found a rusted key tied to a tag: *‚ÄúBasement.‚Äù* <br> She hesitated only a moment before returning to the house and unlocking the trapdoor she‚Äôd thought was sealed shut. </p> <p> The air below was cold and damp. Shelves lined the walls, filled with glass jars ‚Äî each containing a seashell. She counted twenty-six. <br> When she picked one up, she heard faint whispers, like voices trapped in the hollow curve of the shell. And then she understood. Twenty-six souls from the shipwreck. The missing twenty-seventh‚Ä¶ was him. </p> <p> A wave crashed against the cliff so hard that the floor trembled. She ran upstairs as water seeped through the cracks of the old house. The sea had come knocking ‚Äî not once, not twice, but endlessly. And this time, it wanted to be heard. </p> <p> Clara opened all the windows. The wind roared through the halls. She gathered the jars and carried them outside, placing each one gently at the water‚Äôs edge. As the tide pulled them away, she whispered, ‚ÄúYou can go home now.‚Äù <br> When the last shell vanished beneath the waves, the house fell silent. For the first time, truly silent. </p> <p> The next morning, the villagers saw smoke rising from the cliff ‚Äî the old house had burned during the night. They said it was empty. But when the tide went out, a single seashell lay on the shore, with Clara‚Äôs name carved faintly inside. </p>
<p> <strong>Meaning / Reflection:</strong><br> *The House That Watched the Sea* reminds us that some truths echo until they are set free. The past does not disappear ‚Äî it whispers through the walls we live in, the places we return to, and the silences we keep. Only by listening ‚Äî truly listening ‚Äî can we let go of what haunts us. üåä </p>

      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story21.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story23.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
  <style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<script src="../js/storyFeatures.js"></script>

<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
