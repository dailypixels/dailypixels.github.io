<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Garden of Glass</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Garden of Glass</h1>
      <p class="meta">October 17, 2025 ‚Ä¢ By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">magic</span>
        <span class="tag">grief</span>
        <span class="tag">rebirth</span>
        <span class="tag">destiny</span>
      </div>
      <img class="featured-image" src="https://plus.unsplash.com/premium_photo-1732025157805-c5ccb9049fdd?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8QSUyMHZhc3QlMjBjcnlzdGFsJTIwZ2FyZGVuJTIwdW5kZXIlMjBhJTIwdHdpbGlnaHQlMjBza3klMkMlMjBlYWNoJTIwcGV0YWwlMjBzaGltbWVyaW5nJTIwbGlrZSUyMGZyb3plbiUyMGxpZ2h0JTIwd2hpbGUlMjBhJTIwbG9uZSUyMGZpZ3VyZSUyMHdhbGtzJTIwYmV0d2VlbiUyMG1pcnJvcnMlMjBvZiUyMGxpdmluZyUyMGdsYXNzLnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=500" alt="A vast crystal garden under a twilight sky, each petal shimmering like frozen light while a lone figure walks between mirrors of living glass.">
    </header>

    <main class="story-content">
      <p> In the forgotten city of *Aurevale*, where the river met the desert, lived a woman named <em>Lyra Senne</em>. She was a glassmaker ‚Äî not of bottles or windows, but of wonders. Her shop overflowed with crystal birds that sang when sunlight touched them, vases that bloomed with light, and mirrors that whispered faintly when no one was near. </p>

<p> Lyra had not spoken to anyone in years. Her husband, <em>Calen</em>, had vanished during a storm that swallowed half the city‚Äôs coast. Ever since, she had poured her grief into her craft, shaping the silence into shimmering forms. The townsfolk said her creations were too lifelike, as if souls lingered within them. </p>

<p> One moonless night, while repairing a cracked mirror, Lyra noticed something impossible. The reflection was wrong. Her workshop was empty ‚Äî but in the mirror‚Äôs depth, a figure stood, watching her. It was Calen. </p>

<p> She stumbled back, heart racing. The figure lifted a hand, and the mirror rippled like water. His voice, distant but tender, echoed through the glass. ‚ÄúThe world beyond is breaking, Lyra. You must come before it fades.‚Äù </p>

<p> Against all reason, she touched the surface. The mirror melted beneath her fingers, and she was pulled through. On the other side stretched a vast garden made entirely of glass ‚Äî trees of crystal, rivers of molten light, petals that rang like chimes when they fell. It was beautiful, but fragile. </p>

<p> Calen stood beneath a shining archway. ‚ÄúThis is the <em>Garden of Glass</em>,‚Äù he said. ‚ÄúThe place where lost souls go when the world forgets them. I built it for us, but it‚Äôs dying. Every time someone clings too long to sorrow, a piece of it fades.‚Äù </p>

<p> Lyra looked around. The sky itself was cracking, pieces of twilight shattering into dust. ‚ÄúThen let me help you fix it,‚Äù she said. </p>

<p> Together, they shaped new forms ‚Äî bridges of mirrored flame, flowers of breath and memory. Yet with every creation, Lyra felt her own body growing colder, more transparent. Calen‚Äôs smile grew fainter. ‚ÄúTo stay,‚Äù he whispered, ‚Äúyou must let go of the life waiting beyond the glass.‚Äù </p>

<p> She hesitated. Outside, there was nothing ‚Äî only her empty shop and the sea‚Äôs silence. But as she held Calen‚Äôs hand, she saw her reflection in his eyes: not the woman she had lost, but the woman she could become. </p>

<p> The next morning, the people of Aurevale found her workshop filled with light. The mirror that had cracked was whole again, though something shimmered behind it ‚Äî a vision of a garden alive with color. In the center, two figures stood hand in hand, their faces calm, their eyes eternal. </p>

<p> The townsfolk kept the mirror safe, saying that on quiet nights, when grief felt heavy, the glass hummed softly ‚Äî reminding them that love, even when it‚Äôs gone, leaves behind its own kind of magic. </p>

<p><strong>Meaning / Reflection:</strong><br>
*The Garden of Glass* is a story about healing and acceptance ‚Äî how beauty can be born from loss, and how love does not end, it transforms. Sometimes, we must break our reflection to see who we truly are. ü™û‚ú® </p>

      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story103.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story105.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
