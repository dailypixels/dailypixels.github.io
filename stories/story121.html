<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Carpenter‚Äôs Light</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Carpenter‚Äôs Light</h1>
      <p class="meta">October 18, 2025 ‚Ä¢ By Amara Wynne</p>
      <div class="tags">
        <span class="tag">purpose</span>
        <span class="tag">kindness</span>
        <span class="tag">legacy</span>
        <span class="tag">hope</span>
      </div>
      <img class="featured-image" src="https://plus.unsplash.com/premium_photo-1661738433375-c2f4c2c3b6b7?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8QSUyMHNtYWxsJTIwd29vZGVuJTIwd29ya3Nob3AlMjBnbG93aW5nJTIwaW4lMjB0aGUlMjBnb2xkZW4lMjBsaWdodCUyMG9mJTIwZGF3biUyQyUyMHRvb2xzJTIwbmVhdGx5JTIwYXJyYW5nZWQlMkMlMjBhbmQlMjBhJTIwaGFsZi1maW5pc2hlZCUyMGxhbnRlcm4lMjByZXN0aW5nJTIwb24lMjBhJTIwd29ya2JlbmNoLnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=500" alt="A small wooden workshop glowing in the golden light of dawn, tools neatly arranged, and a half-finished lantern resting on a workbench.">
    </header>

    <main class="story-content">
      <p>In the quiet town of <em>Willowmere</em>, an old carpenter named <strong>Samuel Reed</strong> lived at the edge of the valley. His workshop was filled with the scent of pine, varnish, and time ‚Äî hundreds of projects completed, and hundreds more half-finished. He had been building for fifty years, crafting everything from cradles to coffins. His hands were rough, his shoulders stooped, but his eyes still held the soft gleam of purpose.</p>

<p>When Samuel was young, he had dreamed of building something that would make his name known ‚Äî a cathedral ceiling, a great bridge, or even a clock tower. But life had other plans. Work came and went, and as the years passed, he found himself repairing fences, carving toys, and making simple furniture for his neighbors. He never became famous, but no one in Willowmere had ever gone without a chair, a door, or a table when they needed one.</p>

<p>One autumn morning, Samuel received a letter sealed with the town‚Äôs emblem. The council wanted to replace the old street lamps with electric ones, ending a tradition of wooden lamp posts that he had built decades ago. They asked him to help take them down ‚Äî to clear the way for progress.</p>

<p>Samuel nodded, though something in his heart sank. Those lamps were his first true work, carved by hand in the days when he still believed his craft could touch the world. That night, he walked the streets and looked at each lamp ‚Äî the scratches, the initials carved by lovers, the faint burn marks where children had lit sparklers beneath them. He realized they had carried more stories than he ever imagined.</p>

<p>When the workers arrived the next morning, Samuel stopped them. ‚ÄúLet me take them down myself,‚Äù he said. ‚ÄúOne last job.‚Äù The council agreed, and he began dismantling them carefully, one by one. But instead of burning or discarding the wood, Samuel carried each piece back to his workshop.</p>

<p>For weeks, he worked through the nights. The townsfolk wondered what he was doing ‚Äî the old man who could barely lift a hammer now stayed up past midnight, candlelight glowing from his windows. Children peeked through the glass but saw only his silhouette, carving and sanding, hour after hour.</p>

<p>On the first day of winter, Samuel placed a sign on his shop door: ‚ÄúFor the town.‚Äù Then, one by one, the villagers came inside.</p>

<p>There, hanging from the ceiling, were dozens of wooden lanterns, each carved from the lamp posts he had taken down. Each bore the name of a family, a story, or a memory from the town‚Äôs history. One had initials of lovers; another bore the marks of a fire long ago. Samuel had turned every lamp post into a lantern ‚Äî small enough to fit in a home, but bright enough to light a table.</p>

<p>‚ÄúYou built our lights again,‚Äù said one of the children, holding his lantern close.</p>

<p>Samuel smiled. ‚ÄúThey were never mine,‚Äù he said softly. ‚ÄúThey belonged to everyone who ever walked beneath them.‚Äù</p>

<p>That winter, the town glowed not from the new electric lamps, but from Samuel‚Äôs lanterns shining in every window. And when spring came, Samuel‚Äôs workshop stood quiet ‚Äî his tools neatly set aside, his apron hung on the wall, a single unfinished lantern resting on his bench.</p>

<p>The people of Willowmere lit it every year on the night of the first frost, calling it <em>The Carpenter‚Äôs Light</em> ‚Äî the night they remembered the man who taught them that even the smallest act of care can outlast time itself.</p>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Carpenter‚Äôs Light</em> is a story about legacy and quiet purpose. It reminds us that greatness doesn‚Äôt always roar in fame or wealth ‚Äî sometimes it glows softly, in kindness that ripples through others‚Äô lives. Every act of giving builds something eternal, even if our names fade. üå†</p>

      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story120.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story122.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
