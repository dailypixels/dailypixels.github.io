<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Black Ledger of Briar Street</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">← Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Black Ledger of Briar Street</h1>
      <p class="meta">November 1, 2025 • By Rowan Hale</p>
      <div class="tags">
        <span class="tag">Crime</span>
        <span class="tag">Detective Noir</span>
        <span class="tag">Psychological Thriller</span>
        <span class="tag">Hidden Evidence</span>
        <span class="tag">Corruption</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/2197694728/photo/life-still.webp?a=1&b=1&s=612x612&w=0&k=20&c=oCiKDHIviKoFE1EktJlzOnARZ7YEjNqzvN3a_OQPAhQ=" alt="A dusty wooden desk illuminated by a single lamp, scattered with torn notebook pages, a revolver, and a half-empty glass of whiskey beside an open black ledger filled with red-ink names.">
    </header>

    <main class="story-content">
   
<hr>

<p>The Briar Street precinct was unusually quiet that morning. Even the hum of the vending machine sounded cautious, as though it, too, knew something was wrong.</p> 
<p>Detective Mara Kessler leaned over the coroner’s report. The victim, Henry Lowell, city accountant for the last twelve years, was found dead behind a bolted door, gun in hand. The coroner called it suicide. Kessler called it impossible.</p>        
<p>Lowell’s death had no motive. No note. No struggle. Yet his final ledger was missing a single page — torn neatly, as if excised by purpose, not panic.</p> 
<p>The office smelled faintly of cigars and ink. Files lined the walls, each labeled by year and project. Kessler ran her finger along the shelves until one box caught her eye —<strong> Municipal Reinvestment Program, 2018.</strong> Inside, a smaller black notebook. Handwritten. No seal, no tag.</p> 
<p>She flipped it open.</p> 
<p>Names. Dozens of them. Judges. Businessmen. Two sitting council members. Next to each: amounts, dates, and one recurring symbol — a small red circle.</p> 
<p>She recognized the pattern. It was the same mark carved into Lowell’s desk beneath a film of dust.</p> 
<p>By nightfall, she had the notebook sealed in evidence. Her partner, Detective Harlan Pike, was skeptical.</p> 
<p>“You really think the accountant killed himself because of this?” he asked.</p> 
<p>“No,” Kessler replied. “I think someone killed him because he didn’t.”</p> 
<p>They met with Lowell’s assistant the next day, a nervous man named Tim Ward. He trembled as he spoke. “He said he was about to go public. He had proof of city-wide laundering. He said... he said the circle meant debt paid.”</p> 
<p>“Debt to who?”</p> 
<p>Ward shook his head. “He wouldn’t say. Only that the ledger’s owner had eyes in every office.”</p>        
<p>That night, someone broke into the evidence room. Cameras offline for nine minutes. The black ledger — gone.</p> 
<p>Pike was the one on shift. He claimed he saw nothing. Kessler didn’t believe him.</p> 
<p>She drove to his apartment. The lights were off, but his car was outside. The lock was broken.</p> 
<p>Inside, the smell of bleach and bourbon. Papers burned in the sink. On the counter — the missing page.</p> 
<p>It listed her name.</p> 
<p>Her badge number.</p> 
<p>The same red circle.</p> 
<p>A sound behind her — the click of a hammer being drawn back.</p> 
<p>Pike stood in the shadows, gun raised. “You weren’t supposed to find that,” he said quietly. “You were supposed to close the case and move on.”</p>
<p>“You’re in on it.”</p> 
<p>He shook his head. “We’re all in on it. That’s the point. You think you work for the city? You work within it. The ledger just tells you who owes who.”</p>        
<p>Kessler took a slow step back. “You killed him.”</p> 
<p>“I ended a problem,” Pike said. “You’re about to become one.”</p> 
<p>The next second erupted in gunfire.</p> 
<p>Two shots — one missed, one didn’t. Pike fell, his weapon clattering to the tiles.</p> 
<p>Kessler’s hand shook as she picked up the torn page. Blood smudged the red circle.</p> 
<p>In the following days, Pike’s death was ruled a line-of-duty casualty. The department praised her bravery. The case, once again, was closed.</p> 
<p>But the black ledger reappeared in her locker a week later, wrapped in newspaper.</p> 
<p>No fingerprints. No note. Only a new entry written at the end:</p> 
<p><strong>“Mara Kessler — debt pending.”</strong></p>
<p>She keeps it hidden in her apartment now, sealed in a box beneath the floorboards. Some nights, she swears she hears the pages turning on their own, as if new names are still being written in the dark.</p> 
<hr>


      <p class="end-note">— End of Story —</p>
    </main>

    <nav class="story-navigation">
      <a href="story299.html" class="nav-button prev">← Previous Story</a>
      <a href="story301.html" class="nav-button next">Next Story →</a>
    </nav>
  </article>

  <script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">❤️</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">💬</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">✕</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ✅";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
  <footer class="site-footer">
    <p>© <span id="year"></span> Daily Pixel. All rights reserved.</p>
  </footer>
</body>
</html>
