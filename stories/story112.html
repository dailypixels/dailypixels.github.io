<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Weaver of Starlight</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Weaver of Starlight</h1>
      <p class="meta">October 17, 2025 ‚Ä¢ By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">magic</span>
        <span class="tag">destiny</span>
        <span class="tag">light</span>
        <span class="tag">courage</span>
      </div>
      <img class="featured-image" src="https://images.unsplash.com/photo-1534379123277-8853f132516f?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTl8fEElMjB2YXN0JTIwbmlnaHQlMjBza3klMjBnbGl0dGVyaW5nJTIwd2l0aCUyMGNvbnN0ZWxsYXRpb25zJTIwc2hhcGVkJTIwbGlrZSUyMHdvdmVuJTIwdGhyZWFkcyUyQyUyMGFuZCUyMGElMjB5b3VuZyUyMGdpcmwlMjBzdGFuZGluZyUyMG9uJTIwYSUyMGNsaWZmJTJDJTIwaG9sZGluZyUyMGElMjBnb2xkZW4lMjBzcGluZGxlJTIwdGhhdCUyMGdsb3dzJTIwc29mdGx5JTIwaW4lMjB0aGUlMjBkYXJrLnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=500" alt="A vast night sky glittering with constellations shaped like woven threads, and a young girl standing on a cliff, holding a golden spindle that glows softly in the dark.">
    </header>

    <main class="story-content">
      <p>Long before kingdoms rose and fell, before the first dawn lit the mountains, there were the <em>Weavers of Starlight</em> ‚Äî guardians who stitched the night sky to keep the balance between light and shadow. Every thousand years, one was chosen to renew the tapestry of the heavens.</p>

<p>But when centuries passed without a new Weaver, the stars began to fade. Seasons faltered. Dreams dimmed. Hope waned.</p>

<p>In the quiet village of Mirenvale, a young seamstress named <em>Lira Wynn</em> worked by candlelight in a tiny attic. Her fingers were deft, her eyes patient, and her heart full of unspoken longing. Each night, she sewed gowns for nobles who never knew her name ‚Äî yet her stitches shimmered faintly, as though touched by moonlight itself.</p>

<p>One winter evening, a stranger entered her shop. Cloaked in silver dust, he placed a broken spindle on her table. ‚ÄúMend this,‚Äù he said. ‚ÄúIt belongs to the stars.‚Äù</p>

<p>Lira laughed nervously, thinking it a jest. But when she touched the spindle, her breath caught ‚Äî it was warm, pulsing with a faint hum like a heartbeat. In that instant, the candlelight flickered and the shadows bent around her. The stranger‚Äôs eyes gleamed. ‚ÄúThe heavens have chosen their Weaver,‚Äù he whispered. ‚ÄúYou must finish the pattern before the final star fades.‚Äù</p>

<p>That night, Lira dreamed of the sky unravelling ‚Äî threads of light snapping one by one, the world falling into endless twilight. She awoke trembling, clutching the spindle. There was no time to doubt.</p>

<p>She climbed to the highest hill beyond the valley, where the air shimmered thin as glass. As she lifted the spindle, threads of starlight descended ‚Äî soft, radiant, alive. Each thread carried a whisper: of joy, of sorrow, of life itself. Guided by instinct, Lira began to weave. Every movement of her hands mended a tear in the sky, every heartbeat rekindled a fading constellation.</p>

<p>But darkness stirred below ‚Äî the <em>Unravelers</em>, shadowed beings born from forgotten dreams. They hissed and writhed, clawing at the air. ‚ÄúLet it fade!‚Äù they shrieked. ‚ÄúLight breeds pain. Night brings peace!‚Äù</p>

<p>Lira hesitated. Her arms burned, her body weak. She saw her reflection in a thread of silver ‚Äî exhausted, trembling, alone. The Unravelers whispered cruelly, ‚ÄúNo one will remember you, girl of needles. Let it end.‚Äù</p>

<p>But then she remembered the faces of her village ‚Äî children chasing fireflies, elders telling stories by the hearth. They were imperfect, fragile, fleeting‚Ä¶ but alive. And she smiled through her tears.</p>

<p>‚ÄúIf no one remembers me,‚Äù she whispered, ‚Äúthen let the light remember them.‚Äù</p>

<p>With her final strength, she drove the spindle into the sky. It blazed like a newborn sun. The Unravelers screamed as dawn broke across the horizon, flooding the world with gold. Every star flared back to life ‚Äî brighter, stronger, woven anew by mortal hands.</p>

<p>When the villagers awoke, the sky above Mirenvale shimmered with a new constellation: a woman holding a needle of fire. They called it *The Seamstress of Stars.*</p>

<p>None knew her name. But whenever a child looked to the heavens and wished upon a star, the light flickered softly ‚Äî as if answering.</p>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Weaver of Starlight</em> is a story about quiet courage ‚Äî the kind that mends the world when no one is watching. It reminds us that even the smallest hands can repair what seems broken beyond hope, and that light, once shared, never truly fades. Every act of kindness, no matter how small, weaves another star into the fabric of the universe. ‚ú®ü™° </p>

      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story111.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story113.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
