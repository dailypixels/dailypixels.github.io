<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Song of the Silver Grove</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Song of the Silver Grove</h1>
      <p class="meta">March 20, 2025 ‚Ä¢ By Alaric Wynn</p>
      <div class="tags">
        <span class="tag">magic</span>
        <span class="tag">destiny</span>
        <span class="tag">courage</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/876274404/photo/astronaut-lost-in-fantasy-forest.webp?a=1&b=1&s=612x612&w=0&k=20&c=cFxIBRDCMbxwsF2CFRfY0BgipW7NP7BSgjgbMCtFp1s=" alt="A moonlit forest where silver leaves shimmer in the night breeze, with a lone figure standing before a glowing tree.">
    </header>

    <main class="story-content">
     <p>They said the Silver Grove sang only once every thousand years ‚Äî when the moonlight struck its heart just right, and the world stood still to listen. But to Elara, a young bard with trembling hands and a cracked lute, it was only a legend her grandmother whispered beside the fire.</p>

<p>Until the night the stars began to fall.</p>

<p>She found herself in the forest, drawn by a low hum that vibrated through her bones ‚Äî not sound, but memory. The trees glowed faintly, their silver leaves shivering as if in anticipation. At the grove‚Äôs center stood the Heartwood Tree, ancient and luminous, its roots coiled around a stone altar.</p>

<p>A voice ‚Äî clear, sorrowful ‚Äî echoed through the clearing. <em>‚ÄúChild of song, bearer of silence. Why have you come?‚Äù</em></p>

<p>Elara bowed her head. ‚ÄúBecause the world is dying,‚Äù she said. ‚ÄúThe rivers run black, the skies have forgotten blue, and every song I sing falls empty.‚Äù</p>

<p>The air thickened, and from the roots emerged a figure woven from bark and light ‚Äî the Guardian of the Grove. Its eyes glowed with centuries of wisdom and grief. <em>‚ÄúThe song of life has been broken,‚Äù</em> it said. <em>‚ÄúOnly the pure of heart can restore it. But know this ‚Äî to sing it, you must give what you cherish most.‚Äù</em></p>

<p>Elara‚Äôs hands tightened around her lute. ‚ÄúWhat must I give?‚Äù</p>

<p>The Guardian touched her chest. <em>‚ÄúYour voice.‚Äù</em></p>

<p>She staggered back. ‚ÄúMy voice is all I have.‚Äù</p>

<p>‚ÄúThen give it,‚Äù the Guardian said gently, ‚Äúand all may yet live.‚Äù</p>

<p>Elara looked around her ‚Äî at the shimmering forest, the faint echoes of songs that once filled the air. She thought of her grandmother, of the stories that had kept hope alive when the world grew cold. With trembling fingers, she raised her lute and began to play.</p>

<p>The first note was small, fragile ‚Äî then the forest answered. Light spiraled from the trees, dancing through the branches as her melody rose higher, weaving through the stars themselves. Her voice followed ‚Äî pure, radiant ‚Äî until it cracked the night apart like dawn.</p>

<p>The earth quaked. The Heartwood Tree began to bloom, its petals unfolding like silver fire. Rivers ran clear once more, the skies bled blue, and the stars burned anew.</p>

<p>When the final chord faded, Elara fell to her knees, her voice gone ‚Äî but the grove sang in her place. Every leaf whispered her name. The Guardian knelt before her, placing a single silver blossom in her hands.</p>

<p>‚ÄúYou have restored the Song,‚Äù it said. ‚ÄúAnd though your voice is silent, the world will never forget its echo.‚Äù</p>

<p>Years later, travelers who passed through the Silver Grove spoke of a soft hum carried on the wind ‚Äî the sound of a girl‚Äôs song, keeping the forest alive.</p>

<hr>

<p><strong>Meaning / Reflection:</strong><br>
<em>The Song of the Silver Grove</em> is a story about selflessness, legacy, and the courage to create even when it costs everything. It reminds us that true art ‚Äî like love ‚Äî often asks for sacrifice, but its echo can heal what words alone never could. üåôüé∂</p>


      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story218.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story220.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
