<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Lanterns of Aurelion</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <a class="back-link" href="../index.html">‚Üê Back to Stories</a>
  <article class="story-page">
    <header class="story-header">
      <h1>The Lanterns of Aurelion</h1>
      <p class="meta">October 23, 2025 ‚Ä¢ By Rayan Elwood</p>
      <div class="tags">
        <span class="tag">magic</span>
        <span class="tag">destiny</span>
        <span class="tag">light</span>
      </div>
      <img class="featured-image" src="https://media.istockphoto.com/id/1962212340/photo/flying-lanterns-in-the-sea.webp?a=1&b=1&s=612x612&w=0&k=20&c=5kqe9GY5kcxrllNrryZV_RJLaWNgAFvJb5x9y5Nkz3g=" alt="A vast cliffside city suspended in twilight ‚Äî thousands of golden lanterns drifting upward into the starlit sky, each carrying a whisper from the living to the lost.">
    </header>

    <main class="story-content">
      <p> They said the city floated because it refused to fall. Aurelion shimmered above the clouds ‚Äî a city carved from moonstone and glass, anchored only by ancient light. At night, its lanterns burned brighter than the stars themselves, each one lit for a soul that had crossed into the eternal horizon. </p> <p> Every hundred years, the city held the *Ceremony of Ascent* ‚Äî when a thousand new lanterns would rise, carrying the last whispers of those ready to be remembered. It was the most sacred of nights. And this year, for the first time, it was *Elara‚Äôs* turn to light the flame. </p> <p> Elara was an apprentice of the Luminar Guild ‚Äî keepers of the ancient fires that powered both life and memory. She had grown up among the forges and crystal halls, learning how to bind soullight into glass. Her mentor, Master Cyran, had always told her, ‚ÄúEach flame remembers its maker. Treat it gently, and it will never fade.‚Äù </p> <p> But tonight, as the moon climbed and the crowd gathered, something went wrong. The first lantern rose ‚Äî then faltered, flickering mid-air. The next dimmed before it left the ground. One by one, the lights began to fade until the sky, instead of glowing gold, turned utterly dark. A murmur spread through the city like cold wind. ‚ÄúThe light is dying,‚Äù someone whispered. </p> <p> The High Luminars searched their runes and relics but found no answer. They declared the ceremony over. But Elara couldn‚Äôt accept that. She felt it deep in her chest ‚Äî the light wasn‚Äôt gone; it was *calling*. </p> <p> That night, she followed the dim trails of the extinguished lanterns to the city‚Äôs lowest tier ‚Äî where no one went anymore. The air was heavy with mist, and beneath the great floating platforms she saw what no one had seen in centuries: shadows of other cities ‚Äî fallen, forgotten, buried in the clouds. </p> <p> At the heart of the ruins, she found a single lantern still glowing faintly ‚Äî unlike any she had ever seen. Inside it burned not golden light but blue ‚Äî soft, sorrowful, alive. When she touched it, visions flooded her mind: a world below the clouds, once full of laughter and rivers, now silent and drowned in mist. She saw Aurelion itself ‚Äî not floating upward, but *rising in escape*. </p> <p> The truth struck her ‚Äî the city had not been born from divine magic; it had fled from its own dying world. The lanterns, every one of them, were souls left behind ‚Äî the memories of the earth that had perished beneath. The light that powered Aurelion came not from the stars, but from the grief of its past. </p> <p> Elara carried the blue lantern back to the city square and placed it before the crowd. ‚ÄúWe‚Äôve taken too long to remember,‚Äù she said. ‚ÄúThese lights won‚Äôt rise until we give them peace.‚Äù The elders argued ‚Äî no one wanted to believe. But when she lifted the lantern high, its glow spread through every other flame, turning the city sky deep azure ‚Äî the color of dawn before rebirth. </p> <p> Slowly, the lanterns began to lift again ‚Äî not forced, not summoned, but freed. Each rose like a soul forgiven, each trail a promise kept. The city itself trembled, then steadied, not from power, but from balance restored. </p> <p> When the last light disappeared into the clouds, Aurelion shone brighter than it had in ages. Elara stood alone at the edge of the sky, her reflection glowing faintly in the wind. The blue lantern still burned beside her. She whispered, ‚ÄúRest now,‚Äù and for a moment, she thought she heard the earth breathe again. </p> <p> The next morning, the first flower in centuries bloomed on the city‚Äôs lower tiers ‚Äî a small white petal growing from stone. And from that day on, the people of Aurelion didn‚Äôt just light lanterns for the dead. They lit them for the living ‚Äî to remember what must never be forgotten again. </p>
<p><strong>Meaning / Reflection:</strong><br> *The Lanterns of Aurelion* is a reminder that memory is not just about honoring what‚Äôs gone ‚Äî it‚Äôs about healing what remains. The light we carry forward is only pure when it remembers both joy and sorrow. In every act of remembrance, we lift not only others, but also ourselves. üåô‚ú® </p>
      <p class="end-note">‚Äî End of Story ‚Äî</p>
    </main>

    <nav class="story-navigation">
      <a href="story59.html" class="nav-button prev">‚Üê Previous Story</a>
      <a href="story61.html" class="nav-button next">Next Story ‚Üí</a>
    </nav>
  </article>
<script src="../js/storyFeatures.js"></script>
<style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      margin: 0;
      background: #fff;
    }

    /* Like + Comment Floating Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 22px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 12px;
      z-index: 1000;
    }

    .float-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #111;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
    }

    .float-btn:hover {
      transform: scale(1.1);
      background: #f5f5f5;
    }

    .float-btn.liked {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      color: white;
      box-shadow: 0 4px 12px rgba(34,197,94,0.4);
    }

    /* Like Count */
    .like-count {
      position: absolute;
      bottom: -18px;
      right: 15px;
      font-size: 0.8rem;
      color: #555;
      font-family: sans-serif;
    }

    /* Comment Popup */
    .comment-popup {
      position: fixed;
      bottom: -100%;
      left: 0;
      width: 100%;
      max-height: 85%;
      background: #fff;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -6px 20px rgba(0,0,0,0.25);
      padding: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      transition: bottom 0.4s ease;
    }

    .comment-popup.active {
      bottom: 0;
    }

    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }

    .close-popup {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: #666;
    }

    .comments-list {
      flex: 1;
      overflow-y: auto;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comment-item {
      background: #f9fafb;
      padding: 10px 14px;
      border-radius: 12px;
      font-family: sans-serif;
      font-size: 0.95rem;
      line-height: 1.4;
      border: 1px solid #eee;
    }

    .comment-item strong {
      display: block;
      margin-bottom: 4px;
      color: #111;
      font-size: 0.95rem;
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
      margin-top: 12px;
    }

    .comment-form input,
    .comment-form textarea {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      font-family: sans-serif;
      font-size: 0.95rem;
      width: 100%;
      resize: none;
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .comment-form input:focus,
    .comment-form textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.15);
    }

    .comment-form button {
      align-self: flex-start;
      background: linear-gradient(90deg, #2563eb, #1d4ed8);
      color: white;
      border: none;
      border-radius: 40px;
      padding: 8px 22px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(37,99,235,0.3);
    }

    .comment-form button:hover {
      transform: scale(1.05);
    }

    .comment-form button.sent {
      background: linear-gradient(90deg, #22c55e, #16a34a);
      box-shadow: 0 4px 10px rgba(34,197,94,0.4);
      cursor: default;
      transform: none;
    }

    /* Scrollbar */
    .comments-list::-webkit-scrollbar {
      width: 6px;
    }
    .comments-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .float-btn {
        width: 48px;
        height: 48px;
        font-size: 1.2rem;
      }
      .comment-popup {
        padding: 16px;
      }
    }
  </style>
<!-- Floating Like + Comment Buttons -->
  <div class="floating-buttons">
    <div style="position: relative;">
      <button class="float-btn" id="likeBtn">‚ù§Ô∏è</button>
      <span class="like-count" id="likeCount">0</span>
    </div>
    <button class="float-btn" id="commentBtn">üí¨</button>
  </div>

  <!-- Comment Popup -->
  <div class="comment-popup" id="commentPopup">
    <div class="popup-header">
      <span>Comments</span>
      <button class="close-popup" id="closePopup">‚úï</button>
    </div>

    <div class="comments-list" id="commentsList"></div>

    <form class="comment-form" action="https://formspree.io/f/xkgvkele" method="POST" id="commentForm">
      <input type="text" id="name" name="name" placeholder="Your name" required />
      <textarea id="comment" name="comment" placeholder="Write a comment..." required></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>
  </div>

<script>
    /* ---------------- LIKE SYSTEM ---------------- */
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");

    const storyKey = location.pathname.split("/").pop();
    const likedKey = `liked_${storyKey}`;
    const countKey = `likeCount_${storyKey}`;

    let liked = localStorage.getItem(likedKey) === "true";
    let count = parseInt(localStorage.getItem(countKey));

    if (isNaN(count)) {
      count = Math.floor(15 + Math.random() * 50);
      localStorage.setItem(countKey, count);
    }

    updateLikeUI();

    likeBtn.addEventListener("click", () => {
      liked = !liked;
      count = liked ? count + 1 : Math.max(0, count - 1);
      localStorage.setItem(likedKey, liked);
      localStorage.setItem(countKey, count);
      updateLikeUI();
    });

    function updateLikeUI() {
      likeBtn.classList.toggle("liked", liked);
      likeCount.textContent = count;
    }

    /* ---------------- COMMENT POPUP ---------------- */
    const commentBtn = document.getElementById("commentBtn");
    const commentPopup = document.getElementById("commentPopup");
    const closePopup = document.getElementById("closePopup");
    const commentsList = document.getElementById("commentsList");
    const commentForm = document.getElementById("commentForm");
    const sendBtn = document.getElementById("sendBtn");

    commentBtn.addEventListener("click", () => {
      commentPopup.classList.add("active");
    });

    closePopup.addEventListener("click", () => {
      commentPopup.classList.remove("active");
    });

    /* Load saved comments */
    const commentsKey = `comments_${storyKey}`;
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    renderComments();

    function renderComments() {
      commentsList.innerHTML = comments.length
        ? comments.map(c => `<div class="comment-item"><strong>${c.name}</strong>${c.text}</div>`).join("")
        : `<p style="color:#777;font-family:sans-serif;font-size:0.9rem;">No comments yet.</p>`;
    }

    /* Submit comment */
    commentForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const text = document.getElementById("comment").value.trim();
      if (!name || !text) return;

      // Save locally
      comments.push({ name, text });
      localStorage.setItem(commentsKey, JSON.stringify(comments));
      renderComments();

      // Send to Formspree
      const formData = new FormData(commentForm);
      const action = commentForm.getAttribute("action");

      try {
        const res = await fetch(action, { method: "POST", body: formData, headers: { 'Accept': 'application/json' } });
        if (res.ok) {
          sendBtn.textContent = "Sent ‚úÖ";
          sendBtn.classList.add("sent");
          sendBtn.disabled = true;
          commentForm.reset();
          setTimeout(() => {
            sendBtn.textContent = "Send";
            sendBtn.classList.remove("sent");
            sendBtn.disabled = false;
          }, 2000);
        }
      } catch {
        alert("Connection failed. Please try again.");
      }
    });
  </script>
<footer class="site-footer">
  <p>¬© <span id="year"></span> Daily Pixel. All rights reserved.</p>
</footer>

</body>
</html>
